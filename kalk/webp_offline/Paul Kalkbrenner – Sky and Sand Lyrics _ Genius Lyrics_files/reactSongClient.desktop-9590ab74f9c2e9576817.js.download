/*! For license information please see reactSongClient.desktop-9590ab74f9c2e9576817.js.LICENSE.txt */
!function(e){function t(t){for(var r,i,c=t[0],l=t[1],u=t[2],f=0,d=[];f<c.length;f++)i=c[f],o[i]&&d.push(o[i][0]),o[i]=0;for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&(e[r]=l[r]);for(s&&s(t);d.length;)d.shift()();return a.push.apply(a,u||[]),n()}function n(){for(var e,t=0;t<a.length;t++){for(var n=a[t],r=!0,c=1;c<n.length;c++){var l=n[c];0!==o[l]&&(r=!1)}r&&(a.splice(t--,1),e=i(i.s=n[0]))}return e}var r={},o={15:0},a=[];function i(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.e=function(e){var t=[],n=o[e];if(0!==n)if(n)t.push(n[2]);else{var r=new Promise((function(t,r){n=o[e]=[t,r]}));t.push(n[2]=r);var a,c=document.createElement("script");c.charset="utf-8",c.timeout=120,i.nc&&c.setAttribute("nonce",i.nc),c.src=function(e){return i.p+""+({3:"reactGsap.desktop",4:"filestack.desktop",7:"reactDatepicker.desktop",8:"reactDatepickerCSS.desktop",13:"reactMixpanel.desktop",14:"reactPusher.desktop"}[e]||e)+"-"+{3:"0dac560f600b65372ca7",4:"2372ef72d249670391c5",7:"b1b378b15c92368b95ab",8:"68d68adbc71dfee4a9fa",13:"5fe8ee2f5f16e4ed56a6",14:"a22e853cd1ebafb3ef5c"}[e]+".js"}(e),a=function(t){c.onerror=c.onload=null,clearTimeout(l);var n=o[e];if(0!==n){if(n){var r=t&&("load"===t.type?"missing":t.type),a=t&&t.target&&t.target.src,i=new Error("Loading chunk "+e+" failed.\n("+r+": "+a+")");i.type=r,i.request=a,n[1](i)}o[e]=void 0}};var l=setTimeout((function(){a({type:"timeout",target:c})}),12e4);c.onerror=c.onload=a,document.head.appendChild(c)}return Promise.all(t)},i.m=e,i.c=r,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="https://assets.genius.com/javascripts/compiled/",i.oe=function(e){throw console.error(e),e};var c=window.webpackJsonp=window.webpackJsonp||[],l=c.push.bind(c);c.push=t,c=c.slice();for(var u=0;u<c.length;u++)t(c[u]);var s=l;a.push([973,0,2,1]),n()}([,,,,,,,,,,,,,,,function(e,t,n){"use strict";var r=n(17),o=n(16);var a=n(77);function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}var c=n(193),l=n.n(c),u=n(61),s=n(62),f=n(63),d=n(65),p=n(0),m=n(43);function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){h(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function y(e){return y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},y(e)}function v(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function O(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=y(e);if(t){var o=y(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return v(this,n)}}n.d(t,"a",(function(){return M})),n.d(t,"b",(function(){return j})),n.d(t,"c",(function(){return Pe})),n.d(t,"d",(function(){return I})),n.d(t,"e",(function(){return E})),n.d(t,"f",(function(){return P})),n.d(t,"g",(function(){return w})),n.d(t,"h",(function(){return x})),n.d(t,"i",(function(){return q})),n.d(t,"j",(function(){return O})),n.d(t,"k",(function(){return b})),n.d(t,"l",(function(){return se})),n.d(t,"m",(function(){return Te})),n.d(t,"n",(function(){return J})),n.d(t,"o",(function(){return ge})),n.d(t,"p",(function(){return ue})),n.d(t,"q",(function(){return be})),n.d(t,"r",(function(){return ye})),n.d(t,"s",(function(){return te})),n.d(t,"t",(function(){return fe})),n.d(t,"u",(function(){return ve})),n.d(t,"v",(function(){return pe})),n.d(t,"w",(function(){return Q})),n.d(t,"x",(function(){return V})),n.d(t,"y",(function(){return W})),n.d(t,"z",(function(){return Z})),n.d(t,"A",(function(){return we})),n.d(t,"B",(function(){return _e})),n.d(t,"C",(function(){return F})),n.d(t,"D",(function(){return je})),n.d(t,"E",(function(){return $})),n.d(t,"F",(function(){return Se})),n.d(t,"G",(function(){return ke})),n.d(t,"H",(function(){return Ae})),n.d(t,"I",(function(){return ee})),n.d(t,"J",(function(){return N}));var w=function(){};function _(e,t){return t?"-"===t[0]?e+t:e+"__"+t:e}function j(e,t,n){var r=[n];if(t&&e)for(var o in t)t.hasOwnProperty(o)&&t[o]&&r.push("".concat(_(e,o)));return r.filter((function(e){return e})).map((function(e){return String(e).trim()})).join(" ")}var E=function(e){return Array.isArray(e)?e.filter(Boolean):"object"===i(e)&&null!==e?[e]:[]},C=function(e){return e.className,e.clearValue,e.cx,e.getStyles,e.getValue,e.hasValue,e.isMulti,e.isRtl,e.options,e.selectOption,e.selectProps,e.setValue,e.theme,b({},Object(a.a)(e,["className","clearValue","cx","getStyles","getValue","hasValue","isMulti","isRtl","options","selectOption","selectProps","setValue","theme"]))};function x(e,t,n){if(n){var r=n(e,t);if("string"==typeof r)return r}return e}function I(e){return[document.documentElement,document.body,window].indexOf(e)>-1}function S(e){return I(e)?window.pageYOffset:e.scrollTop}function k(e,t){I(e)?window.scrollTo(0,t):e.scrollTop=t}function A(e,t,n,r){return n*((e=e/r-1)*e*e+1)+t}function T(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:200,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:w,o=S(e),a=t-o,i=10,c=0;function l(){var t=A(c+=i,o,a,n);k(e,t),c<n?window.requestAnimationFrame(l):r(e)}l()}function P(e,t){var n=e.getBoundingClientRect(),r=t.getBoundingClientRect(),o=t.offsetHeight/3;r.bottom+o>n.bottom?k(e,Math.min(t.offsetTop+t.clientHeight-e.offsetHeight+o,e.scrollHeight)):r.top-o<n.top&&k(e,Math.max(t.offsetTop-o,0))}function N(){try{return document.createEvent("TouchEvent"),!0}catch(e){return!1}}function M(){try{return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}catch(e){return!1}}var R=!1,L={get passive(){return R=!0}},D="undefined"!=typeof window?window:{};D.addEventListener&&D.removeEventListener&&(D.addEventListener("p",w,L),D.removeEventListener("p",w,!1));var F=R;function z(e){var t=e.maxHeight,n=e.menuEl,r=e.minHeight,o=e.placement,a=e.shouldScroll,i=e.isFixedPosition,c=e.theme.spacing,l=function(e){var t=getComputedStyle(e),n="absolute"===t.position,r=/(auto|scroll)/,o=document.documentElement;if("fixed"===t.position)return o;for(var a=e;a=a.parentElement;)if(t=getComputedStyle(a),(!n||"static"!==t.position)&&r.test(t.overflow+t.overflowY+t.overflowX))return a;return o}(n),u={placement:"bottom",maxHeight:t};if(!n||!n.offsetParent)return u;var s=l.getBoundingClientRect().height,f=n.getBoundingClientRect(),d=f.bottom,p=f.height,m=f.top,h=n.offsetParent.getBoundingClientRect().top,g=window.innerHeight,b=S(l),y=parseInt(getComputedStyle(n).marginBottom,10),v=parseInt(getComputedStyle(n).marginTop,10),O=h-v,w=g-m,_=O+b,j=s-b-m,E=d-g+b+y,C=b+m-v,x=160;switch(o){case"auto":case"bottom":if(w>=p)return{placement:"bottom",maxHeight:t};if(j>=p&&!i)return a&&T(l,E,x),{placement:"bottom",maxHeight:t};if(!i&&j>=r||i&&w>=r)return a&&T(l,E,x),{placement:"bottom",maxHeight:i?w-y:j-y};if("auto"===o||i){var I=t,A=i?O:_;return A>=r&&(I=Math.min(A-y-c.controlHeight,t)),{placement:"top",maxHeight:I}}if("bottom"===o)return a&&k(l,E),{placement:"bottom",maxHeight:t};break;case"top":if(O>=p)return{placement:"top",maxHeight:t};if(_>=p&&!i)return a&&T(l,C,x),{placement:"top",maxHeight:t};if(!i&&_>=r||i&&O>=r){var P=t;return(!i&&_>=r||i&&O>=r)&&(P=i?O-v:_-v),a&&T(l,C,x),{placement:"top",maxHeight:P}}return{placement:"bottom",maxHeight:t};default:throw new Error('Invalid placement provided "'.concat(o,'".'))}return u}var B=function(e){return"auto"===e?"bottom":e},V=function(e){var t,n=e.placement,r=e.theme,o=r.borderRadius,a=r.spacing,i=r.colors;return t={label:"menu"},Object(d.a)(t,function(e){return e?{bottom:"top",top:"bottom"}[e]:"bottom"}(n),"100%"),Object(d.a)(t,"backgroundColor",i.neutral0),Object(d.a)(t,"borderRadius",o),Object(d.a)(t,"boxShadow","0 0 0 1px hsla(0, 0%, 0%, 0.1), 0 4px 11px hsla(0, 0%, 0%, 0.1)"),Object(d.a)(t,"marginBottom",a.menuGutter),Object(d.a)(t,"marginTop",a.menuGutter),Object(d.a)(t,"position","absolute"),Object(d.a)(t,"width","100%"),Object(d.a)(t,"zIndex",1),t},H=Object(p.createContext)({getPortalPlacement:null}),q=function(e){Object(f.a)(n,e);var t=O(n);function n(){var e;Object(u.a)(this,n);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return(e=t.call.apply(t,[this].concat(o))).state={maxHeight:e.props.maxMenuHeight,placement:null},e.getPlacement=function(t){var n=e.props,r=n.minMenuHeight,o=n.maxMenuHeight,a=n.menuPlacement,i=n.menuPosition,c=n.menuShouldScrollIntoView,l=n.theme;if(t){var u="fixed"===i,s=z({maxHeight:o,menuEl:t,minHeight:r,placement:a,shouldScroll:c&&!u,isFixedPosition:u,theme:l}),f=e.context.getPortalPlacement;f&&f(s),e.setState(s)}},e.getUpdatedProps=function(){var t=e.props.menuPlacement,n=e.state.placement||B(t);return b(b({},e.props),{},{placement:n,maxHeight:e.state.maxHeight})},e}return Object(s.a)(n,[{key:"render",value:function(){return(0,this.props.children)({ref:this.getPlacement,placerProps:this.getUpdatedProps()})}}]),n}(p.Component);q.contextType=H;var W=function(e){var t=e.maxHeight,n=e.theme.spacing.baseUnit;return{maxHeight:t,overflowY:"auto",paddingBottom:n,paddingTop:n,position:"relative",WebkitOverflowScrolling:"touch"}},U=function(e){var t=e.theme,n=t.spacing.baseUnit;return{color:t.colors.neutral40,padding:"".concat(2*n,"px ").concat(3*n,"px"),textAlign:"center"}},$=U,Q=U,G=function(e){var t=e.children,n=e.className,a=e.cx,i=e.getStyles,c=e.innerProps;return Object(o.c)("div",Object(r.a)({css:i("noOptionsMessage",e),className:a({"menu-notice":!0,"menu-notice--no-options":!0},n)},c),t)};G.defaultProps={children:"No options"};var Y=function(e){var t=e.children,n=e.className,a=e.cx,i=e.getStyles,c=e.innerProps;return Object(o.c)("div",Object(r.a)({css:i("loadingMessage",e),className:a({"menu-notice":!0,"menu-notice--loading":!0},n)},c),t)};Y.defaultProps={children:"Loading..."};var K,Z=function(e){var t=e.rect,n=e.offset,r=e.position;return{left:t.left,position:r,top:n,width:t.width,zIndex:1}},X=function(e){Object(f.a)(n,e);var t=O(n);function n(){var e;Object(u.a)(this,n);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return(e=t.call.apply(t,[this].concat(o))).state={placement:null},e.getPortalPlacement=function(t){var n=t.placement;n!==B(e.props.menuPlacement)&&e.setState({placement:n})},e}return Object(s.a)(n,[{key:"render",value:function(){var e=this.props,t=e.appendTo,n=e.children,a=e.className,i=e.controlElement,c=e.cx,l=e.innerProps,u=e.menuPlacement,s=e.menuPosition,f=e.getStyles,d="fixed"===s;if(!t&&!d||!i)return null;var p=this.state.placement||B(u),h=function(e){var t=e.getBoundingClientRect();return{bottom:t.bottom,height:t.height,left:t.left,right:t.right,top:t.top,width:t.width}}(i),g=d?0:window.pageYOffset,b={offset:h[p]+g,position:s,rect:h},y=Object(o.c)("div",Object(r.a)({css:f("menuPortal",b),className:c({"menu-portal":!0},a)},l),n);return Object(o.c)(H.Provider,{value:{getPortalPlacement:this.getPortalPlacement}},t?Object(m.createPortal)(y,t):y)}}]),n}(p.Component),J=function(e){var t=e.isDisabled;return{label:"container",direction:e.isRtl?"rtl":null,pointerEvents:t?"none":null,position:"relative"}},ee=function(e){var t=e.theme.spacing;return{alignItems:"center",display:"flex",flex:1,flexWrap:"wrap",padding:"".concat(t.baseUnit/2,"px ").concat(2*t.baseUnit,"px"),WebkitOverflowScrolling:"touch",position:"relative",overflow:"hidden"}},te=function(){return{alignItems:"center",alignSelf:"stretch",display:"flex",flexShrink:0}};var ne,re,oe={name:"8mmkcg",styles:"display:inline-block;fill:currentColor;line-height:1;stroke:currentColor;stroke-width:0"},ae=function(e){var t=e.size,n=Object(a.a)(e,["size"]);return Object(o.c)("svg",Object(r.a)({height:t,width:t,viewBox:"0 0 20 20","aria-hidden":"true",focusable:"false",css:oe},n))},ie=function(e){return Object(o.c)(ae,Object(r.a)({size:20},e),Object(o.c)("path",{d:"M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"}))},ce=function(e){return Object(o.c)(ae,Object(r.a)({size:20},e),Object(o.c)("path",{d:"M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"}))},le=function(e){var t=e.isFocused,n=e.theme,r=n.spacing.baseUnit,o=n.colors;return{label:"indicatorContainer",color:t?o.neutral60:o.neutral20,display:"flex",padding:2*r,transition:"color 150ms",":hover":{color:t?o.neutral80:o.neutral40}}},ue=le,se=le,fe=function(e){var t=e.isDisabled,n=e.theme,r=n.spacing.baseUnit,o=n.colors;return{label:"indicatorSeparator",alignSelf:"stretch",backgroundColor:t?o.neutral10:o.neutral20,marginBottom:2*r,marginTop:2*r,width:1}},de=Object(o.d)(K||(ne=["\n  0%, 80%, 100% { opacity: 0; }\n  40% { opacity: 1; }\n"],re||(re=ne.slice(0)),K=Object.freeze(Object.defineProperties(ne,{raw:{value:Object.freeze(re)}})))),pe=function(e){var t=e.isFocused,n=e.size,r=e.theme,o=r.colors,a=r.spacing.baseUnit;return{label:"loadingIndicator",color:t?o.neutral60:o.neutral20,display:"flex",padding:2*a,transition:"color 150ms",alignSelf:"center",fontSize:n,lineHeight:1,marginRight:n,textAlign:"center",verticalAlign:"middle"}},me=function(e){var t=e.delay,n=e.offset;return Object(o.c)("span",{css:Object(o.b)({animation:"".concat(de," 1s ease-in-out ").concat(t,"ms infinite;"),backgroundColor:"currentColor",borderRadius:"1em",display:"inline-block",marginLeft:n?"1em":null,height:"1em",verticalAlign:"top",width:"1em"},"","")})},he=function(e){var t=e.className,n=e.cx,a=e.getStyles,i=e.innerProps,c=e.isRtl;return Object(o.c)("div",Object(r.a)({css:a("loadingIndicator",e),className:n({indicator:!0,"loading-indicator":!0},t)},i),Object(o.c)(me,{delay:0,offset:c}),Object(o.c)(me,{delay:160,offset:!0}),Object(o.c)(me,{delay:320,offset:!c}))};he.defaultProps={size:4};var ge=function(e){var t=e.isDisabled,n=e.isFocused,r=e.theme,o=r.colors,a=r.borderRadius,i=r.spacing;return{label:"control",alignItems:"center",backgroundColor:t?o.neutral5:o.neutral0,borderColor:t?o.neutral10:n?o.primary:o.neutral20,borderRadius:a,borderStyle:"solid",borderWidth:1,boxShadow:n?"0 0 0 1px ".concat(o.primary):null,cursor:"default",display:"flex",flexWrap:"wrap",justifyContent:"space-between",minHeight:i.controlHeight,outline:"0 !important",position:"relative",transition:"all 100ms","&:hover":{borderColor:n?o.primary:o.neutral30}}},be=function(e){var t=e.theme.spacing;return{paddingBottom:2*t.baseUnit,paddingTop:2*t.baseUnit}},ye=function(e){var t=e.theme.spacing;return{label:"group",color:"#999",cursor:"default",display:"block",fontSize:"75%",fontWeight:"500",marginBottom:"0.25em",paddingLeft:3*t.baseUnit,paddingRight:3*t.baseUnit,textTransform:"uppercase"}},ve=function(e){var t=e.isDisabled,n=e.theme,r=n.spacing,o=n.colors;return{margin:r.baseUnit/2,paddingBottom:r.baseUnit/2,paddingTop:r.baseUnit/2,visibility:t?"hidden":"visible",color:o.neutral80}},Oe=function(e){return{label:"input",background:0,border:0,fontSize:"inherit",opacity:e?0:1,outline:0,padding:0,color:"inherit"}},we=function(e){var t=e.theme,n=t.spacing,r=t.borderRadius;return{label:"multiValue",backgroundColor:t.colors.neutral10,borderRadius:r/2,display:"flex",margin:n.baseUnit/2,minWidth:0}},_e=function(e){var t=e.theme,n=t.borderRadius,r=t.colors,o=e.cropWithEllipsis;return{borderRadius:n/2,color:r.neutral80,fontSize:"85%",overflow:"hidden",padding:3,paddingLeft:6,textOverflow:o?"ellipsis":null,whiteSpace:"nowrap"}},je=function(e){var t=e.theme,n=t.spacing,r=t.borderRadius,o=t.colors;return{alignItems:"center",borderRadius:r/2,backgroundColor:e.isFocused&&o.dangerLight,display:"flex",paddingLeft:n.baseUnit,paddingRight:n.baseUnit,":hover":{backgroundColor:o.dangerLight,color:o.danger}}},Ee=function(e){var t=e.children,n=e.innerProps;return Object(o.c)("div",n,t)},Ce=Ee,xe=Ee;var Ie=function(e){var t=e.children,n=e.className,r=e.components,a=e.cx,i=e.data,c=e.getStyles,l=e.innerProps,u=e.isDisabled,s=e.removeProps,f=e.selectProps,d=r.Container,p=r.Label,m=r.Remove;return Object(o.c)(o.a,null,(function(r){var h=r.css,g=r.cx;return Object(o.c)(d,{data:i,innerProps:b({className:g(h(c("multiValue",e)),a({"multi-value":!0,"multi-value--is-disabled":u},n))},l),selectProps:f},Object(o.c)(p,{data:i,innerProps:{className:g(h(c("multiValueLabel",e)),a({"multi-value__label":!0},n))},selectProps:f},t),Object(o.c)(m,{data:i,innerProps:b({className:g(h(c("multiValueRemove",e)),a({"multi-value__remove":!0},n))},s),selectProps:f}))}))};Ie.defaultProps={cropWithEllipsis:!0};var Se=function(e){var t=e.isDisabled,n=e.isFocused,r=e.isSelected,o=e.theme,a=o.spacing,i=o.colors;return{label:"option",backgroundColor:r?i.primary:n?i.primary25:"transparent",color:t?i.neutral20:r?i.neutral0:"inherit",cursor:"default",display:"block",fontSize:"inherit",padding:"".concat(2*a.baseUnit,"px ").concat(3*a.baseUnit,"px"),width:"100%",userSelect:"none",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)",":active":{backgroundColor:!t&&(r?i.primary:i.primary50)}}},ke=function(e){var t=e.theme,n=t.spacing;return{label:"placeholder",color:t.colors.neutral50,marginLeft:n.baseUnit/2,marginRight:n.baseUnit/2,position:"absolute",top:"50%",transform:"translateY(-50%)"}},Ae=function(e){var t=e.isDisabled,n=e.theme,r=n.spacing,o=n.colors;return{label:"singleValue",color:t?o.neutral40:o.neutral80,marginLeft:r.baseUnit/2,marginRight:r.baseUnit/2,maxWidth:"calc(100% - ".concat(2*r.baseUnit,"px)"),overflow:"hidden",position:"absolute",textOverflow:"ellipsis",whiteSpace:"nowrap",top:"50%",transform:"translateY(-50%)"}},Te={ClearIndicator:function(e){var t=e.children,n=e.className,a=e.cx,i=e.getStyles,c=e.innerProps;return Object(o.c)("div",Object(r.a)({css:i("clearIndicator",e),className:a({indicator:!0,"clear-indicator":!0},n)},c),t||Object(o.c)(ie,null))},Control:function(e){var t=e.children,n=e.cx,a=e.getStyles,i=e.className,c=e.isDisabled,l=e.isFocused,u=e.innerRef,s=e.innerProps,f=e.menuIsOpen;return Object(o.c)("div",Object(r.a)({ref:u,css:a("control",e),className:n({control:!0,"control--is-disabled":c,"control--is-focused":l,"control--menu-is-open":f},i)},s),t)},DropdownIndicator:function(e){var t=e.children,n=e.className,a=e.cx,i=e.getStyles,c=e.innerProps;return Object(o.c)("div",Object(r.a)({css:i("dropdownIndicator",e),className:a({indicator:!0,"dropdown-indicator":!0},n)},c),t||Object(o.c)(ce,null))},DownChevron:ce,CrossIcon:ie,Group:function(e){var t=e.children,n=e.className,a=e.cx,i=e.getStyles,c=e.Heading,l=e.headingProps,u=e.innerProps,s=e.label,f=e.theme,d=e.selectProps;return Object(o.c)("div",Object(r.a)({css:i("group",e),className:a({group:!0},n)},u),Object(o.c)(c,Object(r.a)({},l,{selectProps:d,theme:f,getStyles:i,cx:a}),s),Object(o.c)("div",null,t))},GroupHeading:function(e){var t=e.getStyles,n=e.cx,i=e.className,c=C(e);c.data;var l=Object(a.a)(c,["data"]);return Object(o.c)("div",Object(r.a)({css:t("groupHeading",e),className:n({"group-heading":!0},i)},l))},IndicatorsContainer:function(e){var t=e.children,n=e.className,a=e.cx,i=e.innerProps,c=e.getStyles;return Object(o.c)("div",Object(r.a)({css:c("indicatorsContainer",e),className:a({indicators:!0},n)},i),t)},IndicatorSeparator:function(e){var t=e.className,n=e.cx,a=e.getStyles,i=e.innerProps;return Object(o.c)("span",Object(r.a)({},i,{css:a("indicatorSeparator",e),className:n({"indicator-separator":!0},t)}))},Input:function(e){var t=e.className,n=e.cx,i=e.getStyles,c=C(e),u=c.innerRef,s=c.isDisabled,f=c.isHidden,d=Object(a.a)(c,["innerRef","isDisabled","isHidden"]);return Object(o.c)("div",{css:i("input",e)},Object(o.c)(l.a,Object(r.a)({className:n({input:!0},t),inputRef:u,inputStyle:Oe(f),disabled:s},d)))},LoadingIndicator:he,Menu:function(e){var t=e.children,n=e.className,a=e.cx,i=e.getStyles,c=e.innerRef,l=e.innerProps;return Object(o.c)("div",Object(r.a)({css:i("menu",e),className:a({menu:!0},n),ref:c},l),t)},MenuList:function(e){var t=e.children,n=e.className,a=e.cx,i=e.getStyles,c=e.innerProps,l=e.innerRef,u=e.isMulti;return Object(o.c)("div",Object(r.a)({css:i("menuList",e),className:a({"menu-list":!0,"menu-list--is-multi":u},n),ref:l},c),t)},MenuPortal:X,LoadingMessage:Y,NoOptionsMessage:G,MultiValue:Ie,MultiValueContainer:Ce,MultiValueLabel:xe,MultiValueRemove:function(e){var t=e.children,n=e.innerProps;return Object(o.c)("div",n,t||Object(o.c)(ie,{size:14}))},Option:function(e){var t=e.children,n=e.className,a=e.cx,i=e.getStyles,c=e.isDisabled,l=e.isFocused,u=e.isSelected,s=e.innerRef,f=e.innerProps;return Object(o.c)("div",Object(r.a)({css:i("option",e),className:a({option:!0,"option--is-disabled":c,"option--is-focused":l,"option--is-selected":u},n),ref:s},f),t)},Placeholder:function(e){var t=e.children,n=e.className,a=e.cx,i=e.getStyles,c=e.innerProps;return Object(o.c)("div",Object(r.a)({css:i("placeholder",e),className:a({placeholder:!0},n)},c),t)},SelectContainer:function(e){var t=e.children,n=e.className,a=e.cx,i=e.getStyles,c=e.innerProps,l=e.isDisabled,u=e.isRtl;return Object(o.c)("div",Object(r.a)({css:i("container",e),className:a({"--is-disabled":l,"--is-rtl":u},n)},c),t)},SingleValue:function(e){var t=e.children,n=e.className,a=e.cx,i=e.getStyles,c=e.isDisabled,l=e.innerProps;return Object(o.c)("div",Object(r.a)({css:i("singleValue",e),className:a({"single-value":!0,"single-value--is-disabled":c},n)},l),t)},ValueContainer:function(e){var t=e.children,n=e.className,a=e.cx,i=e.innerProps,c=e.isMulti,l=e.getStyles,u=e.hasValue;return Object(o.c)("div",Object(r.a)({css:l("valueContainer",e),className:a({"value-container":!0,"value-container--is-multi":c,"value-container--has-value":u},n)},i),t)}},Pe=function(e){return b(b({},Te),e.components)}},function(e,t,n){"use strict";var r=n(0),o=(n(178),n(42)),a=(n(496),n(177),n(283),n(120)),i=n(145);n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return l})),n.d(t,"c",(function(){return c})),n.d(t,"d",(function(){return u}));var c=function(e,t){var n=arguments;if(null==t||!o.e.call(t,"css"))return r.createElement.apply(void 0,n);var a=n.length,i=new Array(a);i[0]=o.b,i[1]=Object(o.d)(e,t);for(var c=2;c<a;c++)i[c]=n[c];return r.createElement.apply(null,i)};function l(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Object(i.a)(t)}var u=function(){var e=l.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}},s=function e(t){for(var n=t.length,r=0,o="";r<n;r++){var a=t[r];if(null!=a){var i=void 0;switch(typeof a){case"boolean":break;case"object":if(Array.isArray(a))i=e(a);else for(var c in i="",a)a[c]&&c&&(i&&(i+=" "),i+=c);break;default:i=a}i&&(o&&(o+=" "),o+=i)}}return o};function f(e,t,n){var r=[],o=Object(a.a)(e,r,n);return r.length<2?n:o+t(r)}var d=Object(o.f)((function(e,t){var n=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var o=Object(i.a)(n,t.registered);return Object(a.b)(t,o,!1),t.key+"-"+o.name},c={css:n,cx:function(){for(var e=arguments.length,r=new Array(e),o=0;o<e;o++)r[o]=arguments[o];return f(t.registered,n,s(r))},theme:Object(r.useContext)(o.c)},l=e.children(c);return!0,l}))},function(e,t,n){"use strict";function r(){return r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r.apply(this,arguments)}n.d(t,"a",(function(){return r}))},,,,,,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return l}));var r=n(36),o=n.n(r),a=n(222),i=n.n(a),c={FETCHED:"FETCHED",CREATED:"CREATED",UPDATED:"UPDATED",OPTIMISTIC_UPDATED:"OPTIMISTIC_UPDATED",REVERT_OPTIMISTIC_UPDATED:"REVERT_OPTIMISTIC_UPDATED",REMOVED:"REMOVED",OPTIMISTIC_REMOVED:"OPTIMISTIC_REMOVED",REVERT_OPTIMISTIC_REMOVED:"REVERT_OPTIMISTIC_REMOVED"},l=function(e){var t={};return Object.keys(c).forEach((function(n){var r=function(e,t){var n=function(e,t){return"entity/".concat(e,"/").concat(t)}(e,t),r=function(t){var r={type:n,payload:t,meta:arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}};return i()(t)&&(r.error=!0),r.meta.entityType=e,r};return r.toString=function(){return n},r}(e,n);t[n]=r.toString(),t[o()(n)]=r})),t}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return a})),n.d(t,"e",(function(){return i})),n.d(t,"c",(function(){return c})),n.d(t,"d",(function(){return l}));var r=n(1),o=r.f.div.withConfig({displayName:"Fieldshared__FieldContainer",componentId:"dxskot-0"})([""]),a=r.f.div.withConfig({displayName:"Fieldshared__FieldControlWithLabel",componentId:"dxskot-1"})(["",""],(function(e){return e.inlineLabel&&"\n    display: flex;\n    flex-direction: row-reverse;\n    justify-content: left;\n\n    ".concat(i," {\n      margin-left: ").concat(e.theme.space.full,";\n      margin-bottom: 0;\n    }\n  ")})),i=r.f.label.withConfig({displayName:"Fieldshared__FieldLabel",componentId:"dxskot-2"})(["display:flex;justify-content:space-between;margin-bottom:",";font-weight:",";font-size:",";"],(function(e){return e.theme.space.quarter}),(function(e){return e.theme.fontWeight.light}),(function(e){return e.theme.fontSize.reading})),c=r.f.div.withConfig({displayName:"Fieldshared__FieldError",componentId:"dxskot-3"})(["padding:"," ",";font-size:",";background-color:",";color:white;font-weight:100;"],(function(e){return e.theme.space.quarter}),(function(e){return e.theme.space.half}),(function(e){return e.theme.fontSize.smallReading}),(function(e){return e.theme.color.accent.main})),l=r.f.div.withConfig({displayName:"Fieldshared__FieldHelpText",componentId:"dxskot-4"})(["color:",";font-size:",";margin-top:",";"],(function(e){return e.theme.color.background.onVariant}),(function(e){return e.theme.fontSize.smallReading}),(function(e){return e.theme.space.xSmall}))},,function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return a})),n.d(t,"d",(function(){return i})),n.d(t,"e",(function(){return c}));var r="conflicted",o="failure",a="in_progress",i="none",c="success"},,,,,,,,,,,,,,function(e,t,n){"use strict";var r=n(0),o=n(178);n(177),n(284);var a=n(120),i=n(145);n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return m})),n.d(t,"c",(function(){return f})),n.d(t,"d",(function(){return p})),n.d(t,"e",(function(){return c})),n.d(t,"f",(function(){return s}));var c=Object.prototype.hasOwnProperty,l=Object(r.createContext)("undefined"!=typeof HTMLElement?Object(o.a)({key:"css"}):null),u=l.Provider,s=function(e){return Object(r.forwardRef)((function(t,n){var o=Object(r.useContext)(l);return e(t,o,n)}))},f=Object(r.createContext)({});var d="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",p=function(e,t){var n={};for(var r in t)c.call(t,r)&&(n[r]=t[r]);return n[d]=e,n},m=s((function(e,t,n){var o=e.css;"string"==typeof o&&void 0!==t.registered[o]&&(o=t.registered[o]);var l=e[d],u=[o],s="";"string"==typeof e.className?s=Object(a.a)(t.registered,u,e.className):null!=e.className&&(s=e.className+" ");var p=Object(i.a)(u,void 0,"function"==typeof o||Array.isArray(o)?Object(r.useContext)(f):void 0);Object(a.b)(t,p,"string"==typeof l);s+=t.key+"-"+p.name;var m={};for(var h in e)c.call(e,h)&&"css"!==h&&h!==d&&(m[h]=e[h]);return m.ref=n,m.className=s,Object(r.createElement)(l,m)}))},,,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return g})),n.d(t,"b",(function(){return y}));var r=n(2),o=n(81),a=n.n(o),i=n(38),c=n.n(i),l=n(74),u=n.n(l),s=n(119),f=n.n(s),d=n(82),p=n.n(d);function m(e){return function(e){if(Array.isArray(e))return h(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return h(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var g=function(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(!Object(r.b)(e[n],t[n]))return!1;return!0},b=function(e,t,n){return"currentUserMetadata"===n?function(e,t){var n=c()(a()(e,["permissions","excludedPermissions"]),a()(t,["permissions","excludedPermissions"]));return n.permissions=f()(null==e?void 0:e.permissions,null==t?void 0:t.permissions),null!=t&&t.excludedPermissions&&(n.permissions=p.a.apply(void 0,[n.permissions].concat(m(t.excludedPermissions)))),n.excludedPermissions=f()(null==e?void 0:e.excludedPermissions,null==t?void 0:t.excludedPermissions),null!=t&&t.permissions&&(n.excludedPermissions=p.a.apply(void 0,[n.excludedPermissions].concat(m(t.permissions)))),n}(e,t):Array.isArray(t)?t:void 0},y=function(e,t){u()(e,t,b)}},function(e,t,n){"use strict";n.d(t,"e",(function(){return a})),n.d(t,"i",(function(){return i})),n.d(t,"b",(function(){return c})),n.d(t,"g",(function(){return l})),n.d(t,"c",(function(){return u})),n.d(t,"j",(function(){return s})),n.d(t,"d",(function(){return f})),n.d(t,"h",(function(){return d})),n.d(t,"a",(function(){return p})),n.d(t,"f",(function(){return m}));var r=["submittedFromModal"];function o(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var a="songMetadata/SONG_METADATA_UPDATE_SUBMITTED",i=function(e,t){var n=e.submittedFromModal,i=o(e,r);return{type:a,payload:i,meta:t,submittedFromModal:n}},c="songMetadata/SONG_METADATA_OPTIMISTIC_SAVE",l=function(e,t){return{type:c,songId:e,data:t}},u="songMetadata/SONG_METADATA_UPDATED",s=function(e,t){return{type:u,songId:e,data:t}},f="songMetadata/SONG_METADATA_UPDATE_FAILED",d=function(e,t){return{type:f,songId:e,data:t}},p="songMetadata/SONG_EDIT_METADATA_MODAL_TOGGLED",m=function(e){return{type:p,visible:e}}},,,function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return c})),n.d(t,"c",(function(){return l}));var r=n(31),o=n(223),a=n.n(o),i=function(e){return{value:!0,message:r.a.t("form.validation.required",{field:a()(e)})}},c=function(e){return{value:e,message:r.a.t("form.validation.maxLength",{count:e})}},l=function(e){return/^([A-Z0-9_\.&%\+\-']+@(?:[A-Z0-9\-]+\.)+(?:[A-Z]{2,13}))$/i.test(e)||r.a.t("form.validation.email")}},,,,,,,,,,function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}n.d(t,"a",(function(){return o}))},function(e,t,n){"use strict";function r(e,t){return r=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},r(e,t)}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&r(e,t)}n.d(t,"a",(function(){return o}))},,function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"a",(function(){return r}))},,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return m})),n.d(t,"c",(function(){return h})),n.d(t,"e",(function(){return g})),n.d(t,"d",(function(){return v})),n.d(t,"b",(function(){return O}));var r=n(7),o=n.n(r),a=n(242),i=n.n(a),c=n(68),l=n.n(c),u=n(195),s=n(13),f=n(33),d=n.n(f),p=n(32),m=function(e){return u.from(e).getPalette().then((function(e){var t=new URLSearchParams(window.location.search),n=l()(e,(function(e){return e.getHex()})),r=e.Vibrant.bodyTextColor,a=o()(n,t.get("gradient"),n.LightVibrant),i=o()(n,t.get("gradient"),n.DarkVibrant);return{gradient:{main:n.Vibrant,on:r,variant:Object(p.a)(r)?a:i}}}))},h=function(e,t){e.preventDefault();var n=window.location.origin+window.location.pathname;d.a.set("desired_location",t||n),window.location.href="https://".concat(s.a.canonicalDomain,"/signup_or_login")},g=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.parentheses,r=void 0===n?"[]()":n,o=[],a=0;a<e.length;a+=1){var i=e[a],c=r.indexOf(i);if(!(c<0)){var l=Boolean(c%2);if(l){if(!o.length||r.indexOf(o.pop())!==c-1)return!0}else o.push(i)}}return o.length>0},b=Object.fromEntries([["comment","comments"],["annotation","annotations"],["referent","referents"],["question","questions"],["answer","answers"],["song","songs"]]),y=i()(b),v=function(e){if(!(e in y))throw new Error("No plural to singular mapping for plural entity ".concat(e,". Add new entry to SINGULAR_PLURAL_ENTITIES above if needed."));return y[e]},O=function(e){if(!(e in b))throw new Error("No singular to plural mapping for singular entity ".concat(e,". Add new entry to SINGULAR_PLURAL_ENTITIES above if needed."));return b[e]}},function(e,t,n){"use strict";var r=n(0),o=n.n(r),a=(n(3),n(1)),i=n(57),c=n(4),l=n(173),u=n.n(l),s=n(174),f=n(2),d=n(24),p=n.n(d),m=n(9),h=n(114),g=n(230);function b(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,a=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){c=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(c)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return y(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var v=["placeholderSize"],O=["placeholderSize"];function w(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function _(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,a=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){c=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(c)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return j(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return j(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function j(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var E=function e(t){var n=t.name,a=t.instance,l=void 0===a?n:a,d=t.placeholderSize,y=t.resizeIframe,v=t.lazy,O=t.lazyMargin,w=t.refreshIntervalSeconds,j=t.hasFixedHeight,E=t.maxCreativeHeight,C=t.keepPlaceholder,x=Object(f.c)(),I=Object(f.d)((function(e){return e.session.showAds})),S=Object(h.a)(n,l),k=S.state,A=S.metadata,T=S.containerHeight||E||d.height,P=Object(g.a)("stickyAd"),N=Object(r.useContext)(i.a);v||(N[n]=!0);var M=Object(r.useRef)(null),R=Object(r.useRef)(null),L="div-gpt-ad-".concat(n,"-").concat(l,"-1");if(Object(r.useEffect)((function(){if(I&&"initial"===k){if(v){var e=new c.b((function(e){_(e,1)[0].isIntersecting&&x(Object(m.I)(n,l))}),{rootMargin:"0px 0px ".concat(O," 0px"),shim:{observe:function(){return x(Object(m.I)(n,l))}}});return e.observe(M.current),function(){return e.disconnect()}}x(Object(m.I)(n,l))}}),[k,x,l,v,O,n,I]),Object(r.useEffect)((function(){if(I&&"filled"===k){var e=R.current&&R.current.querySelector("iframe"),t=1===A.width||1===A.height,r=A.width===window.innerWidth;R.current&&Object(c.s)((function(){return R.current.getBoundingClientRect().height>1})).then((function(){var e=R.current.getBoundingClientRect(),o=e.width,a=e.height;x(Object(m.B)(n,l,{width:o,height:a})),j&&(t||r||!Object(c.i)(R.current))&&x(Object(m.J)(n,l,a)),setTimeout((function(){x(Object(m.C)(n,l))}),3e3)})).catch(p.a),e&&y&&function(e){Object(s.iframeResizer)({checkOrigin:!1,heightCalculationMethod:"taggedElement"},e)}(e),R.current&&t&&(R.current.style.width="100%",e&&(e.style.width="100%")),x(Object(m.D)(n,l,function(e){var t;try{t=new URLSearchParams(e.contentWindow.customValues)}catch(e){t=new URLSearchParams}return Object(c.e)(u()(t.entries()))}(e)))}}),[I,k,n,l,A,j,E,x,y]),function(e){var t=e.name,n=e.instance,o=e.refreshIntervalSeconds,a=e.ref,i=Object(h.a)(t,n).impressionViewable,l=b(Object(r.useState)(!1),2),u=l[0],s=l[1],d=b(Object(r.useState)(!1),2),p=d[0],g=d[1],y=Object(f.c)();Object(r.useEffect)((function(){if(a.current&&o&&i){var e=setTimeout((function(){g(!0)}),1e3*o);return function(){return clearTimeout(e)}}}),[a,o,i]),Object(r.useEffect)((function(){if(a.current&&o){var e=new c.b((function(e){var t=b(e,1)[0];s(t.isIntersecting)}),{threshold:.5});return e.observe(a.current),function(){return e.disconnect()}}}),[a,o]),Object(r.useEffect)((function(){p&&u&&(y(Object(m.H)(t,n)),g(!1))}),[p,u,y,t,n])}({name:n,instance:l,refreshIntervalSeconds:w,ref:M}),Object(r.useEffect)((function(){return function(){return Object(i.b)(n,l)}}),[n,l]),!I)return null;switch(k){case"initial":case"requested":return o.a.createElement(e.Container,{ref:M,$height:j?T:d.height},o.a.createElement("div",{id:L,ref:R,dangerouslySetInnerHTML:{__html:""}}),o.a.createElement(e.Placeholder,{$width:d.width,$height:d.height}));case"filled":return o.a.createElement(e.Container,{ref:M,$height:j&&T,$hasFixedHeight:j,$distanceAbove:P},o.a.createElement("div",{id:L,ref:R,dangerouslySetInnerHTML:{__html:""}}));case"empty":return C?o.a.createElement(e.FixedPlaceholder,{$width:d.width,$height:d.height}):null}};E.defaultProps={lazy:!0,lazyMargin:"50%",placeholderSize:{},resizeIframe:!1,refreshIntervalSeconds:14,hasFixedHeight:!1,keepPlaceholder:!1};var C=function(e,t){var n=e.placeholderSize,r=w(e,v),o=t.placeholderSize,a=w(t,O);return!!Object(f.b)(n,o)&&Object(f.b)(r,a)};t.a=o.a.memo(E,C);E.Container=a.f.div.withConfig({displayName:"DfpAd__Container",componentId:"sc-1tnbv7f-0"})(["position:relative;display:flex;justify-content:center;align-items:center;width:100%;"," line-height:0;",""],(function(e){return e.$height?"height: ".concat(e.$height,"px;"):""}),(function(e){return e.$hasFixedHeight&&"\n    & > div {\n      position: sticky;\n      top: calc(".concat(e.$distanceAbove,");\n    }\n  ")})),E.Placeholder=a.f.div.withConfig({displayName:"DfpAd__Placeholder",componentId:"sc-1tnbv7f-1"})(["position:absolute;left:50%;transform:translateX(-50%);"," "," background:",";"],(function(e){return e.$width?"width: ".concat(e.$width,"px;"):""}),(function(e){return e.$height?"height: ".concat(e.$height,"px;"):""}),(function(e){return e.theme.color.background.variant})),E.FixedPlaceholder=a.f.div.withConfig({displayName:"DfpAd__FixedPlaceholder",componentId:"sc-1tnbv7f-2"})([""," "," background:",";"],(function(e){return e.$width?"width: ".concat(e.$width,"px;"):""}),(function(e){return e.$height?"height: ".concat(e.$height,"px;"):""}),(function(e){return e.theme.color.background.variant}))},function(e,t,n){var r=n(159),o=n(170)(r);e.exports=o},,function(e,t,n){"use strict";n.d(t,"a",(function(){return oe})),n.d(t,"b",(function(){return V})),n.d(t,"c",(function(){return H}));var r=n(17),o=n(15),a=n(61),i=n(62),c=n(63),l=n(186),u=n(0),s=n.n(u),f=n(16),d=n(152),p=n(77);for(var m={name:"7pg0cj-a11yText",styles:"label:a11yText;z-index:9999;border:0;clip:rect(1px, 1px, 1px, 1px);height:1px;width:1px;position:absolute;overflow:hidden;padding:0;white-space:nowrap"},h=function(e){return Object(f.c)("span",Object(r.a)({css:m},e))},g={guidance:function(e){var t=e.isSearchable,n=e.isMulti,r=e.isDisabled,o=e.tabSelectsValue;switch(e.context){case"menu":return"Use Up and Down to choose options".concat(r?"":", press Enter to select the currently focused option",", press Escape to exit the menu").concat(o?", press Tab to select the option and exit the menu":"",".");case"input":return"".concat(e["aria-label"]||"Select"," is focused ").concat(t?",type to refine list":"",", press Down to open the menu, ").concat(n?" press left to focus selected values":"");case"value":return"Use left and right to toggle between focused values, press Backspace to remove the currently focused value";default:return""}},onChange:function(e){var t=e.action,n=e.label,r=void 0===n?"":n,o=e.isDisabled;switch(t){case"deselect-option":case"pop-value":case"remove-value":return"option ".concat(r,", deselected.");case"select-option":return"option ".concat(r,o?" is disabled. Select another option.":", selected.");default:return""}},onFocus:function(e){var t=e.context,n=e.focused,r=void 0===n?{}:n,o=e.options,a=e.label,i=void 0===a?"":a,c=e.selectValue,l=e.isDisabled,u=e.isSelected,s=function(e,t){return e&&e.length?"".concat(e.indexOf(t)+1," of ").concat(e.length):""};if("value"===t&&c)return"value ".concat(i," focused, ").concat(s(c,r),".");if("menu"===t){var f=l?" disabled":"",d="".concat(u?"selected":"focused").concat(f);return"option ".concat(i," ").concat(d,", ").concat(s(o,r),".")}return""},onFilter:function(e){var t=e.inputValue,n=e.resultsMessage;return"".concat(n).concat(t?" for search term "+t:"",".")}},b=function(e){var t=e.ariaSelection,n=e.focusedOption,r=e.focusedValue,a=e.focusableOptions,i=e.isFocused,c=e.selectValue,l=e.selectProps,d=l.ariaLiveMessages,p=l.getOptionLabel,m=l.inputValue,b=l.isMulti,y=l.isOptionDisabled,v=l.isSearchable,O=l.menuIsOpen,w=l.options,_=l.screenReaderStatus,j=l.tabSelectsValue,E=l["aria-label"],C=l["aria-live"],x=Object(u.useMemo)((function(){return Object(o.k)(Object(o.k)({},g),d||{})}),[d]),I=Object(u.useMemo)((function(){var e,n="";if(t&&x.onChange){var r=t.option,a=t.removedValue,i=t.value,c=a||r||(e=i,Array.isArray(e)?null:e),l=Object(o.k)({isDisabled:c&&y(c),label:c?p(c):""},t);n=x.onChange(l)}return n}),[t,y,p,x]),S=Object(u.useMemo)((function(){var e="",t=n||r,o=!!(n&&c&&c.includes(n));if(t&&x.onFocus){var a={focused:t,label:p(t),isDisabled:y(t),isSelected:o,options:w,context:t===n?"menu":"value",selectValue:c};e=x.onFocus(a)}return e}),[n,r,p,y,x,w,c]),k=Object(u.useMemo)((function(){var e="";if(O&&w.length&&x.onFilter){var t=_({count:a.length});e=x.onFilter({inputValue:m,resultsMessage:t})}return e}),[a,m,O,x,w,_]),A=Object(u.useMemo)((function(){var e="";if(x.guidance){var t=r?"value":O?"menu":"input";e=x.guidance({"aria-label":E,context:t,isDisabled:n&&y(n),isMulti:b,isSearchable:v,tabSelectsValue:j})}return e}),[E,n,r,b,y,v,O,x,j]),T="".concat(S," ").concat(k," ").concat(A);return Object(f.c)(h,{"aria-live":C,"aria-atomic":"false","aria-relevant":"additions text"},i&&Object(f.c)(s.a.Fragment,null,Object(f.c)("span",{id:"aria-selection"},I),Object(f.c)("span",{id:"aria-context"},T)))},y=[{base:"A",letters:"AⒶＡÀÁÂẦẤẪẨÃĀĂẰẮẴẲȦǠÄǞẢÅǺǍȀȂẠẬẶḀĄȺⱯ"},{base:"AA",letters:"Ꜳ"},{base:"AE",letters:"ÆǼǢ"},{base:"AO",letters:"Ꜵ"},{base:"AU",letters:"Ꜷ"},{base:"AV",letters:"ꜸꜺ"},{base:"AY",letters:"Ꜽ"},{base:"B",letters:"BⒷＢḂḄḆɃƂƁ"},{base:"C",letters:"CⒸＣĆĈĊČÇḈƇȻꜾ"},{base:"D",letters:"DⒹＤḊĎḌḐḒḎĐƋƊƉꝹ"},{base:"DZ",letters:"ǱǄ"},{base:"Dz",letters:"ǲǅ"},{base:"E",letters:"EⒺＥÈÉÊỀẾỄỂẼĒḔḖĔĖËẺĚȄȆẸỆȨḜĘḘḚƐƎ"},{base:"F",letters:"FⒻＦḞƑꝻ"},{base:"G",letters:"GⒼＧǴĜḠĞĠǦĢǤƓꞠꝽꝾ"},{base:"H",letters:"HⒽＨĤḢḦȞḤḨḪĦⱧⱵꞍ"},{base:"I",letters:"IⒾＩÌÍÎĨĪĬİÏḮỈǏȈȊỊĮḬƗ"},{base:"J",letters:"JⒿＪĴɈ"},{base:"K",letters:"KⓀＫḰǨḲĶḴƘⱩꝀꝂꝄꞢ"},{base:"L",letters:"LⓁＬĿĹĽḶḸĻḼḺŁȽⱢⱠꝈꝆꞀ"},{base:"LJ",letters:"Ǉ"},{base:"Lj",letters:"ǈ"},{base:"M",letters:"MⓂＭḾṀṂⱮƜ"},{base:"N",letters:"NⓃＮǸŃÑṄŇṆŅṊṈȠƝꞐꞤ"},{base:"NJ",letters:"Ǌ"},{base:"Nj",letters:"ǋ"},{base:"O",letters:"OⓄＯÒÓÔỒỐỖỔÕṌȬṎŌṐṒŎȮȰÖȪỎŐǑȌȎƠỜỚỠỞỢỌỘǪǬØǾƆƟꝊꝌ"},{base:"OI",letters:"Ƣ"},{base:"OO",letters:"Ꝏ"},{base:"OU",letters:"Ȣ"},{base:"P",letters:"PⓅＰṔṖƤⱣꝐꝒꝔ"},{base:"Q",letters:"QⓆＱꝖꝘɊ"},{base:"R",letters:"RⓇＲŔṘŘȐȒṚṜŖṞɌⱤꝚꞦꞂ"},{base:"S",letters:"SⓈＳẞŚṤŜṠŠṦṢṨȘŞⱾꞨꞄ"},{base:"T",letters:"TⓉＴṪŤṬȚŢṰṮŦƬƮȾꞆ"},{base:"TZ",letters:"Ꜩ"},{base:"U",letters:"UⓊＵÙÚÛŨṸŪṺŬÜǛǗǕǙỦŮŰǓȔȖƯỪỨỮỬỰỤṲŲṶṴɄ"},{base:"V",letters:"VⓋＶṼṾƲꝞɅ"},{base:"VY",letters:"Ꝡ"},{base:"W",letters:"WⓌＷẀẂŴẆẄẈⱲ"},{base:"X",letters:"XⓍＸẊẌ"},{base:"Y",letters:"YⓎＹỲÝŶỸȲẎŸỶỴƳɎỾ"},{base:"Z",letters:"ZⓏＺŹẐŻŽẒẔƵȤⱿⱫꝢ"},{base:"a",letters:"aⓐａẚàáâầấẫẩãāăằắẵẳȧǡäǟảåǻǎȁȃạậặḁąⱥɐ"},{base:"aa",letters:"ꜳ"},{base:"ae",letters:"æǽǣ"},{base:"ao",letters:"ꜵ"},{base:"au",letters:"ꜷ"},{base:"av",letters:"ꜹꜻ"},{base:"ay",letters:"ꜽ"},{base:"b",letters:"bⓑｂḃḅḇƀƃɓ"},{base:"c",letters:"cⓒｃćĉċčçḉƈȼꜿↄ"},{base:"d",letters:"dⓓｄḋďḍḑḓḏđƌɖɗꝺ"},{base:"dz",letters:"ǳǆ"},{base:"e",letters:"eⓔｅèéêềếễểẽēḕḗĕėëẻěȅȇẹệȩḝęḙḛɇɛǝ"},{base:"f",letters:"fⓕｆḟƒꝼ"},{base:"g",letters:"gⓖｇǵĝḡğġǧģǥɠꞡᵹꝿ"},{base:"h",letters:"hⓗｈĥḣḧȟḥḩḫẖħⱨⱶɥ"},{base:"hv",letters:"ƕ"},{base:"i",letters:"iⓘｉìíîĩīĭïḯỉǐȉȋịįḭɨı"},{base:"j",letters:"jⓙｊĵǰɉ"},{base:"k",letters:"kⓚｋḱǩḳķḵƙⱪꝁꝃꝅꞣ"},{base:"l",letters:"lⓛｌŀĺľḷḹļḽḻſłƚɫⱡꝉꞁꝇ"},{base:"lj",letters:"ǉ"},{base:"m",letters:"mⓜｍḿṁṃɱɯ"},{base:"n",letters:"nⓝｎǹńñṅňṇņṋṉƞɲŉꞑꞥ"},{base:"nj",letters:"ǌ"},{base:"o",letters:"oⓞｏòóôồốỗổõṍȭṏōṑṓŏȯȱöȫỏőǒȍȏơờớỡởợọộǫǭøǿɔꝋꝍɵ"},{base:"oi",letters:"ƣ"},{base:"ou",letters:"ȣ"},{base:"oo",letters:"ꝏ"},{base:"p",letters:"pⓟｐṕṗƥᵽꝑꝓꝕ"},{base:"q",letters:"qⓠｑɋꝗꝙ"},{base:"r",letters:"rⓡｒŕṙřȑȓṛṝŗṟɍɽꝛꞧꞃ"},{base:"s",letters:"sⓢｓßśṥŝṡšṧṣṩșşȿꞩꞅẛ"},{base:"t",letters:"tⓣｔṫẗťṭțţṱṯŧƭʈⱦꞇ"},{base:"tz",letters:"ꜩ"},{base:"u",letters:"uⓤｕùúûũṹūṻŭüǜǘǖǚủůűǔȕȗưừứữửựụṳųṷṵʉ"},{base:"v",letters:"vⓥｖṽṿʋꝟʌ"},{base:"vy",letters:"ꝡ"},{base:"w",letters:"wⓦｗẁẃŵẇẅẘẉⱳ"},{base:"x",letters:"xⓧｘẋẍ"},{base:"y",letters:"yⓨｙỳýŷỹȳẏÿỷẙỵƴɏỿ"},{base:"z",letters:"zⓩｚźẑżžẓẕƶȥɀⱬꝣ"}],v=new RegExp("["+y.map((function(e){return e.letters})).join("")+"]","g"),O={},w=0;w<y.length;w++)for(var _=y[w],j=0;j<_.letters.length;j++)O[_.letters[j]]=_.base;var E=function(e){return e.replace(v,(function(e){return O[e]}))},C=Object(d.a)(E),x=function(e){return e.replace(/^\s+|\s+$/g,"")},I=function(e){return"".concat(e.label," ").concat(e.value)};function S(e){e.in,e.out,e.onExited,e.appear,e.enter,e.exit;var t=e.innerRef;e.emotion;var n=Object(p.a)(e,["in","out","onExited","appear","enter","exit","innerRef","emotion"]);return Object(f.c)("input",Object(r.a)({ref:t},n,{css:Object(f.b)({label:"dummyInput",background:0,border:0,fontSize:"inherit",outline:0,padding:0,width:1,color:"transparent",left:-100,opacity:0,position:"relative",transform:"scale(0)"},"","")}))}var k=["boxSizing","height","overflow","paddingRight","position"],A={boxSizing:"border-box",overflow:"hidden",position:"relative",height:"100%"};function T(e){e.preventDefault()}function P(e){e.stopPropagation()}function N(){var e=this.scrollTop,t=this.scrollHeight,n=e+this.offsetHeight;0===e?this.scrollTop=1:n===t&&(this.scrollTop=e-1)}function M(){return"ontouchstart"in window||navigator.maxTouchPoints}var R=!("undefined"==typeof window||!window.document||!window.document.createElement),L=0,D={capture:!1,passive:!1};var F=function(){return document.activeElement&&document.activeElement.blur()},z={name:"1kfdb0e",styles:"position:fixed;left:0;bottom:0;right:0;top:0"};function B(e){var t=e.children,n=e.lockEnabled,r=e.captureEnabled,a=function(e){var t=e.isEnabled,n=e.onBottomArrive,r=e.onBottomLeave,a=e.onTopArrive,i=e.onTopLeave,c=Object(u.useRef)(!1),l=Object(u.useRef)(!1),s=Object(u.useRef)(0),f=Object(u.useRef)(null),d=Object(u.useCallback)((function(e,t){if(null!==f.current){var o=f.current,u=o.scrollTop,s=o.scrollHeight,d=o.clientHeight,p=f.current,m=t>0,h=s-d-u,g=!1;h>t&&c.current&&(r&&r(e),c.current=!1),m&&l.current&&(i&&i(e),l.current=!1),m&&t>h?(n&&!c.current&&n(e),p.scrollTop=s,g=!0,c.current=!0):!m&&-t>u&&(a&&!l.current&&a(e),p.scrollTop=0,g=!0,l.current=!0),g&&function(e){e.preventDefault(),e.stopPropagation()}(e)}}),[]),p=Object(u.useCallback)((function(e){d(e,e.deltaY)}),[d]),m=Object(u.useCallback)((function(e){s.current=e.changedTouches[0].clientY}),[]),h=Object(u.useCallback)((function(e){var t=s.current-e.changedTouches[0].clientY;d(e,t)}),[d]),g=Object(u.useCallback)((function(e){if(e){var t=!!o.C&&{passive:!1};"function"==typeof e.addEventListener&&e.addEventListener("wheel",p,t),"function"==typeof e.addEventListener&&e.addEventListener("touchstart",m,t),"function"==typeof e.addEventListener&&e.addEventListener("touchmove",h,t)}}),[h,m,p]),b=Object(u.useCallback)((function(e){e&&("function"==typeof e.removeEventListener&&e.removeEventListener("wheel",p,!1),"function"==typeof e.removeEventListener&&e.removeEventListener("touchstart",m,!1),"function"==typeof e.removeEventListener&&e.removeEventListener("touchmove",h,!1))}),[h,m,p]);return Object(u.useEffect)((function(){if(t){var e=f.current;return g(e),function(){b(e)}}}),[t,g,b]),function(e){f.current=e}}({isEnabled:void 0===r||r,onBottomArrive:e.onBottomArrive,onBottomLeave:e.onBottomLeave,onTopArrive:e.onTopArrive,onTopLeave:e.onTopLeave}),i=function(e){var t=e.isEnabled,n=e.accountForScrollbars,r=void 0===n||n,o=Object(u.useRef)({}),a=Object(u.useRef)(null),i=Object(u.useCallback)((function(e){if(R){var t=document.body,n=t&&t.style;if(r&&k.forEach((function(e){var t=n&&n[e];o.current[e]=t})),r&&L<1){var a=parseInt(o.current.paddingRight,10)||0,i=document.body?document.body.clientWidth:0,c=window.innerWidth-i+a||0;Object.keys(A).forEach((function(e){var t=A[e];n&&(n[e]=t)})),n&&(n.paddingRight="".concat(c,"px"))}t&&M()&&(t.addEventListener("touchmove",T,D),e&&(e.addEventListener("touchstart",N,D),e.addEventListener("touchmove",P,D))),L+=1}}),[]),c=Object(u.useCallback)((function(e){if(R){var t=document.body,n=t&&t.style;L=Math.max(L-1,0),r&&L<1&&k.forEach((function(e){var t=o.current[e];n&&(n[e]=t)})),t&&M()&&(t.removeEventListener("touchmove",T,D),e&&(e.removeEventListener("touchstart",N,D),e.removeEventListener("touchmove",P,D)))}}),[]);return Object(u.useEffect)((function(){if(t){var e=a.current;return i(e),function(){c(e)}}}),[t,i,c]),function(e){a.current=e}}({isEnabled:n});return Object(f.c)(s.a.Fragment,null,n&&Object(f.c)("div",{onClick:F,css:z}),t((function(e){a(e),i(e)})))}var V=function(e){return e.label},H=function(e){return e.value},q={clearIndicator:o.l,container:o.n,control:o.o,dropdownIndicator:o.p,group:o.q,groupHeading:o.r,indicatorsContainer:o.s,indicatorSeparator:o.t,input:o.u,loadingIndicator:o.v,loadingMessage:o.w,menu:o.x,menuList:o.y,menuPortal:o.z,multiValue:o.A,multiValueLabel:o.B,multiValueRemove:o.D,noOptionsMessage:o.E,option:o.F,placeholder:o.G,singleValue:o.H,valueContainer:o.I};var W,U={borderRadius:4,colors:{primary:"#2684FF",primary75:"#4C9AFF",primary50:"#B2D4FF",primary25:"#DEEBFF",danger:"#DE350B",dangerLight:"#FFBDAD",neutral0:"hsl(0, 0%, 100%)",neutral5:"hsl(0, 0%, 95%)",neutral10:"hsl(0, 0%, 90%)",neutral20:"hsl(0, 0%, 80%)",neutral30:"hsl(0, 0%, 70%)",neutral40:"hsl(0, 0%, 60%)",neutral50:"hsl(0, 0%, 50%)",neutral60:"hsl(0, 0%, 40%)",neutral70:"hsl(0, 0%, 30%)",neutral80:"hsl(0, 0%, 20%)",neutral90:"hsl(0, 0%, 10%)"},spacing:{baseUnit:4,controlHeight:38,menuGutter:8}},$={"aria-live":"polite",backspaceRemovesValue:!0,blurInputOnSelect:Object(o.J)(),captureMenuScroll:!Object(o.J)(),closeMenuOnSelect:!0,closeMenuOnScroll:!1,components:{},controlShouldRenderValue:!0,escapeClearsValue:!1,filterOption:function(e,t){var n=Object(o.k)({ignoreCase:!0,ignoreAccents:!0,stringify:I,trim:!0,matchFrom:"any"},W),r=n.ignoreCase,a=n.ignoreAccents,i=n.stringify,c=n.trim,l=n.matchFrom,u=c?x(t):t,s=c?x(i(e)):i(e);return r&&(u=u.toLowerCase(),s=s.toLowerCase()),a&&(u=C(u),s=E(s)),"start"===l?s.substr(0,u.length)===u:s.indexOf(u)>-1},formatGroupLabel:function(e){return e.label},getOptionLabel:V,getOptionValue:H,isDisabled:!1,isLoading:!1,isMulti:!1,isRtl:!1,isSearchable:!0,isOptionDisabled:function(e){return!!e.isDisabled},loadingMessage:function(){return"Loading..."},maxMenuHeight:300,minMenuHeight:140,menuIsOpen:!1,menuPlacement:"bottom",menuPosition:"absolute",menuShouldBlockScroll:!1,menuShouldScrollIntoView:!Object(o.a)(),noOptionsMessage:function(){return"No options"},openMenuOnFocus:!1,openMenuOnClick:!0,options:[],pageSize:5,placeholder:"Select...",screenReaderStatus:function(e){var t=e.count;return"".concat(t," result").concat(1!==t?"s":""," available")},styles:{},tabIndex:"0",tabSelectsValue:!0};function Q(e,t,n,r){return{type:"option",data:t,isDisabled:J(e,t,n),isSelected:ee(e,t,n),label:Z(e,t),value:X(e,t),index:r}}function G(e,t){return e.options.map((function(n,r){if(n.options){var o=n.options.map((function(n,r){return Q(e,n,t,r)})).filter((function(t){return K(e,t)}));return o.length>0?{type:"group",data:n,options:o,index:r}:void 0}var a=Q(e,n,t,r);return K(e,a)?a:void 0})).filter((function(e){return!!e}))}function Y(e){return e.reduce((function(e,t){return"group"===t.type?e.push.apply(e,Object(l.a)(t.options.map((function(e){return e.data})))):e.push(t.data),e}),[])}function K(e,t){var n=e.inputValue,r=void 0===n?"":n,o=t.data,a=t.isSelected,i=t.label,c=t.value;return(!ne(e)||!a)&&te(e,{label:i,value:c,data:o},r)}var Z=function(e,t){return e.getOptionLabel(t)},X=function(e,t){return e.getOptionValue(t)};function J(e,t,n){return"function"==typeof e.isOptionDisabled&&e.isOptionDisabled(t,n)}function ee(e,t,n){if(n.indexOf(t)>-1)return!0;if("function"==typeof e.isOptionSelected)return e.isOptionSelected(t,n);var r=X(e,t);return n.some((function(t){return X(e,t)===r}))}function te(e,t,n){return!e.filterOption||e.filterOption(t,n)}var ne=function(e){var t=e.hideSelectedOptions,n=e.isMulti;return void 0===t?n:t},re=1,oe=function(e){Object(c.a)(n,e);var t=Object(o.j)(n);function n(e){var r;return Object(a.a)(this,n),(r=t.call(this,e)).state={ariaSelection:null,focusedOption:null,focusedValue:null,inputIsHidden:!1,isFocused:!1,selectValue:[],clearFocusValueOnUpdate:!1,inputIsHiddenAfterUpdate:void 0,prevProps:void 0},r.blockOptionHover=!1,r.isComposing=!1,r.commonProps=void 0,r.initialTouchX=0,r.initialTouchY=0,r.instancePrefix="",r.openAfterFocus=!1,r.scrollToFocusedOptionOnUpdate=!1,r.userIsDragging=void 0,r.controlRef=null,r.getControlRef=function(e){r.controlRef=e},r.focusedOptionRef=null,r.getFocusedOptionRef=function(e){r.focusedOptionRef=e},r.menuListRef=null,r.getMenuListRef=function(e){r.menuListRef=e},r.inputRef=null,r.getInputRef=function(e){r.inputRef=e},r.focus=r.focusInput,r.blur=r.blurInput,r.onChange=function(e,t){var n=r.props,o=n.onChange,a=n.name;t.name=a,r.ariaOnChange(e,t),o(e,t)},r.setValue=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"set-value",n=arguments.length>2?arguments[2]:void 0,o=r.props,a=o.closeMenuOnSelect,i=o.isMulti;r.onInputChange("",{action:"set-value"}),a&&(r.setState({inputIsHiddenAfterUpdate:!i}),r.onMenuClose()),r.setState({clearFocusValueOnUpdate:!0}),r.onChange(e,{action:t,option:n})},r.selectOption=function(e){var t=r.props,n=t.blurInputOnSelect,o=t.isMulti,a=t.name,i=r.state.selectValue,c=o&&r.isOptionSelected(e,i),u=r.isOptionDisabled(e,i);if(c){var s=r.getOptionValue(e);r.setValue(i.filter((function(e){return r.getOptionValue(e)!==s})),"deselect-option",e)}else{if(u)return void r.ariaOnChange(e,{action:"select-option",name:a});o?r.setValue([].concat(Object(l.a)(i),[e]),"select-option",e):r.setValue(e,"select-option")}n&&r.blurInput()},r.removeValue=function(e){var t=r.props.isMulti,n=r.state.selectValue,o=r.getOptionValue(e),a=n.filter((function(e){return r.getOptionValue(e)!==o})),i=t?a:a[0]||null;r.onChange(i,{action:"remove-value",removedValue:e}),r.focusInput()},r.clearValue=function(){var e=r.state.selectValue;r.onChange(r.props.isMulti?[]:null,{action:"clear",removedValues:e})},r.popValue=function(){var e=r.props.isMulti,t=r.state.selectValue,n=t[t.length-1],o=t.slice(0,t.length-1),a=e?o:o[0]||null;r.onChange(a,{action:"pop-value",removedValue:n})},r.getValue=function(){return r.state.selectValue},r.cx=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return o.b.apply(void 0,[r.props.classNamePrefix].concat(t))},r.getOptionLabel=function(e){return Z(r.props,e)},r.getOptionValue=function(e){return X(r.props,e)},r.getStyles=function(e,t){var n=q[e](t);n.boxSizing="border-box";var o=r.props.styles[e];return o?o(n,t):n},r.getElementId=function(e){return"".concat(r.instancePrefix,"-").concat(e)},r.getComponents=function(){return Object(o.c)(r.props)},r.buildCategorizedOptions=function(){return G(r.props,r.state.selectValue)},r.getCategorizedOptions=function(){return r.props.menuIsOpen?r.buildCategorizedOptions():[]},r.buildFocusableOptions=function(){return Y(r.buildCategorizedOptions())},r.getFocusableOptions=function(){return r.props.menuIsOpen?r.buildFocusableOptions():[]},r.ariaOnChange=function(e,t){r.setState({ariaSelection:Object(o.k)({value:e},t)})},r.onMenuMouseDown=function(e){0===e.button&&(e.stopPropagation(),e.preventDefault(),r.focusInput())},r.onMenuMouseMove=function(e){r.blockOptionHover=!1},r.onControlMouseDown=function(e){var t=r.props.openMenuOnClick;r.state.isFocused?r.props.menuIsOpen?"INPUT"!==e.target.tagName&&"TEXTAREA"!==e.target.tagName&&r.onMenuClose():t&&r.openMenu("first"):(t&&(r.openAfterFocus=!0),r.focusInput()),"INPUT"!==e.target.tagName&&"TEXTAREA"!==e.target.tagName&&e.preventDefault()},r.onDropdownIndicatorMouseDown=function(e){if(!(e&&"mousedown"===e.type&&0!==e.button||r.props.isDisabled)){var t=r.props,n=t.isMulti,o=t.menuIsOpen;r.focusInput(),o?(r.setState({inputIsHiddenAfterUpdate:!n}),r.onMenuClose()):r.openMenu("first"),e.preventDefault(),e.stopPropagation()}},r.onClearIndicatorMouseDown=function(e){e&&"mousedown"===e.type&&0!==e.button||(r.clearValue(),e.stopPropagation(),r.openAfterFocus=!1,"touchend"===e.type?r.focusInput():setTimeout((function(){return r.focusInput()})))},r.onScroll=function(e){"boolean"==typeof r.props.closeMenuOnScroll?e.target instanceof HTMLElement&&Object(o.d)(e.target)&&r.props.onMenuClose():"function"==typeof r.props.closeMenuOnScroll&&r.props.closeMenuOnScroll(e)&&r.props.onMenuClose()},r.onCompositionStart=function(){r.isComposing=!0},r.onCompositionEnd=function(){r.isComposing=!1},r.onTouchStart=function(e){var t=e.touches,n=t&&t.item(0);n&&(r.initialTouchX=n.clientX,r.initialTouchY=n.clientY,r.userIsDragging=!1)},r.onTouchMove=function(e){var t=e.touches,n=t&&t.item(0);if(n){var o=Math.abs(n.clientX-r.initialTouchX),a=Math.abs(n.clientY-r.initialTouchY);r.userIsDragging=o>5||a>5}},r.onTouchEnd=function(e){r.userIsDragging||(r.controlRef&&!r.controlRef.contains(e.target)&&r.menuListRef&&!r.menuListRef.contains(e.target)&&r.blurInput(),r.initialTouchX=0,r.initialTouchY=0)},r.onControlTouchEnd=function(e){r.userIsDragging||r.onControlMouseDown(e)},r.onClearIndicatorTouchEnd=function(e){r.userIsDragging||r.onClearIndicatorMouseDown(e)},r.onDropdownIndicatorTouchEnd=function(e){r.userIsDragging||r.onDropdownIndicatorMouseDown(e)},r.handleInputChange=function(e){var t=e.currentTarget.value;r.setState({inputIsHiddenAfterUpdate:!1}),r.onInputChange(t,{action:"input-change"}),r.props.menuIsOpen||r.onMenuOpen()},r.onInputFocus=function(e){r.props.onFocus&&r.props.onFocus(e),r.setState({inputIsHiddenAfterUpdate:!1,isFocused:!0}),(r.openAfterFocus||r.props.openMenuOnFocus)&&r.openMenu("first"),r.openAfterFocus=!1},r.onInputBlur=function(e){r.menuListRef&&r.menuListRef.contains(document.activeElement)?r.inputRef.focus():(r.props.onBlur&&r.props.onBlur(e),r.onInputChange("",{action:"input-blur"}),r.onMenuClose(),r.setState({focusedValue:null,isFocused:!1}))},r.onOptionHover=function(e){r.blockOptionHover||r.state.focusedOption===e||r.setState({focusedOption:e})},r.shouldHideSelectedOptions=function(){return ne(r.props)},r.onKeyDown=function(e){var t=r.props,n=t.isMulti,o=t.backspaceRemovesValue,a=t.escapeClearsValue,i=t.inputValue,c=t.isClearable,l=t.isDisabled,u=t.menuIsOpen,s=t.onKeyDown,f=t.tabSelectsValue,d=t.openMenuOnFocus,p=r.state,m=p.focusedOption,h=p.focusedValue,g=p.selectValue;if(!(l||"function"==typeof s&&(s(e),e.defaultPrevented))){switch(r.blockOptionHover=!0,e.key){case"ArrowLeft":if(!n||i)return;r.focusValue("previous");break;case"ArrowRight":if(!n||i)return;r.focusValue("next");break;case"Delete":case"Backspace":if(i)return;if(h)r.removeValue(h);else{if(!o)return;n?r.popValue():c&&r.clearValue()}break;case"Tab":if(r.isComposing)return;if(e.shiftKey||!u||!f||!m||d&&r.isOptionSelected(m,g))return;r.selectOption(m);break;case"Enter":if(229===e.keyCode)break;if(u){if(!m)return;if(r.isComposing)return;r.selectOption(m);break}return;case"Escape":u?(r.setState({inputIsHiddenAfterUpdate:!1}),r.onInputChange("",{action:"menu-close"}),r.onMenuClose()):c&&a&&r.clearValue();break;case" ":if(i)return;if(!u){r.openMenu("first");break}if(!m)return;r.selectOption(m);break;case"ArrowUp":u?r.focusOption("up"):r.openMenu("last");break;case"ArrowDown":u?r.focusOption("down"):r.openMenu("first");break;case"PageUp":if(!u)return;r.focusOption("pageup");break;case"PageDown":if(!u)return;r.focusOption("pagedown");break;case"Home":if(!u)return;r.focusOption("first");break;case"End":if(!u)return;r.focusOption("last");break;default:return}e.preventDefault()}},r.instancePrefix="react-select-"+(r.props.instanceId||++re),r.state.selectValue=Object(o.e)(e.value),r}return Object(i.a)(n,[{key:"componentDidMount",value:function(){this.startListeningComposition(),this.startListeningToTouch(),this.props.closeMenuOnScroll&&document&&document.addEventListener&&document.addEventListener("scroll",this.onScroll,!0),this.props.autoFocus&&this.focusInput()}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.isDisabled,r=t.menuIsOpen,a=this.state.isFocused;(a&&!n&&e.isDisabled||a&&r&&!e.menuIsOpen)&&this.focusInput(),a&&n&&!e.isDisabled&&this.setState({isFocused:!1},this.onMenuClose),this.menuListRef&&this.focusedOptionRef&&this.scrollToFocusedOptionOnUpdate&&(Object(o.f)(this.menuListRef,this.focusedOptionRef),this.scrollToFocusedOptionOnUpdate=!1)}},{key:"componentWillUnmount",value:function(){this.stopListeningComposition(),this.stopListeningToTouch(),document.removeEventListener("scroll",this.onScroll,!0)}},{key:"onMenuOpen",value:function(){this.props.onMenuOpen()}},{key:"onMenuClose",value:function(){this.onInputChange("",{action:"menu-close"}),this.props.onMenuClose()}},{key:"onInputChange",value:function(e,t){this.props.onInputChange(e,t)}},{key:"focusInput",value:function(){this.inputRef&&this.inputRef.focus()}},{key:"blurInput",value:function(){this.inputRef&&this.inputRef.blur()}},{key:"openMenu",value:function(e){var t=this,n=this.state,r=n.selectValue,o=n.isFocused,a=this.buildFocusableOptions(),i="first"===e?0:a.length-1;if(!this.props.isMulti){var c=a.indexOf(r[0]);c>-1&&(i=c)}this.scrollToFocusedOptionOnUpdate=!(o&&this.menuListRef),this.setState({inputIsHiddenAfterUpdate:!1,focusedValue:null,focusedOption:a[i]},(function(){return t.onMenuOpen()}))}},{key:"focusValue",value:function(e){var t=this.state,n=t.selectValue,r=t.focusedValue;if(this.props.isMulti){this.setState({focusedOption:null});var o=n.indexOf(r);r||(o=-1);var a=n.length-1,i=-1;if(n.length){switch(e){case"previous":i=0===o?0:-1===o?a:o-1;break;case"next":o>-1&&o<a&&(i=o+1)}this.setState({inputIsHidden:-1!==i,focusedValue:n[i]})}}}},{key:"focusOption",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"first",t=this.props.pageSize,n=this.state.focusedOption,r=this.getFocusableOptions();if(r.length){var o=0,a=r.indexOf(n);n||(a=-1),"up"===e?o=a>0?a-1:r.length-1:"down"===e?o=(a+1)%r.length:"pageup"===e?(o=a-t)<0&&(o=0):"pagedown"===e?(o=a+t)>r.length-1&&(o=r.length-1):"last"===e&&(o=r.length-1),this.scrollToFocusedOptionOnUpdate=!0,this.setState({focusedOption:r[o],focusedValue:null})}}},{key:"getTheme",value:function(){return this.props.theme?"function"==typeof this.props.theme?this.props.theme(U):Object(o.k)(Object(o.k)({},U),this.props.theme):U}},{key:"getCommonProps",value:function(){var e=this.clearValue,t=this.cx,n=this.getStyles,r=this.getValue,o=this.selectOption,a=this.setValue,i=this.props,c=i.isMulti,l=i.isRtl,u=i.options;return{clearValue:e,cx:t,getStyles:n,getValue:r,hasValue:this.hasValue(),isMulti:c,isRtl:l,options:u,selectOption:o,selectProps:i,setValue:a,theme:this.getTheme()}}},{key:"hasValue",value:function(){return this.state.selectValue.length>0}},{key:"hasOptions",value:function(){return!!this.getFocusableOptions().length}},{key:"isClearable",value:function(){var e=this.props,t=e.isClearable,n=e.isMulti;return void 0===t?n:t}},{key:"isOptionDisabled",value:function(e,t){return J(this.props,e,t)}},{key:"isOptionSelected",value:function(e,t){return ee(this.props,e,t)}},{key:"filterOption",value:function(e,t){return te(this.props,e,t)}},{key:"formatOptionLabel",value:function(e,t){if("function"==typeof this.props.formatOptionLabel){var n=this.props.inputValue,r=this.state.selectValue;return this.props.formatOptionLabel(e,{context:t,inputValue:n,selectValue:r})}return this.getOptionLabel(e)}},{key:"formatGroupLabel",value:function(e){return this.props.formatGroupLabel(e)}},{key:"startListeningComposition",value:function(){document&&document.addEventListener&&(document.addEventListener("compositionstart",this.onCompositionStart,!1),document.addEventListener("compositionend",this.onCompositionEnd,!1))}},{key:"stopListeningComposition",value:function(){document&&document.removeEventListener&&(document.removeEventListener("compositionstart",this.onCompositionStart),document.removeEventListener("compositionend",this.onCompositionEnd))}},{key:"startListeningToTouch",value:function(){document&&document.addEventListener&&(document.addEventListener("touchstart",this.onTouchStart,!1),document.addEventListener("touchmove",this.onTouchMove,!1),document.addEventListener("touchend",this.onTouchEnd,!1))}},{key:"stopListeningToTouch",value:function(){document&&document.removeEventListener&&(document.removeEventListener("touchstart",this.onTouchStart),document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onTouchEnd))}},{key:"renderInput",value:function(){var e=this.props,t=e.isDisabled,n=e.isSearchable,a=e.inputId,i=e.inputValue,c=e.tabIndex,l=e.form,u=this.getComponents().Input,f=this.state.inputIsHidden,d=this.commonProps,p=a||this.getElementId("input"),m={"aria-autocomplete":"list","aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"]};return n?s.a.createElement(u,Object(r.a)({},d,{autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",id:p,innerRef:this.getInputRef,isDisabled:t,isHidden:f,onBlur:this.onInputBlur,onChange:this.handleInputChange,onFocus:this.onInputFocus,spellCheck:"false",tabIndex:c,form:l,type:"text",value:i},m)):s.a.createElement(S,Object(r.a)({id:p,innerRef:this.getInputRef,onBlur:this.onInputBlur,onChange:o.g,onFocus:this.onInputFocus,readOnly:!0,disabled:t,tabIndex:c,form:l,value:""},m))}},{key:"renderPlaceholderOrValue",value:function(){var e=this,t=this.getComponents(),n=t.MultiValue,o=t.MultiValueContainer,a=t.MultiValueLabel,i=t.MultiValueRemove,c=t.SingleValue,l=t.Placeholder,u=this.commonProps,f=this.props,d=f.controlShouldRenderValue,p=f.isDisabled,m=f.isMulti,h=f.inputValue,g=f.placeholder,b=this.state,y=b.selectValue,v=b.focusedValue,O=b.isFocused;if(!this.hasValue()||!d)return h?null:s.a.createElement(l,Object(r.a)({},u,{key:"placeholder",isDisabled:p,isFocused:O}),g);if(m)return y.map((function(t,c){var l=t===v;return s.a.createElement(n,Object(r.a)({},u,{components:{Container:o,Label:a,Remove:i},isFocused:l,isDisabled:p,key:"".concat(e.getOptionValue(t)).concat(c),index:c,removeProps:{onClick:function(){return e.removeValue(t)},onTouchEnd:function(){return e.removeValue(t)},onMouseDown:function(e){e.preventDefault(),e.stopPropagation()}},data:t}),e.formatOptionLabel(t,"value"))}));if(h)return null;var w=y[0];return s.a.createElement(c,Object(r.a)({},u,{data:w,isDisabled:p}),this.formatOptionLabel(w,"value"))}},{key:"renderClearIndicator",value:function(){var e=this.getComponents().ClearIndicator,t=this.commonProps,n=this.props,o=n.isDisabled,a=n.isLoading,i=this.state.isFocused;if(!this.isClearable()||!e||o||!this.hasValue()||a)return null;var c={onMouseDown:this.onClearIndicatorMouseDown,onTouchEnd:this.onClearIndicatorTouchEnd,"aria-hidden":"true"};return s.a.createElement(e,Object(r.a)({},t,{innerProps:c,isFocused:i}))}},{key:"renderLoadingIndicator",value:function(){var e=this.getComponents().LoadingIndicator,t=this.commonProps,n=this.props,o=n.isDisabled,a=n.isLoading,i=this.state.isFocused;if(!e||!a)return null;return s.a.createElement(e,Object(r.a)({},t,{innerProps:{"aria-hidden":"true"},isDisabled:o,isFocused:i}))}},{key:"renderIndicatorSeparator",value:function(){var e=this.getComponents(),t=e.DropdownIndicator,n=e.IndicatorSeparator;if(!t||!n)return null;var o=this.commonProps,a=this.props.isDisabled,i=this.state.isFocused;return s.a.createElement(n,Object(r.a)({},o,{isDisabled:a,isFocused:i}))}},{key:"renderDropdownIndicator",value:function(){var e=this.getComponents().DropdownIndicator;if(!e)return null;var t=this.commonProps,n=this.props.isDisabled,o=this.state.isFocused,a={onMouseDown:this.onDropdownIndicatorMouseDown,onTouchEnd:this.onDropdownIndicatorTouchEnd,"aria-hidden":"true"};return s.a.createElement(e,Object(r.a)({},t,{innerProps:a,isDisabled:n,isFocused:o}))}},{key:"renderMenu",value:function(){var e=this,t=this.getComponents(),n=t.Group,a=t.GroupHeading,i=t.Menu,c=t.MenuList,l=t.MenuPortal,u=t.LoadingMessage,f=t.NoOptionsMessage,d=t.Option,p=this.commonProps,m=this.state.focusedOption,h=this.props,g=h.captureMenuScroll,b=h.inputValue,y=h.isLoading,v=h.loadingMessage,O=h.minMenuHeight,w=h.maxMenuHeight,_=h.menuIsOpen,j=h.menuPlacement,E=h.menuPosition,C=h.menuPortalTarget,x=h.menuShouldBlockScroll,I=h.menuShouldScrollIntoView,S=h.noOptionsMessage,k=h.onMenuScrollToTop,A=h.onMenuScrollToBottom;if(!_)return null;var T,P=function(t,n){var o=t.type,a=t.data,i=t.isDisabled,c=t.isSelected,l=t.label,u=t.value,f=m===a,h=i?void 0:function(){return e.onOptionHover(a)},g=i?void 0:function(){return e.selectOption(a)},b="".concat(e.getElementId("option"),"-").concat(n),y={id:b,onClick:g,onMouseMove:h,onMouseOver:h,tabIndex:-1};return s.a.createElement(d,Object(r.a)({},p,{innerProps:y,data:a,isDisabled:i,isSelected:c,key:b,label:l,type:o,value:u,isFocused:f,innerRef:f?e.getFocusedOptionRef:void 0}),e.formatOptionLabel(t.data,"menu"))};if(this.hasOptions())T=this.getCategorizedOptions().map((function(t){if("group"===t.type){var o=t.data,i=t.options,c=t.index,l="".concat(e.getElementId("group"),"-").concat(c),u="".concat(l,"-heading");return s.a.createElement(n,Object(r.a)({},p,{key:l,data:o,options:i,Heading:a,headingProps:{id:u,data:t.data},label:e.formatGroupLabel(t.data)}),t.options.map((function(e){return P(e,"".concat(c,"-").concat(e.index))})))}if("option"===t.type)return P(t,"".concat(t.index))}));else if(y){var N=v({inputValue:b});if(null===N)return null;T=s.a.createElement(u,p,N)}else{var M=S({inputValue:b});if(null===M)return null;T=s.a.createElement(f,p,M)}var R={minMenuHeight:O,maxMenuHeight:w,menuPlacement:j,menuPosition:E,menuShouldScrollIntoView:I},L=s.a.createElement(o.i,Object(r.a)({},p,R),(function(t){var n=t.ref,o=t.placerProps,a=o.placement,l=o.maxHeight;return s.a.createElement(i,Object(r.a)({},p,R,{innerRef:n,innerProps:{onMouseDown:e.onMenuMouseDown,onMouseMove:e.onMenuMouseMove},isLoading:y,placement:a}),s.a.createElement(B,{captureEnabled:g,onTopArrive:k,onBottomArrive:A,lockEnabled:x},(function(t){return s.a.createElement(c,Object(r.a)({},p,{innerRef:function(n){e.getMenuListRef(n),t(n)},isLoading:y,maxHeight:l,focusedOption:m}),T)})))}));return C||"fixed"===E?s.a.createElement(l,Object(r.a)({},p,{appendTo:C,controlElement:this.controlRef,menuPlacement:j,menuPosition:E}),L):L}},{key:"renderFormField",value:function(){var e=this,t=this.props,n=t.delimiter,r=t.isDisabled,o=t.isMulti,a=t.name,i=this.state.selectValue;if(a&&!r){if(o){if(n){var c=i.map((function(t){return e.getOptionValue(t)})).join(n);return s.a.createElement("input",{name:a,type:"hidden",value:c})}var l=i.length>0?i.map((function(t,n){return s.a.createElement("input",{key:"i-".concat(n),name:a,type:"hidden",value:e.getOptionValue(t)})})):s.a.createElement("input",{name:a,type:"hidden"});return s.a.createElement("div",null,l)}var u=i[0]?this.getOptionValue(i[0]):"";return s.a.createElement("input",{name:a,type:"hidden",value:u})}}},{key:"renderLiveRegion",value:function(){var e=this.commonProps,t=this.state,n=t.ariaSelection,o=t.focusedOption,a=t.focusedValue,i=t.isFocused,c=t.selectValue,l=this.getFocusableOptions();return s.a.createElement(b,Object(r.a)({},e,{ariaSelection:n,focusedOption:o,focusedValue:a,isFocused:i,selectValue:c,focusableOptions:l}))}},{key:"render",value:function(){var e=this.getComponents(),t=e.Control,n=e.IndicatorsContainer,o=e.SelectContainer,a=e.ValueContainer,i=this.props,c=i.className,l=i.id,u=i.isDisabled,f=i.menuIsOpen,d=this.state.isFocused,p=this.commonProps=this.getCommonProps();return s.a.createElement(o,Object(r.a)({},p,{className:c,innerProps:{id:l,onKeyDown:this.onKeyDown},isDisabled:u,isFocused:d}),this.renderLiveRegion(),s.a.createElement(t,Object(r.a)({},p,{innerRef:this.getControlRef,innerProps:{onMouseDown:this.onControlMouseDown,onTouchEnd:this.onControlTouchEnd},isDisabled:u,isFocused:d,menuIsOpen:f}),s.a.createElement(a,Object(r.a)({},p,{isDisabled:u}),this.renderPlaceholderOrValue(),this.renderInput()),s.a.createElement(n,Object(r.a)({},p,{isDisabled:u}),this.renderClearIndicator(),this.renderLoadingIndicator(),this.renderIndicatorSeparator(),this.renderDropdownIndicator())),this.renderMenu(),this.renderFormField())}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n=t.prevProps,r=t.clearFocusValueOnUpdate,a=t.inputIsHiddenAfterUpdate,i=e.options,c=e.value,l=e.menuIsOpen,u=e.inputValue,s={};if(n&&(c!==n.value||i!==n.options||l!==n.menuIsOpen||u!==n.inputValue)){var f=Object(o.e)(c),d=l?function(e,t){return Y(G(e,t))}(e,f):[],p=r?function(e,t){var n=e.focusedValue,r=e.selectValue.indexOf(n);if(r>-1){if(t.indexOf(n)>-1)return n;if(r<t.length)return t[r]}return null}(t,f):null,m=function(e,t){var n=e.focusedOption;return n&&t.indexOf(n)>-1?n:t[0]}(t,d);s={selectValue:f,focusedOption:m,focusedValue:p,clearFocusValueOnUpdate:!1}}var h=null!=a&&e!==n?{inputIsHidden:a,inputIsHiddenAfterUpdate:void 0}:{};return Object(o.k)(Object(o.k)(Object(o.k)({},s),h),{},{prevProps:e})}}]),n}(u.Component);oe.defaultProps=$},,,,function(e,t,n){"use strict";function r(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}n.d(t,"a",(function(){return r}))},,,,function(e,t,n){var r=n(60),o=n(151),a=n(162),i=n(125),c=n(115),l=n(211),u=n(209),s=n(237),f=u((function(e,t){var n={};if(null==e)return n;var u=!1;t=r(t,(function(t){return t=i(t,e),u||(u=t.length>1),t})),c(e,s(e),n),u&&(n=o(n,7,l));for(var f=t.length;f--;)a(n,t[f]);return n}));e.exports=f},function(e,t,n){var r=n(164),o=n(80),a=n(141),i=o((function(e,t){return a(e)?r(e,t):[]}));e.exports=i},,,,function(e,t,n){"use strict";var r=n(0),o=n.n(r);function a(){return a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a.apply(this,arguments)}var i=o.a.createElement("path",{fillRule:"evenodd",d:"M3.577 0H18v14.423h-2.394V4.083L1.689 18 0 16.31 13.916 2.395H3.576V0Z",clipRule:"evenodd"});t.a=function(e){return o.a.createElement("svg",a({fill:"currentColor",viewBox:"0 0 18 18"},e),i)}},,,function(e,t,n){"use strict";var r=n(0),o=n.n(r);function a(){return a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a.apply(this,arguments)}var i=o.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M1.642 6.864H.369V14.5h10.182V6.864H9.278V4.318a3.818 3.818 0 0 0-7.636 0v2.546zm1.272 0h5.091V4.318a2.546 2.546 0 0 0-5.09 0v2.546z"});t.a=function(e){return o.a.createElement("svg",a({viewBox:"0 0 11 15"},e),i)}},function(e,t,n){var r=n(205),o=n(217)((function(e,t,n){r(e,n,t)}));e.exports=o},,,,,function(e,t,n){"use strict";n.d(t,"vb",(function(){return o})),n.d(t,"D",(function(){return a})),n.d(t,"wb",(function(){return i})),n.d(t,"d",(function(){return c})),n.d(t,"U",(function(){return l})),n.d(t,"c",(function(){return u})),n.d(t,"T",(function(){return s})),n.d(t,"o",(function(){return f})),n.d(t,"fb",(function(){return d})),n.d(t,"m",(function(){return p})),n.d(t,"db",(function(){return m})),n.d(t,"n",(function(){return h})),n.d(t,"eb",(function(){return g})),n.d(t,"h",(function(){return b})),n.d(t,"Y",(function(){return y})),n.d(t,"p",(function(){return v})),n.d(t,"gb",(function(){return O})),n.d(t,"s",(function(){return w})),n.d(t,"jb",(function(){return _})),n.d(t,"q",(function(){return j})),n.d(t,"hb",(function(){return E})),n.d(t,"r",(function(){return C})),n.d(t,"ib",(function(){return x})),n.d(t,"k",(function(){return I})),n.d(t,"bb",(function(){return S})),n.d(t,"i",(function(){return k})),n.d(t,"Z",(function(){return A})),n.d(t,"l",(function(){return T})),n.d(t,"cb",(function(){return P})),n.d(t,"g",(function(){return N})),n.d(t,"X",(function(){return M})),n.d(t,"H",(function(){return R})),n.d(t,"Bb",(function(){return L})),n.d(t,"J",(function(){return D})),n.d(t,"Db",(function(){return F})),n.d(t,"I",(function(){return z})),n.d(t,"Cb",(function(){return B})),n.d(t,"Ab",(function(){return V})),n.d(t,"t",(function(){return H})),n.d(t,"lb",(function(){return q})),n.d(t,"u",(function(){return W})),n.d(t,"kb",(function(){return U})),n.d(t,"w",(function(){return $})),n.d(t,"ob",(function(){return Q})),n.d(t,"mb",(function(){return G})),n.d(t,"v",(function(){return Y})),n.d(t,"nb",(function(){return K})),n.d(t,"A",(function(){return Z})),n.d(t,"tb",(function(){return X})),n.d(t,"a",(function(){return J})),n.d(t,"R",(function(){return ee})),n.d(t,"z",(function(){return te})),n.d(t,"rb",(function(){return ne})),n.d(t,"B",(function(){return re})),n.d(t,"sb",(function(){return oe})),n.d(t,"j",(function(){return ae})),n.d(t,"ab",(function(){return ie})),n.d(t,"e",(function(){return ce})),n.d(t,"V",(function(){return le})),n.d(t,"f",(function(){return ue})),n.d(t,"W",(function(){return se})),n.d(t,"b",(function(){return fe})),n.d(t,"S",(function(){return de})),n.d(t,"x",(function(){return pe})),n.d(t,"pb",(function(){return me})),n.d(t,"y",(function(){return he})),n.d(t,"qb",(function(){return ge})),n.d(t,"C",(function(){return be})),n.d(t,"ub",(function(){return ye})),n.d(t,"G",(function(){return ve})),n.d(t,"zb",(function(){return Oe})),n.d(t,"E",(function(){return we})),n.d(t,"yb",(function(){return _e})),n.d(t,"F",(function(){return je})),n.d(t,"xb",(function(){return Ee})),n.d(t,"N",(function(){return Ce})),n.d(t,"Hb",(function(){return xe})),n.d(t,"Q",(function(){return Ie})),n.d(t,"Kb",(function(){return Se})),n.d(t,"O",(function(){return ke})),n.d(t,"Jb",(function(){return Ae})),n.d(t,"P",(function(){return Te})),n.d(t,"Ib",(function(){return Pe})),n.d(t,"M",(function(){return Ne})),n.d(t,"Gb",(function(){return Me})),n.d(t,"K",(function(){return Re})),n.d(t,"Eb",(function(){return Le})),n.d(t,"L",(function(){return De})),n.d(t,"Fb",(function(){return Fe}));var r=n(25),o=Object(r.b)("songs"),a="songPage/SONG_LOADED",i=function(e){return{type:a,songId:e}},c="songPage/EXPANDABLE_CONTENT_EXPANDED",l=function(e){return{type:c,section:e}},u="songPage/EXPANDABLE_CONTENT_COLLAPSED",s=function(e){return{type:u,section:e}},f="songPage/LYRICS_EDIT_TOGGLED",d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.context,n=e.revertContext;return{type:f,context:t,revertContext:n}},p="songPage/LYRICS_EDIT_SET",m=function(e){return{type:p,lyrics:e}},h="songPage/LYRICS_EDIT_SUBMITTED",g=function(e,t){var n=t.hideFormAfterSubmit;return{type:h,songId:e,hideFormAfterSubmit:void 0!==n&&n}},b="songPage/LYRICS_EDIT_FAILED",y=function(e,t){var n=t.message,r=t.errors,o=void 0===r?[]:r,a=t.blockEdit;return{type:b,songId:e,message:n,errors:o,blockEdit:void 0!==a&&a}},v="songPage/LYRICS_EDIT_UPDATED",O=function(e,t,n){return{type:v,songId:e,lyricsData:t,currentUserMetadata:n}},w="songPage/LYRICS_FOR_EDIT_PROPOSAL_REQUESTED",_=function(e){return{type:w,songId:e}},j="songPage/LYRICS_FOR_EDIT_PROPOSAL_FAILED",E=function(e,t){var n=t.message,r=t.errors,o=void 0===r?[]:r,a=t.blockEdit;return{type:j,songId:e,message:n,errors:o,blockEdit:void 0!==a&&a}},C="songPage/LYRICS_FOR_EDIT_PROPOSAL_FETCHED",x=function(e,t){var n=t.lyrics,r=t.version;return{type:C,songId:e,lyrics:n,version:r}},I="songPage/LYRICS_EDIT_PROPOSAL_SUBMITTED",S=function(e){return{type:I,songId:e}},k="songPage/LYRICS_EDIT_PROPOSAL_FAILED",A=function(e,t){var n=t.message,r=t.errors,o=void 0===r?[]:r,a=t.blockEdit;return{type:k,songId:e,message:n,errors:o,blockEdit:void 0!==a&&a}},T="songPage/LYRICS_EDIT_PROPOSED",P=function(e){return{type:T,songId:e}},N="songPage/LYRICS_EDIT_ERROR_CLEARED",M=function(e){return{type:N,index:e}},R="songPage/SONG_REFRESHED",L=function(e){return{type:R,songId:e}},D="songPage/SONG_UPDATED",F=function(e,t){var n=t.result,r=t.entities;return{type:D,songId:e,result:n,entities:r}},z="songPage/SONG_TIMESTAMP_UPDATED",B=function(e){return{type:z,songId:e}},V=function(e){return{type:"songPage/SONG_REFRESH_FAILED",songId:e}},H="songPage/LYRICS_REFRESHED",q=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.forceRefresh,r=void 0!==n&&n;return{type:H,songId:e,forceRefresh:r}},W="songPage/LYRICS_REFRESH_FAILED",U=function(e){return{type:W,songId:e}},$="songPage/PENDING_LYRICS_EDIT_PROPOSALS_REQUESTED",Q=function(e){return{type:$,songId:e}},G=function(e,t){var n=t.message;return{type:j,songId:e,message:n}},Y="songPage/PENDING_LYRICS_EDIT_PROPOSALS_FETCHED",K=function(e,t){var n=t.result,r=t.entities;return{type:Y,songId:e,result:n,entities:r}},Z="songPage/RESOLVE_LYRICS_EDIT_PROPOSALS_TOGGLED",X=function(e){var t=e.isVisible;return{type:Z,isVisible:t}},J="songPage/ACCEPT_LYRICS_EDIT_PROPOSAL",ee=function(e,t){var n=t.lyricsEdit,r=t.patched,o=t.isLast;return{type:J,lyricsEditId:e,lyricsEdit:n,patched:r,isLast:o}},te="songPage/REJECT_LYRICS_EDIT_PROPOSAL",ne=function(e,t){var n=t.isLast;return{type:te,lyricsEditId:e,isLast:n}},re="songPage/RESOLVE_LYRICS_EDIT_PROPOSAL_FAILED",oe=function(e,t){return{type:re,lyricsEditId:e,message:t}},ae="songPage/LYRICS_EDIT_PROPOSAL_STATE_SET",ie=function(e,t){var n=t.state,r=t.hideLyricsEditProposals,o=t.lyricsData,a=t.songId,i=t.currentUserMetadata;return{type:ae,lyricsEditId:e,state:n,hideLyricsEditProposals:r,lyricsData:o,songId:a,currentUserMetadata:i}},ce="songPage/LYRICS_DATA_OPTIMISTIC_UPDATED",le=function(e){return{type:ce,payload:e}},ue="songPage/LYRICS_DATA_REVERT_OPTIMISTIC_UPDATED",se=function(e){return{type:ue,payload:e}},fe="songPage/ADMIN_ACTION_PERFORMED",de=function(e){var t=e.songId,n=e.action,r=e.data,o=e.showErrorInToast,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return{type:fe,payload:{songId:t,action:n,data:r,showErrorInToast:o},meta:a}},pe="songPage/PREVIEW_FOR_LYRICS_EXPORT_REQUESTED",me=function(e,t){var n=t.onDone,r=t.onError;return{type:pe,payload:{songId:e},meta:{onDone:n,onError:r}}},he="songPage/PREVIEW_FOR_LYRICS_EXPORT_SUCCEEDED",ge=function(e,t){var n=t.lyrics;return{type:he,payload:{songId:e,lyrics:n}}},be="songPage/SONG_DESTROYED",ye=function(e,t){var n=t.onSuccess;return{type:be,payload:{songId:e},meta:{onSuccess:n}}},ve="songPage/SONG_RECOMMENDATIONS_REQUESTED",Oe=function(e){return{type:ve,songId:e}},we="songPage/SONG_RECOMMENDATIONS_FETCHED",_e=function(e,t){var n=t.entities,r=t.result;return{type:we,songId:e,entities:n,result:r}},je="songPage/SONG_RECOMMENDATIONS_FETCH_FAILED",Ee=function(e){return{type:je,songId:e}},Ce="songPage/TRANSCRIPTION_PLAYER_VIDEO_TOGGLED",xe=function(){return{type:Ce}},Ie="songPage/TRENDING_SONGS_REQUESTED",Se=function(){return{type:Ie}},ke="songPage/TRENDING_SONGS_FETCHED",Ae=function(e){var t=e.entities,n=e.result;return{type:ke,entities:t,result:n}},Te="songPage/TRENDING_SONGS_FETCH_FAILED",Pe=function(){return{type:Te}},Ne="songPage/TOGGLE_CONTRIBUTOR_SIDEBAR",Me=function(){return{type:Ne}},Re="songPage/TOGGLE_ATTRIBUTIONS",Le=function(e,t,n){return{type:Re,entity:e,id:t,visible:n}},De="songPage/TOGGLE_CONTRIBUTIONS_MODAL",Fe=function(e){return{type:De,visible:e}}},,,function(e,t,n){var r=n(208);e.exports=function(e,t){return!!(null==e?0:e.length)&&r(e,t,0)>-1}},function(e,t){e.exports=function(e){var t=null==e?0:e.length;return t?e[t-1]:void 0}},function(e,t,n){"use strict";var r=n(0),o=n.n(r);function a(){return a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a.apply(this,arguments)}var i=o.a.createElement("path",{d:"m11 4.12 7.6 13.68H3.4L11 4.12M11 0 0 19.8h22L11 0z"}),c=o.a.createElement("path",{d:"M10 8.64h2v4.51h-2zm1 5.45a1.13 1.13 0 0 1 1.13 1.15A1.13 1.13 0 1 1 11 14.09z"});t.a=function(e){return o.a.createElement("svg",a({viewBox:"0 0 22 19.8"},e),i,c)}},function(e,t){e.exports=function(e){for(var t=-1,n=null==e?0:e.length,r=0,o=[];++t<n;){var a=e[t];a&&(o[r++]=a)}return o}},,,,,,,,,,,,,function(e,t,n){"use strict";var r=n(2),o=n(7),a=n.n(o);t.a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e;return Object(r.d)((function(n){return a()(n.ads,[e,t],{state:"initial",metadata:{},custom:{}})}))}},,function(e,t){e.exports=function(e,t,n){for(var r=-1,o=null==e?0:e.length;++r<o;)if(n(t,e[r]))return!0;return!1}},function(e,t,n){var r=n(207),o=n(169),a=n(41),i=n(34);e.exports=function(e,t){return(i(e)?r:o)(e,a(t,3))}},function(e,t,n){"use strict";var r=n(0),o=n.n(r);function a(){return a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a.apply(this,arguments)}var i=o.a.createElement("path",{d:"M12.18 1.41L10.77 0 6.09 4.68 1.41 0 0 1.41l4.68 4.68L0 10.77l1.41 1.41L6.09 7.5l4.68 4.68 1.41-1.41L7.5 6.09l4.68-4.68z"});t.a=function(e){return o.a.createElement("svg",a({viewBox:"0 0 12.18 12.18"},e),i)}},function(e,t,n){var r=n(192),o=n(80),a=n(163),i=n(141),c=o((function(e){return a(r(e,1,i,!0))}));e.exports=c},function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return o}));function r(e,t,n){var r="";return n.split(" ").forEach((function(n){void 0!==e[n]?t.push(e[n]+";"):r+=n+" "})),r}var o=function(e,t,n){var r=e.key+"-"+t.name;if(!1===n&&void 0===e.registered[r]&&(e.registered[r]=t.styles),void 0===e.inserted[t.name]){var o=t;do{e.insert(t===o?"."+r:"",o,e.sheet,!0);o=o.next}while(void 0!==o)}}},function(e,t,n){"use strict";n.d(t,"c",(function(){return p})),n.d(t,"b",(function(){return m})),n.d(t,"d",(function(){return h})),n.d(t,"a",(function(){return g}));var r=n(0),o=n.n(r),a=n(1),i=(n(3),n(56)),c=["ref"];function l(){return l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l.apply(this,arguments)}function u(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){d(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var p=function(e){return{control:function(t,n){return f(f({},t),{},{backgroundColor:"inherit",borderColor:e.color.background.on,":hover":{borderColor:e.color.background.on},opacity:n.isDisabled?.3:1})},input:function(t){return f(f({},t),{},{padding:"0 ".concat(e.space.quarter),backgroundColor:"transparent"})},multiValue:function(t,n){return f(f({},t),{},{fontFamily:e.font.alternate,color:e.color.background.on,backgroundColor:e.color.background[n.selectProps.valueBackgroundKey||"main"],border:"1px solid ".concat(e.color.background.on)})},multiValueRemove:function(t){return f(f({},t),{},{marginRight:e.space.hair,width:e.fontSize.reading,flexShrink:0,cursor:"pointer",":hover":{background:"transparent"},"& svg":{width:"100%"}})},menu:function(t){return f(f({},t),{},{margin:"".concat(e.space.hair," 0")})},menuList:function(t){return f(f({},t),{},{fontSize:e.fontSize.reading,padding:0})},noOptionsMessage:function(t){return f(f({},t),{},{color:e.color.background.onVariant})},option:function(t,n){return f(f({},t),{},{fontWeight:n.isSelected?"bold":"normal",background:n.isFocused?e.color.background.variant:e.color.background.main,color:e.color.background.on,cursor:"pointer"})},placeholder:function(t){return f(f({},t),{},{margin:"0 ".concat(e.space.half),color:e.color.background.onVariant})},singleValue:function(t){return f(f({},t),{},{padding:e.space.quarter})},clearIndicator:function(e){return f(f({},e),{},{cursor:"pointer",padding:0,margin:0})},valueContainer:function(t){return f(f({},t),{},{padding:e.space.quarter,lineHeight:1.5})}}},m=function(e){return f(f({},p(e)),{},{indicatorSeparator:function(){return{display:"none"}},placeholder:function(t){return f(f({},t),{},{color:e.color.background.on,padding:"0 ".concat(e.space.quarter)})},dropdownIndicator:function(t){return f(f({},t),{},{padding:0,cursor:"pointer",margin:"0 ".concat(e.space.small)})}})},h=function(e){return function(t){return f(f({},t),{},{borderRadius:0,colors:f(f({},t.colors),{},{primary25:e.color.background.variant,primary50:e.color.background.variant})})}},g=function e(t){var n=t.children,r=void 0===n?o.a.createElement(i.a,null):n,a=t.getStyles,s=t.innerProps,f=s.ref,d=u(s,c),p=t.selectProps.value.value;return null==p?null:o.a.createElement("div",l({},d,{ref:f,style:a("clearIndicator",t)}),o.a.createElement(e.ChildrenContainer,null,r))};g.ChildrenContainer=a.f.div.withConfig({displayName:"Inputshared__ChildrenContainer",componentId:"u142se-0"})(["padding:0px 5px;"])},function(e,t,n){"use strict";var r=n(0),o=n.n(r),a=(n(3),n(1)),i=function e(t){var n=t.width,r=t.height,a=t.isLoading,i=t.children;return a?o.a.createElement(e.Container,{width:n,height:r}):i},c=Object(a.g)(["from{opacity:1;}to{opacity:0.5;}"]);i.Container=a.f.div.withConfig({displayName:"Placeholder__Container",componentId:"lqei8s-0"})(["height:",";width:",";animation:"," 800ms ease-in-out alternate infinite;background-color:",""],(function(e){return e.height||"".concat(e.theme.lineHeight.short,"rem")}),(function(e){return e.width||"100%"}),c,(function(e){return e.theme.color.background.blockOnVariant})),t.a=o.a.memo(i)},,,,,function(e,t,n){"use strict";function r(e){var t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return null===t?null:[t[1],t[2],t[3]].map((function(e){return parseInt(e,16)}))}function o(e,t,n){return t/=255,n/=255,e=(e/=255)>.04045?Math.pow((e+.005)/1.055,2.4):e/12.92,t=t>.04045?Math.pow((t+.005)/1.055,2.4):t/12.92,n=n>.04045?Math.pow((n+.005)/1.055,2.4):n/12.92,[.4124*(e*=100)+.3576*(t*=100)+.1805*(n*=100),.2126*e+.7152*t+.0722*n,.0193*e+.1192*t+.9505*n]}function a(e,t,n){return t/=100,n/=108.883,e=(e/=95.047)>.008856?Math.pow(e,1/3):7.787*e+16/116,[116*(t=t>.008856?Math.pow(t,1/3):7.787*t+16/116)-16,500*(e-t),200*(t-(n=n>.008856?Math.pow(n,1/3):7.787*n+16/116))]}function i(e,t,n){var r=o(e,t,n);return a(r[0],r[1],r[2])}function c(e,t){var n=e[0],r=e[1],o=e[2],a=t[0],i=t[1],c=t[2],l=n-a,u=r-i,s=o-c,f=Math.sqrt(r*r+o*o),d=a-n,p=Math.sqrt(i*i+c*c)-f,m=Math.sqrt(l*l+u*u+s*s),h=Math.sqrt(m)>Math.sqrt(Math.abs(d))+Math.sqrt(Math.abs(p))?Math.sqrt(m*m-d*d-p*p):0;return d/=1,p/=1*(1+.045*f),h/=1*(1+.015*f),Math.sqrt(d*d+p*p+h*h)}function l(e,t){return c(i.apply(void 0,e),i.apply(void 0,t))}Object.defineProperty(t,"__esModule",{value:!0}),t.DELTAE94_DIFF_STATUS={NA:0,PERFECT:1,CLOSE:2,GOOD:10,SIMILAR:50},t.SIGBITS=5,t.RSHIFT=8-t.SIGBITS,t.defer=function(){var e,t,n=new Promise((function(n,r){e=n,t=r}));return{resolve:e,reject:t,promise:n}},t.hexToRgb=r,t.rgbToHex=function(e,t,n){return"#"+((1<<24)+(e<<16)+(t<<8)+n).toString(16).slice(1,7)},t.rgbToHsl=function(e,t,n){e/=255,t/=255,n/=255;var r,o,a=Math.max(e,t,n),i=Math.min(e,t,n),c=(a+i)/2;if(a===i)r=o=0;else{var l=a-i;switch(o=c>.5?l/(2-a-i):l/(a+i),a){case e:r=(t-n)/l+(t<n?6:0);break;case t:r=(n-e)/l+2;break;case n:r=(e-t)/l+4}r/=6}return[r,o,c]},t.hslToRgb=function(e,t,n){var r,o,a;function i(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}if(0===t)r=o=a=n;else{var c=n<.5?n*(1+t):n+t-n*t,l=2*n-c;r=i(l,c,e+1/3),o=i(l,c,e),a=i(l,c,e-1/3)}return[255*r,255*o,255*a]},t.rgbToXyz=o,t.xyzToCIELab=a,t.rgbToCIELab=i,t.deltaE94=c,t.rgbDiff=l,t.hexDiff=function(e,t){return l(r(e),r(t))},t.getColorDiffStatus=function(e){return e<t.DELTAE94_DIFF_STATUS.NA?"N/A":e<=t.DELTAE94_DIFF_STATUS.PERFECT?"Perfect":e<=t.DELTAE94_DIFF_STATUS.CLOSE?"Close":e<=t.DELTAE94_DIFF_STATUS.GOOD?"Good":e<t.DELTAE94_DIFF_STATUS.SIMILAR?"Similar":"Wrong"},t.getColorIndex=function(e,n,r){return(e<<2*t.SIGBITS)+(n<<t.SIGBITS)+r}},function(e,t,n){"use strict";var r=n(0),o=n.n(r);function a(){return a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a.apply(this,arguments)}var i=o.a.createElement("circle",{cx:5,cy:5,r:5});t.a=function(e){return o.a.createElement("svg",a({viewBox:"0 0 10 10"},e),i)}},function(e,t,n){"use strict";var r=n(0),o=n.n(r);function a(){return a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a.apply(this,arguments)}var i=o.a.createElement("polygon",{points:"5,0 10,5 5,10 0,5"});t.a=function(e){return o.a.createElement("svg",a({viewBox:"0 0 10 10"},e),i)}},function(e,t,n){"use strict";var r=n(0),o=n.n(r);function a(){return a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a.apply(this,arguments)}var i=o.a.createElement("rect",{x:1,y:1,width:8,height:8});t.a=function(e){return o.a.createElement("svg",a({viewBox:"0 0 10 10"},e),i)}},function(e,t,n){"use strict";var r=n(0),o=n.n(r);function a(){return a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a.apply(this,arguments)}var i=o.a.createElement("rect",{x:1,y:1,width:8,height:8});t.a=function(e){return o.a.createElement("svg",a({viewBox:"0 0 10 10"},e),i)}},function(e,t,n){"use strict";var r=n(0),o=n.n(r);function a(){return a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a.apply(this,arguments)}var i=o.a.createElement("path",{d:"m5 0 1.43 3.1.1.23.25.04 3.22.46-2.33 2.35-.19.2.05.26L8.1 10 5.21 8.38 5 8.26l-.21.12L1.89 10l.58-3.36.05-.27-.19-.19L0 3.83l3.22-.46.24-.04.11-.24Z"});t.a=function(e){return o.a.createElement("svg",a({viewBox:"0 0 10 10"},e),i)}},function(e,t,n){"use strict";var r=n(0),o=n.n(r);function a(){return a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a.apply(this,arguments)}var i=o.a.createElement("polygon",{points:"5,1 10,9 0,9"});t.a=function(e){return o.a.createElement("svg",a({viewBox:"0 0 10 10"},e),i)}},function(e,t,n){"use strict";var r=n(0),o=n.n(r);function a(){return a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a.apply(this,arguments)}var i=o.a.createElement("path",{fill:"#27F145",d:"M0 0h11v11H0z"}),c=o.a.createElement("path",{fill:"#FFF",d:"M4.764 5.9l-2-2L1.35 5.314l3.414 3.414 4.914-4.914L8.264 2.4"});t.a=function(e){return o.a.createElement("svg",a({width:11,height:11,viewBox:"0 0 11 11"},e),i,c)}},function(e,t,n){"use strict";var r,o,a,i=n(1);t.a=Object(i.d)(r||(o=["\n  html { font-size: 16px; }\n\n  @media screen and (min-width: ",") {\n    html { font-size: 18px; }\n  }\n"],a||(a=o.slice(0)),r=Object.freeze(Object.defineProperties(o,{raw:{value:Object.freeze(a)}}))),(function(e){return e.theme.widths.largeTextBreakpoint}))},function(e,t,n){var r=n(85),o=n(55);e.exports=function(e){return"number"==typeof e||o(e)&&"[object Number]"==r(e)}},,function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return o}));var r=n(4),o=Object(r.e)((e||window).__IQ_BY_EVENT_TYPE__)}).call(this,n(124))},,,,function(e,t,n){var r=n(80),o=n(203),a=n(148),i=n(158),c=Object.prototype,l=c.hasOwnProperty,u=r((function(e,t){e=Object(e);var n=-1,r=t.length,u=r>2?t[2]:void 0;for(u&&a(t[0],t[1],u)&&(r=1);++n<r;)for(var s=t[n],f=i(s),d=-1,p=f.length;++d<p;){var m=f[d],h=e[m];(void 0===h||o(h,c[m])&&!l.call(e,m))&&(e[m]=s[m])}return e}));e.exports=u},function(e,t,n){"use strict";var r=n(0),o=n.n(r);function a(){return a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a.apply(this,arguments)}var i=o.a.createElement("path",{d:"M12.55 6.76a4 4 0 1 0 0-4.59 4.41 4.41 0 0 1 0 4.59zm3.07 2.91v5.17H22V9.66l-6.38.01M7 9a4.43 4.43 0 0 0 3.87-2.23 4.41 4.41 0 0 0 0-4.59 4.47 4.47 0 0 0-8.38 2.3A4.48 4.48 0 0 0 7 9zm-7 1.35v6.12h13.89v-6.14l-6.04.01-7.85.01"});t.a=function(e){return o.a.createElement("svg",a({viewBox:"0 0 22 16.47"},e),i)}},function(e,t,n){var r=n(60),o=n(41),a=n(220),i=n(34);e.exports=function(e,t){return(i(e)?r:a)(e,o(t,3))}},function(e,t,n){"use strict";var r=function(e){for(var t,n=0,r=0,o=e.length;o>=4;++r,o-=4)t=1540483477*(65535&(t=255&e.charCodeAt(r)|(255&e.charCodeAt(++r))<<8|(255&e.charCodeAt(++r))<<16|(255&e.charCodeAt(++r))<<24))+(59797*(t>>>16)<<16),n=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&n)+(59797*(n>>>16)<<16);switch(o){case 3:n^=(255&e.charCodeAt(r+2))<<16;case 2:n^=(255&e.charCodeAt(r+1))<<8;case 1:n=1540483477*(65535&(n^=255&e.charCodeAt(r)))+(59797*(n>>>16)<<16)}return(((n=1540483477*(65535&(n^=n>>>13))+(59797*(n>>>16)<<16))^n>>>15)>>>0).toString(36)},o=n(312);var a=function(e){var t=Object.create(null);return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}};n.d(t,"a",(function(){return h}));var i=/[A-Z]|^ms/g,c=/_EMO_([^_]+?)_([^]*?)_EMO_/g,l=function(e){return 45===e.charCodeAt(1)},u=function(e){return null!=e&&"boolean"!=typeof e},s=a((function(e){return l(e)?e:e.replace(i,"-$&").toLowerCase()})),f=function(e,t){switch(e){case"animation":case"animationName":if("string"==typeof t)return t.replace(c,(function(e,t,n){return p={name:t,styles:n,next:p},t}))}return 1===o.a[e]||l(e)||"number"!=typeof t||0===t?t:t+"px"};function d(e,t,n){if(null==n)return"";if(void 0!==n.__emotion_styles)return n;switch(typeof n){case"boolean":return"";case"object":if(1===n.anim)return p={name:n.name,styles:n.styles,next:p},n.name;if(void 0!==n.styles){var r=n.next;if(void 0!==r)for(;void 0!==r;)p={name:r.name,styles:r.styles,next:p},r=r.next;return n.styles+";"}return function(e,t,n){var r="";if(Array.isArray(n))for(var o=0;o<n.length;o++)r+=d(e,t,n[o])+";";else for(var a in n){var i=n[a];if("object"!=typeof i)null!=t&&void 0!==t[i]?r+=a+"{"+t[i]+"}":u(i)&&(r+=s(a)+":"+f(a,i)+";");else if(!Array.isArray(i)||"string"!=typeof i[0]||null!=t&&void 0!==t[i[0]]){var c=d(e,t,i);switch(a){case"animation":case"animationName":r+=s(a)+":"+c+";";break;default:r+=a+"{"+c+"}"}}else for(var l=0;l<i.length;l++)u(i[l])&&(r+=s(a)+":"+f(a,i[l])+";")}return r}(e,t,n);case"function":if(void 0!==e){var o=p,a=n(e);return p=o,d(e,t,a)}}if(null==t)return n;var i=t[n];return void 0!==i?i:n}var p,m=/label:\s*([^\s;\n{]+)\s*(;|$)/g;var h=function(e,t,n){if(1===e.length&&"object"==typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var o=!0,a="";p=void 0;var i=e[0];null==i||void 0===i.raw?(o=!1,a+=d(n,t,i)):a+=i[0];for(var c=1;c<e.length;c++)a+=d(n,t,e[c]),o&&(a+=i[c]);m.lastIndex=0;for(var l,u="";null!==(l=m.exec(a));)u+="-"+l[1];return{name:r(a)+u,styles:a,next:p}}},,,,,,,function(e,t,n){"use strict";var r=Number.isNaN||function(e){return"number"==typeof e&&e!=e};function o(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(o=e[n],a=t[n],!(o===a||r(o)&&r(a)))return!1;var o,a;return!0}t.a=function(e,t){var n;void 0===t&&(t=o);var r,a=[],i=!1;return function(){for(var o=[],c=0;c<arguments.length;c++)o[c]=arguments[c];return i&&n===this&&t(o,a)||(r=e.apply(this,o),i=!0,n=this,a=o),r}}},,,,,,,,,,function(e,t,n){var r=n(125),o=n(99),a=n(210),i=n(157);e.exports=function(e,t){return t=r(t,e),null==(e=a(e,t))||delete e[i(o(t))]}},function(e,t,n){var r=n(149),o=n(98),a=n(116),i=n(150),c=n(212),l=n(161);e.exports=function(e,t,n){var u=-1,s=o,f=e.length,d=!0,p=[],m=p;if(n)d=!1,s=a;else if(f>=200){var h=t?null:c(e);if(h)return l(h);d=!1,s=i,m=new r}else m=t?[]:p;e:for(;++u<f;){var g=e[u],b=t?t(g):g;if(g=n||0!==g?g:0,d&&b==b){for(var y=m.length;y--;)if(m[y]===b)continue e;t&&m.push(b),p.push(g)}else s(m,b,n)||(m!==p&&m.push(b),p.push(g))}return p}},function(e,t,n){var r=n(149),o=n(98),a=n(116),i=n(60),c=n(87),l=n(150);e.exports=function(e,t,n,u){var s=-1,f=o,d=!0,p=e.length,m=[],h=t.length;if(!p)return m;n&&(t=i(t,c(n))),u?(f=a,d=!1):t.length>=200&&(f=l,d=!1,t=new r(t));e:for(;++s<p;){var g=e[s],b=null==n?g:n(g);if(g=u||0!==g?g:0,d&&b==b){for(var y=h;y--;)if(t[y]===b)continue e;m.push(g)}else f(t,b,u)||m.push(g)}return m}},,function(e,t,n){"use strict";var r=n(271),o=n(156),a="function"==typeof Symbol&&"symbol"==typeof Symbol(),i=Object.prototype.toString,c=Object.defineProperty&&function(){var e={};try{for(var t in Object.defineProperty(e,"x",{enumerable:!1,value:e}),e)return!1;return e.x===e}catch(e){return!1}}(),l=function(e,t,n,r){var o;(!(t in e)||"function"==typeof(o=r)&&"[object Function]"===i.call(o)&&r())&&(c?Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:n,writable:!0}):e[t]=n)},u=function(e,t){var n=arguments.length>2?arguments[2]:{},i=r(t);a&&(i=i.concat(Object.getOwnPropertySymbols(t))),o(i,(function(r){l(e,r,t[r],n[r])}))};u.supportsDescriptors=!!c,e.exports=u},function(e,t,n){"use strict";var r=n(273),o=function(e){throw e},a="function"==typeof Symbol&&"symbol"==typeof Symbol("foo");e.exports=function(e){r.RequireObjectCoercible(e);var t={};if(!a){if(!r.IsArray(e))throw new TypeError("this environment lacks native Symbols, and can not support non-Array iterables");return function(e,t){for(var n=0;n<t.length;++n){var o=t[n];if("Object"!==r.Type(o))throw new TypeError("iterator returned a non-object; entry expected");var a=r.Get(o,"0"),i=r.Get(o,"1"),c=r.ToPropertyKey(a);r.CreateDataPropertyOrThrow(e,c,i)}}(t,e),t}for(var n=r.GetIterator(e);;){var i=r.IteratorStep(n);if(!1===i)return t;var c=r.IteratorValue(i);if("Object"!==r.Type(c)){var l=new TypeError("iterator returned a non-object; entry expected");return r.IteratorClose(n,o(l))}try{var u=r.Get(c,"0"),s=r.Get(c,"1"),f=r.ToPropertyKey(u);r.CreateDataPropertyOrThrow(t,f,s)}catch(e){return r.IteratorClose(n,o(e))}}}},function(e,t,n){"use strict";var r=n(167);e.exports=function(){return"function"==typeof Object.fromEntries?Object.fromEntries:r}},function(e,t,n){var r=n(71);e.exports=function(e,t){var n=[];return r(e,(function(e,r,o){t(e,r,o)&&n.push(e)})),n}},function(e,t,n){var r=n(79);e.exports=function(e,t){return function(n,o){if(null==n)return n;if(!r(n))return e(n,o);for(var a=n.length,i=t?a:-1,c=Object(n);(t?i--:++i<a)&&!1!==o(c[i],i,c););return n}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(127),o=n(117),a=function(){function e(e,t){this._rgb=e,this._population=t}return e.applyFilter=function(e,t){return"function"==typeof t?o(e,(function(e){var n=e.r,r=e.g,o=e.b;return t(n,r,o,255)})):e},Object.defineProperty(e.prototype,"r",{get:function(){return this._rgb[0]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"g",{get:function(){return this._rgb[1]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"b",{get:function(){return this._rgb[2]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rgb",{get:function(){return this._rgb},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hsl",{get:function(){if(!this._hsl){var e=this._rgb,t=e[0],n=e[1],o=e[2];this._hsl=r.rgbToHsl(t,n,o)}return this._hsl},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hex",{get:function(){if(!this._hex){var e=this._rgb,t=e[0],n=e[1],o=e[2];this._hex=r.rgbToHex(t,n,o)}return this._hex},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"population",{get:function(){return this._population},enumerable:!0,configurable:!0}),e.prototype.toJSON=function(){return{rgb:this.rgb,population:this.population}},e.prototype.getRgb=function(){return this._rgb},e.prototype.getHsl=function(){return this.hsl},e.prototype.getPopulation=function(){return this._population},e.prototype.getHex=function(){return this.hex},e.prototype.getYiq=function(){if(!this._yiq){var e=this._rgb;this._yiq=(299*e[0]+587*e[1]+114*e[2])/1e3}return this._yiq},Object.defineProperty(e.prototype,"titleTextColor",{get:function(){return this._titleTextColor||(this._titleTextColor=this.getYiq()<200?"#fff":"#000"),this._titleTextColor},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bodyTextColor",{get:function(){return this._bodyTextColor||(this._bodyTextColor=this.getYiq()<150?"#fff":"#000"),this._bodyTextColor},enumerable:!0,configurable:!0}),e.prototype.getTitleTextColor=function(){return this.titleTextColor},e.prototype.getBodyTextColor=function(){return this.bodyTextColor},e}();t.Swatch=a},,function(e,t,n){"use strict";var r=n(166),o=n(167),a=n(168),i=n(275),c=a();r(c,{getPolyfill:a,implementation:o,shim:i}),e.exports=c},function(e,t,n){"use strict";e.exports=n(276)},function(e,t,n){"use strict";var r=n(0),o=n.n(r);function a(){return a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a.apply(this,arguments)}var i=o.a.createElement("path",{fill:"#FF1464",d:"M3.33494 0C3.33494 0 4.09484 1.88505 3.82154 4.2567C3.54779 6.62835 0.236392 9.669 0.250042 12.6792C0.263692 15.6894 5.14004 18 5.14004 18C5.14004 18 4.03634 16.0332 5.97389 12.7953C5.97389 12.7953 8.21519 14.3668 7.98599 15.7594C7.74464 17.2239 6.60914 18 6.60914 18C6.60914 18 13.4295 17.1792 13.4899 11.676C13.551 6.1722 9.49469 2.73315 9.49469 2.73315C9.49469 2.73315 9.94184 4.95165 8.72384 6.97485C8.72384 6.97485 5.67599 0.7605 3.33494 0ZM5.38739 4.30215C6.08369 5.3508 6.77669 6.5532 7.32239 7.66335L8.58509 10.2348L10.0626 7.78005C10.285 7.4103 10.4641 7.0371 10.6069 6.66915C11.3284 7.9623 11.9508 9.6618 11.9287 11.6584C11.9079 13.524 10.786 14.681 9.55904 15.3902C9.44159 13.4235 7.33139 11.8395 6.87059 11.5164L5.49629 10.5534L4.63394 11.9932C3.95714 13.1242 3.58724 14.1443 3.40754 15.03C2.53679 14.3027 1.81514 13.4493 1.81199 12.672C1.80614 11.4366 2.69579 9.9708 3.55619 8.5536C4.40819 7.1514 5.21219 5.8263 5.37299 4.4358C5.37824 4.39095 5.38274 4.34625 5.38739 4.30215Z"});t.a=function(e){return o.a.createElement("svg",a({viewBox:"0 0 14 18"},e),i)}},function(e,t,n){var r=n(204),o=n(232),a=n(147),i=n(78),c=n(239),l=n(216),u=n(234),s=n(88),f=n(97),d=/\w*$/;e.exports=function(e,t){var n=30,p="...";if(i(t)){var m="separator"in t?t.separator:m;n="length"in t?s(t.length):n,p="omission"in t?r(t.omission):p}var h=(e=f(e)).length;if(a(e)){var g=u(e);h=g.length}if(n>=h)return e;var b=n-l(p);if(b<1)return p;var y=g?o(g,0,b).join(""):e.slice(0,b);if(void 0===m)return y+p;if(g&&(b+=y.length-b),c(m)){if(e.slice(b).search(m)){var v,O=y;for(m.global||(m=RegExp(m.source,f(d.exec(m))+"g")),m.lastIndex=0;v=m.exec(O);)var w=v.index;y=y.slice(0,void 0===w?b:w)}}else if(e.indexOf(r(m),b)!=b){var _=y.lastIndexOf(m);_>-1&&(y=y.slice(0,_))}return y+p}},function(e,t,n){"use strict";t.a=function(e){var t=new WeakMap;return function(n){if(t.has(n))return t.get(n);var r=e(n);return t.set(n,r),r}}},function(e,t,n){"use strict";var r=function(){function e(e){var t=this;this._insertTag=function(e){var n;n=0===t.tags.length?t.prepend?t.container.firstChild:t.before:t.tags[t.tags.length-1].nextSibling,t.container.insertBefore(e,n),t.tags.push(e)},this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.prepend=e.prepend,this.before=null}var t=e.prototype;return t.hydrate=function(e){e.forEach(this._insertTag)},t.insert=function(e){this.ctr%(this.isSpeedy?65e3:1)==0&&this._insertTag(function(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),void 0!==e.nonce&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}(this));var t=this.tags[this.tags.length-1];if(this.isSpeedy){var n=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(t);try{n.insertRule(e,n.cssRules.length)}catch(e){0}}else t.appendChild(document.createTextNode(e));this.ctr++},t.flush=function(){this.tags.forEach((function(e){return e.parentNode.removeChild(e)})),this.tags=[],this.ctr=0},e}(),o="-ms-",a="-moz-",i="-webkit-",c="comm",l="rule",u="decl",s=Math.abs,f=String.fromCharCode;function d(e){return e.trim()}function p(e,t,n){return e.replace(t,n)}function m(e,t){return e.indexOf(t)}function h(e,t){return 0|e.charCodeAt(t)}function g(e,t,n){return e.slice(t,n)}function b(e){return e.length}function y(e){return e.length}function v(e,t){return t.push(e),e}function O(e,t){return e.map(t).join("")}var w=1,_=1,j=0,E=0,C=0,x="";function I(e,t,n,r,o,a,i){return{value:e,root:t,parent:n,type:r,props:o,children:a,line:w,column:_,length:i,return:""}}function S(e,t,n){return I(e,t.root,t.parent,n,t.props,t.children,0)}function k(){return C=E>0?h(x,--E):0,_--,10===C&&(_=1,w--),C}function A(){return C=E<j?h(x,E++):0,_++,10===C&&(_=1,w++),C}function T(){return h(x,E)}function P(){return E}function N(e,t){return g(x,e,t)}function M(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function R(e){return w=_=1,j=b(x=e),E=0,[]}function L(e){return x="",e}function D(e){return d(N(E-1,B(91===e?e+2:40===e?e+1:e)))}function F(e){for(;(C=T())&&C<33;)A();return M(e)>2||M(C)>3?"":" "}function z(e,t){for(;--t&&A()&&!(C<48||C>102||C>57&&C<65||C>70&&C<97););return N(e,P()+(t<6&&32==T()&&32==A()))}function B(e){for(;A();)switch(C){case e:return E;case 34:case 39:return B(34===e||39===e?e:C);case 40:41===e&&B(e);break;case 92:A()}return E}function V(e,t){for(;A()&&e+C!==57&&(e+C!==84||47!==T()););return"/*"+N(t,E-1)+"*"+f(47===e?e:A())}function H(e){for(;!M(T());)A();return N(e,E)}function q(e){return L(W("",null,null,null,[""],e=R(e),0,[0],e))}function W(e,t,n,r,o,a,i,c,l){for(var u=0,s=0,d=i,m=0,h=0,g=0,y=1,O=1,w=1,_=0,j="",E=o,C=a,x=r,I=j;O;)switch(g=_,_=A()){case 34:case 39:case 91:case 40:I+=D(_);break;case 9:case 10:case 13:case 32:I+=F(g);break;case 92:I+=z(P()-1,7);continue;case 47:switch(T()){case 42:case 47:v($(V(A(),P()),t,n),l);break;default:I+="/"}break;case 123*y:c[u++]=b(I)*w;case 125*y:case 59:case 0:switch(_){case 0:case 125:O=0;case 59+s:h>0&&b(I)-d&&v(h>32?Q(I+";",r,n,d-1):Q(p(I," ","")+";",r,n,d-2),l);break;case 59:I+=";";default:if(v(x=U(I,t,n,u,s,o,c,j,E=[],C=[],d),a),123===_)if(0===s)W(I,t,x,x,E,a,d,c,C);else switch(m){case 100:case 109:case 115:W(e,x,x,r&&v(U(e,x,x,0,0,o,c,j,o,E=[],d),C),o,C,d,c,r?E:C);break;default:W(I,x,x,x,[""],C,d,c,C)}}u=s=h=0,y=w=1,j=I="",d=i;break;case 58:d=1+b(I),h=g;default:if(y<1)if(123==_)--y;else if(125==_&&0==y++&&125==k())continue;switch(I+=f(_),_*y){case 38:w=s>0?1:(I+="\f",-1);break;case 44:c[u++]=(b(I)-1)*w,w=1;break;case 64:45===T()&&(I+=D(A())),m=T(),s=b(j=I+=H(P())),_++;break;case 45:45===g&&2==b(I)&&(y=0)}}return a}function U(e,t,n,r,o,a,i,c,u,f,m){for(var h=o-1,b=0===o?a:[""],v=y(b),O=0,w=0,_=0;O<r;++O)for(var j=0,E=g(e,h+1,h=s(w=i[O])),C=e;j<v;++j)(C=d(w>0?b[j]+" "+E:p(E,/&\f/g,b[j])))&&(u[_++]=C);return I(e,t,n,0===o?l:c,u,f,m)}function $(e,t,n){return I(e,t,n,c,f(C),g(e,2,-2),0)}function Q(e,t,n,r){return I(e,t,n,u,g(e,0,r),g(e,r+1,-1),r)}function G(e,t){switch(function(e,t){return(((t<<2^h(e,0))<<2^h(e,1))<<2^h(e,2))<<2^h(e,3)}(e,t)){case 5103:return i+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return i+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return i+e+a+e+o+e+e;case 6828:case 4268:return i+e+o+e+e;case 6165:return i+e+o+"flex-"+e+e;case 5187:return i+e+p(e,/(\w+).+(:[^]+)/,i+"box-$1$2"+o+"flex-$1$2")+e;case 5443:return i+e+o+"flex-item-"+p(e,/flex-|-self/,"")+e;case 4675:return i+e+o+"flex-line-pack"+p(e,/align-content|flex-|-self/,"")+e;case 5548:return i+e+o+p(e,"shrink","negative")+e;case 5292:return i+e+o+p(e,"basis","preferred-size")+e;case 6060:return i+"box-"+p(e,"-grow","")+i+e+o+p(e,"grow","positive")+e;case 4554:return i+p(e,/([^-])(transform)/g,"$1"+i+"$2")+e;case 6187:return p(p(p(e,/(zoom-|grab)/,i+"$1"),/(image-set)/,i+"$1"),e,"")+e;case 5495:case 3959:return p(e,/(image-set\([^]*)/,i+"$1$`$1");case 4968:return p(p(e,/(.+:)(flex-)?(.*)/,i+"box-pack:$3"+o+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+i+e+e;case 4095:case 3583:case 4068:case 2532:return p(e,/(.+)-inline(.+)/,i+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(b(e)-1-t>6)switch(h(e,t+1)){case 109:if(45!==h(e,t+4))break;case 102:return p(e,/(.+:)(.+)-([^]+)/,"$1"+i+"$2-$3$1"+a+(108==h(e,t+3)?"$3":"$2-$3"))+e;case 115:return~m(e,"stretch")?G(p(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(115!==h(e,t+1))break;case 6444:switch(h(e,b(e)-3-(~m(e,"!important")&&10))){case 107:return p(e,":",":"+i)+e;case 101:return p(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+i+(45===h(e,14)?"inline-":"")+"box$3$1"+i+"$2$3$1"+o+"$2box$3")+e}break;case 5936:switch(h(e,t+11)){case 114:return i+e+o+p(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return i+e+o+p(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return i+e+o+p(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return i+e+o+e+e}return e}function Y(e,t){for(var n="",r=y(e),o=0;o<r;o++)n+=t(e[o],o,e,t)||"";return n}function K(e,t,n,r){switch(e.type){case"@import":case u:return e.return=e.return||e.value;case c:return"";case l:e.value=e.props.join(",")}return b(n=Y(e.children,r))?e.return=e.value+"{"+n+"}":""}function Z(e){return function(t){t.root||(t=t.return)&&e(t)}}n(177);var X=function(e,t){return L(function(e,t){var n=-1,r=44;do{switch(M(r)){case 0:38===r&&12===T()&&(t[n]=1),e[n]+=H(E-1);break;case 2:e[n]+=D(r);break;case 4:if(44===r){e[++n]=58===T()?"&\f":"",t[n]=e[n].length;break}default:e[n]+=f(r)}}while(r=A());return e}(R(e),t))},J=new WeakMap,ee=function(e){if("rule"===e.type&&e.parent&&e.length){for(var t=e.value,n=e.parent,r=e.column===n.column&&e.line===n.line;"rule"!==n.type;)if(!(n=n.parent))return;if((1!==e.props.length||58===t.charCodeAt(0)||J.get(n))&&!r){J.set(e,!0);for(var o=[],a=X(t,o),i=n.props,c=0,l=0;c<a.length;c++)for(var u=0;u<i.length;u++,l++)e.props[l]=o[c]?a[c].replace(/&\f/g,i[u]):i[u]+" "+a[c]}}},te=function(e){if("decl"===e.type){var t=e.value;108===t.charCodeAt(0)&&98===t.charCodeAt(2)&&(e.return="",e.value="")}},ne=[function(e,t,n,r){if(!e.return)switch(e.type){case u:e.return=G(e.value,e.length);break;case"@keyframes":return Y([S(p(e.value,"@","@"+i),e,"")],r);case l:if(e.length)return O(e.props,(function(t){switch(function(e,t){return(e=t.exec(e))?e[0]:e}(t,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Y([S(p(t,/:(read-\w+)/,":-moz-$1"),e,"")],r);case"::placeholder":return Y([S(p(t,/:(plac\w+)/,":"+i+"input-$1"),e,""),S(p(t,/:(plac\w+)/,":-moz-$1"),e,""),S(p(t,/:(plac\w+)/,o+"input-$1"),e,"")],r)}return""}))}}];t.a=function(e){var t=e.key;if("css"===t){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,(function(e){-1!==e.getAttribute("data-emotion").indexOf(" ")&&(document.head.appendChild(e),e.setAttribute("data-s",""))}))}var o=e.stylisPlugins||ne;var a,i,c={},l=[];a=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),(function(e){for(var t=e.getAttribute("data-emotion").split(" "),n=1;n<t.length;n++)c[t[n]]=!0;l.push(e)}));var u=[ee,te];var s,f=[K,Z((function(e){s.insert(e)}))],d=function(e){var t=y(e);return function(n,r,o,a){for(var i="",c=0;c<t;c++)i+=e[c](n,r,o,a)||"";return i}}(u.concat(o,f));i=function(e,t,n,r){s=n,Y(q(e?e+"{"+t.styles+"}":t.styles),d),r&&(p.inserted[t.name]=!0)};var p={key:t,sheet:new r({key:t,container:a,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend}),nonce:e.nonce,inserted:c,registered:{},insert:i};return p.sheet.hydrate(l),p}},,function(e,t,n){"use strict";var r=n(0),o=n.n(r);function a(){return a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a.apply(this,arguments)}var i=o.a.createElement("path",{d:"M4 5l2.6 2.4L6 8 5 7l-.5-.6v4.5H0v-.8h3.7V6.4l-.5.6-1 1-.6-.6L4 5z"});t.a=function(e){return o.a.createElement("svg",a({viewBox:"0 0 6.6 16"},e),i)}},function(e,t,n){"use strict";var r=n(0),o=n.n(r);function a(){return a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a.apply(this,arguments)}var i=o.a.createElement("path",{d:"M15.923 1.385h-2.77V0H11.77v1.385H6.231V0H4.846v1.385h-2.77c-.76 0-1.384.623-1.384 1.384v13.846c0 .762.623 1.385 1.385 1.385h13.846c.762 0 1.385-.623 1.385-1.385V2.77c0-.761-.623-1.384-1.385-1.384Zm0 15.23H2.077V6.923h13.846v9.692Zm0-11.077H2.077V2.77h2.77v1.385H6.23V2.769h5.538v1.385h1.385V2.769h2.77v2.77Z"});t.a=function(e){return o.a.createElement("svg",a({fill:"currentColor",viewBox:"0 0 18 18"},e),i)}},function(e,t,n){"use strict";var r=n(0),o=n.n(r);function a(){return a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a.apply(this,arguments)}var i=o.a.createElement("path",{d:"M4.488 7 0 0h8.977L4.488 7Z"});t.a=function(e){return o.a.createElement("svg",a({viewBox:"0 0 9 7"},e),i)}},function(e,t,n){"use strict";var r=n(0),o=n.n(r);function a(){return a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a.apply(this,arguments)}var i=o.a.createElement("path",{d:"M4.488.5 0 7.5h8.977L4.488.5Z"});t.a=function(e){return o.a.createElement("svg",a({viewBox:"0 0 9 8"},e),i)}},function(e,t,n){var r=n(400),o=n(191),a=n(296),i=n(34),c=n(79),l=n(235),u=n(332),s=n(297),f=Object.prototype.hasOwnProperty;e.exports=function(e){if(null==e)return!0;if(c(e)&&(i(e)||"string"==typeof e||"function"==typeof e.splice||l(e)||s(e)||a(e)))return!e.length;var t=o(e);if("[object Map]"==t||"[object Set]"==t)return!e.size;if(u(e))return!r(e).length;for(var n in e)if(f.call(e,n))return!1;return!0}},function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var r=n(17),o=n(77),a=n(61),i=n(62),c=n(63),l=n(15),u=n(0),s=n.n(u),f={defaultInputValue:"",defaultMenuIsOpen:!1,defaultValue:null},d=function(e){var t,n;return n=t=function(t){Object(c.a)(u,t);var n=Object(l.j)(u);function u(){var e;Object(a.a)(this,u);for(var t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];return(e=n.call.apply(n,[this].concat(r))).select=void 0,e.state={inputValue:void 0!==e.props.inputValue?e.props.inputValue:e.props.defaultInputValue,menuIsOpen:void 0!==e.props.menuIsOpen?e.props.menuIsOpen:e.props.defaultMenuIsOpen,value:void 0!==e.props.value?e.props.value:e.props.defaultValue},e.onChange=function(t,n){e.callProp("onChange",t,n),e.setState({value:t})},e.onInputChange=function(t,n){var r=e.callProp("onInputChange",t,n);e.setState({inputValue:void 0!==r?r:t})},e.onMenuOpen=function(){e.callProp("onMenuOpen"),e.setState({menuIsOpen:!0})},e.onMenuClose=function(){e.callProp("onMenuClose"),e.setState({menuIsOpen:!1})},e}return Object(i.a)(u,[{key:"focus",value:function(){this.select.focus()}},{key:"blur",value:function(){this.select.blur()}},{key:"getProp",value:function(e){return void 0!==this.props[e]?this.props[e]:this.state[e]}},{key:"callProp",value:function(e){if("function"==typeof this.props[e]){for(var t,n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return(t=this.props)[e].apply(t,r)}}},{key:"render",value:function(){var t=this,n=this.props;n.defaultInputValue,n.defaultMenuIsOpen,n.defaultValue;var a=Object(o.a)(n,["defaultInputValue","defaultMenuIsOpen","defaultValue"]);return s.a.createElement(e,Object(r.a)({},a,{ref:function(e){t.select=e},inputValue:this.getProp("inputValue"),menuIsOpen:this.getProp("menuIsOpen"),onChange:this.onChange,onInputChange:this.onInputChange,onMenuClose:this.onMenuClose,onMenuOpen:this.onMenuOpen,value:this.getProp("value")}))}}]),u}(u.Component),t.defaultProps=f,n}},function(e,t,n){"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function o(e){return function(e){if(Array.isArray(e))return r(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}n.d(t,"a",(function(){return o}))},,,function(e,t,n){"use strict";n.d(t,"d",(function(){return o})),n.d(t,"b",(function(){return a})),n.d(t,"f",(function(){return i})),n.d(t,"a",(function(){return c})),n.d(t,"e",(function(){return l})),n.d(t,"c",(function(){return u})),n.d(t,"g",(function(){return s}));var r=n(25),o=Object(r.b)("users"),a="songPage/USER_TOOLTIP_DISPLAYED",i=function(e){return{type:a,userId:e}},c="songPage/USER_FOLLOW",l=function(e,t){return{type:c,userId:e,onDone:t}},u="songPage/USER_UNFOLLOW",s=function(e,t){return{type:u,userId:e,onDone:t}}},,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(0),i=l(a),c=l(n(489));function l(e){return e&&e.__esModule?e:{default:e}}var u={position:"absolute",top:0,left:0,visibility:"hidden",height:0,overflow:"scroll",whiteSpace:"pre"},s=["extraWidth","injectStyles","inputClassName","inputRef","inputStyle","minWidth","onAutosize","placeholderIsMinWidth"],f=function(e,t){t.style.fontSize=e.fontSize,t.style.fontFamily=e.fontFamily,t.style.fontWeight=e.fontWeight,t.style.fontStyle=e.fontStyle,t.style.letterSpacing=e.letterSpacing,t.style.textTransform=e.textTransform},d=!("undefined"==typeof window||!window.navigator)&&/MSIE |Trident\/|Edge\//.test(window.navigator.userAgent),p=function(){return d?"_"+Math.random().toString(36).substr(2,12):void 0},m=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.inputRef=function(e){n.input=e,"function"==typeof n.props.inputRef&&n.props.inputRef(e)},n.placeHolderSizerRef=function(e){n.placeHolderSizer=e},n.sizerRef=function(e){n.sizer=e},n.state={inputWidth:e.minWidth,inputId:e.id||p(),prevId:e.id},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,null,[{key:"getDerivedStateFromProps",value:function(e,t){var n=e.id;return n!==t.prevId?{inputId:n||p(),prevId:n}:null}}]),o(t,[{key:"componentDidMount",value:function(){this.mounted=!0,this.copyInputStyles(),this.updateInputWidth()}},{key:"componentDidUpdate",value:function(e,t){t.inputWidth!==this.state.inputWidth&&"function"==typeof this.props.onAutosize&&this.props.onAutosize(this.state.inputWidth),this.updateInputWidth()}},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"copyInputStyles",value:function(){if(this.mounted&&window.getComputedStyle){var e=this.input&&window.getComputedStyle(this.input);e&&(f(e,this.sizer),this.placeHolderSizer&&f(e,this.placeHolderSizer))}}},{key:"updateInputWidth",value:function(){if(this.mounted&&this.sizer&&void 0!==this.sizer.scrollWidth){var e=void 0;e=this.props.placeholder&&(!this.props.value||this.props.value&&this.props.placeholderIsMinWidth)?Math.max(this.sizer.scrollWidth,this.placeHolderSizer.scrollWidth)+2:this.sizer.scrollWidth+2,(e+="number"===this.props.type&&void 0===this.props.extraWidth?16:parseInt(this.props.extraWidth)||0)<this.props.minWidth&&(e=this.props.minWidth),e!==this.state.inputWidth&&this.setState({inputWidth:e})}}},{key:"getInput",value:function(){return this.input}},{key:"focus",value:function(){this.input.focus()}},{key:"blur",value:function(){this.input.blur()}},{key:"select",value:function(){this.input.select()}},{key:"renderStyles",value:function(){var e=this.props.injectStyles;return d&&e?i.default.createElement("style",{dangerouslySetInnerHTML:{__html:"input#"+this.state.inputId+"::-ms-clear {display: none;}"}}):null}},{key:"render",value:function(){var e=[this.props.defaultValue,this.props.value,""].reduce((function(e,t){return null!=e?e:t})),t=r({},this.props.style);t.display||(t.display="inline-block");var n=r({boxSizing:"content-box",width:this.state.inputWidth+"px"},this.props.inputStyle),o=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(this.props,[]);return function(e){s.forEach((function(t){return delete e[t]}))}(o),o.className=this.props.inputClassName,o.id=this.state.inputId,o.style=n,i.default.createElement("div",{className:this.props.className,style:t},this.renderStyles(),i.default.createElement("input",r({},o,{ref:this.inputRef})),i.default.createElement("div",{ref:this.sizerRef,style:u},e),this.props.placeholder?i.default.createElement("div",{ref:this.placeHolderSizerRef,style:u},this.props.placeholder):null)}}]),t}(a.Component);m.propTypes={className:c.default.string,defaultValue:c.default.any,extraWidth:c.default.oneOfType([c.default.number,c.default.string]),id:c.default.string,injectStyles:c.default.bool,inputClassName:c.default.string,inputRef:c.default.func,inputStyle:c.default.object,minWidth:c.default.oneOfType([c.default.number,c.default.string]),onAutosize:c.default.func,onChange:c.default.func,placeholder:c.default.string,placeholderIsMinWidth:c.default.bool,style:c.default.object,value:c.default.any},m.defaultProps={minWidth:1,injectStyles:!0},t.default=m},function(e,t,n){"use strict";var r=n(1);t.a=r.f.div.withConfig({displayName:"PageGriddesktop",componentId:"a6v82w-0"})(["display:grid;grid-template-columns:",";@media screen and (min-width:","){grid-template-columns:",";}@media screen and (min-width:","){grid-template-columns:",";}grid-gap:",";"],(function(e){return"\n    [page-start]\n      ".concat(e.theme.grid.outerMargin,"\n    [grid-start header-left-start]\n      1fr\n    [left-start]\n      repeat(2, 1fr)\n    [header-left-end header-right-start]\n      repeat(4, 1fr)\n    [left-end right-start]\n      repeat(4, 1fr)\n    [right-end]\n      1fr\n    [grid-end header-right-end]\n      ").concat(e.theme.grid.outerMargin,"\n    [page-end];\n  ")}),(function(e){return e.theme.widths.fixedWidthBreakpoint}),(function(e){return"\n      [page-start]\n        1fr\n      [grid-start header-left-start]\n        ".concat(e.theme.grid.columnWidth,"\n      [left-start]\n        repeat(2, ").concat(e.theme.grid.columnWidth,")\n      [header-left-end header-right-start]\n        repeat(4, ").concat(e.theme.grid.columnWidth,")\n      [left-end right-start]\n        repeat(4, ").concat(e.theme.grid.columnWidth,")\n      [right-end]\n        ").concat(e.theme.grid.columnWidth,"\n      [grid-end header-right-end]\n        1fr\n      [page-end];\n    ")}),(function(e){return e.theme.widths.largeTextBreakpoint}),(function(e){return"\n      [page-start]\n        1fr\n      [grid-start header-left-start]\n        ".concat(e.theme.grid.largeColumnWidth,"\n      [left-start]\n        repeat(2, ").concat(e.theme.grid.largeColumnWidth,")\n      [header-left-end header-right-start]\n        repeat(4, ").concat(e.theme.grid.largeColumnWidth,")\n      [left-end right-start]\n        repeat(4, ").concat(e.theme.grid.largeColumnWidth,")\n      [right-end]\n        ").concat(e.theme.grid.largeColumnWidth,"\n      [grid-end header-right-end]\n        1fr\n      [page-end];\n    ")}),(function(e){return e.theme.grid.gap}))},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},o=r(n(238)),a=r(n(357));o.default.DefaultOpts.ImageClass=a.default,e.exports=o.default},,function(e,t,n){var r=n(151);e.exports=function(e){return r(e,5)}},function(e,t,n){var r=n(207),o=n(169),a=n(41),i=n(34),c=n(507);e.exports=function(e,t){return(i(e)?r:o)(e,c(a(t,3)))}},,,,,,,,,,,,function(e,t,n){var r=n(201),o=n(233);e.exports=function(e,t){return t.length<2?e:r(e,o(t,0,-1))}},function(e,t,n){var r=n(72);e.exports=function(e){return r(e)?void 0:e}},function(e,t,n){var r=n(299),o=n(24),a=n(161),i=r&&1/a(new r([,-0]))[1]==1/0?function(e){return new r(e)}:o;e.exports=i},,,,function(e,t,n){var r=n(280),o=n(147),a=n(281);e.exports=function(e){return o(e)?a(e):r(e)}},function(e,t,n){var r=n(218),o=n(219),a=n(41),i=n(34);e.exports=function(e,t){return function(n,c){var l=i(n)?r:o,u=t?t():{};return l(n,e,a(c,2),u)}}},function(e,t){e.exports=function(e,t,n,r){for(var o=-1,a=null==e?0:e.length;++o<a;){var i=e[o];t(r,i,n(i),e)}return r}},function(e,t,n){var r=n(71);e.exports=function(e,t,n,o){return r(e,(function(e,r,a){t(o,e,n(e),a)})),o}},function(e,t,n){var r=n(71),o=n(79);e.exports=function(e,t){var n=-1,a=o(e)?Array(e.length):[];return r(e,(function(e,r,o){a[++n]=t(e,r,o)})),a}},function(e,t,n){"use strict";var r=n(0),o=n.n(r),a=n(1),i=n(96),c=n(44),l=n.n(c),u=n(123),s=n(153);function f(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,a=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){c=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(c)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return d(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var p=l()((function(e){e(),Object(s.a)()})),m=function e(){var t=f(Object(r.useState)(!1),2),n=t[0],a=t[1],c=Object(i.a)().t,l=Object(u.a)("cloudflare_error.always_online_banner",{source:"react"});return Object(r.useEffect)((function(){document.querySelector("#cf_alert_div")&&(a(!0),p(l))}),[l]),n?o.a.createElement(e.Container,null,o.a.createElement(e.Message,null,c("cloudflare_always_on_message"))):null};t.a=o.a.memo(m),m.Container=a.f.div.withConfig({displayName:"Cloudflare__Container",componentId:"l9ndty-0"})(["background:",";padding:",";color:",";font-weight:100;"],(function(e){return e.theme.color.error.main}),(function(e){return e.theme.space.full}),(function(e){return e.theme.color.error.on})),m.Message=a.f.div.withConfig({displayName:"Cloudflare__Message",componentId:"l9ndty-1"})(["max-width:600px;margin:0 auto;"])},function(e,t,n){var r=n(85),o=n(55),a=n(72);e.exports=function(e){if(!o(e))return!1;var t=r(e);return"[object Error]"==t||"[object DOMException]"==t||"string"==typeof e.message&&"string"==typeof e.name&&!a(e)}},,,function(e,t,n){"use strict";var r=n(0),o=n.n(r),a=(n(3),n(1)),i=n(49),c=n(32),l=n(391),u=["children","inverted","secondary","showLoadingSpinner"];function s(){return s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s.apply(this,arguments)}function f(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var d=function e(t){var n=t.children,r=t.inverted,a=t.secondary,i=t.showLoadingSpinner,c=f(t,u);return o.a.createElement(e.Container,s({inverted:r,secondary:a,showLoadingSpinner:i},c),n,i&&o.a.createElement(e.Spinner,null))};d.defaultProps={inverted:!1,secondary:!1,showLoadingSpinner:!1,type:"button"},t.a=o.a.memo(d),d.Container=a.f.button.attrs((function(e){return{type:e.type}})).withConfig({displayName:"SmallButton__Container",componentId:"mg33hl-0"})(["display:flex;align-items:center;border-radius:",";padding:"," ",";border:",";font-family:",";font-size:",";color:",";line-height:",";"," &:disabled{opacity:.5;}",""],(function(e){return e.theme.borderRadius}),(function(e){return e.theme.space.quarter}),(function(e){return e.theme.space.small}),(function(e){return"1px solid ".concat(e.theme.color.background.on)}),(function(e){return e.theme.font.alternate}),(function(e){return e.theme.fontSize.smallReading}),(function(e){return e.inverted?e.theme.color.background.main:e.theme.color.background.on}),(function(e){return e.theme.lineHeight.short}),(function(e){return e.inverted&&"background-color: ".concat(e.theme.color.background.on,";")}),(function(e){return e.secondary?Object(a.e)(["border-color:transparent;text-decoration:underline;&:hover:not(:disabled){background-color:",";}"],Object(c.a)(e.theme.color.background.on)?"rgba(0, 0, 0, 0.1)":"rgba(255, 255, 255, 0.3)"):Object(a.e)(["&:hover:not(:disabled){","}"],Object(i.d)(e.theme.color.background.on))})),d.Spinner=Object(a.f)((function(e){return o.a.createElement(l.a,e)})).withConfig({displayName:"SmallButton__Spinner",componentId:"mg33hl-1"})(["fill:none !important;margin-left:",";vertical-align:-2px;",""],(function(e){return e.theme.space.half}),(function(e){return!e.$secondary&&Object(a.e)(["",":hover &{fill:none;stroke:currentColor;}"],d.Container)}))},function(e,t,n){var r=n(500)();e.exports=r},,,,,,,,,,,,function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var a=n(171),i=r(n(348)),c=o(n(127)),l=o(n(349)),u=o(n(353)),s=o(n(355)),f=n(142),d=function(){function e(t,n){this._src=t,this.opts=f({},n,e.DefaultOpts),this.opts.combinedFilter=s.combineFilters(this.opts.filters)}return e.from=function(e){return new i.default(e)},e.prototype._process=function(e,t){var n=t.quantizer,r=t.generator;return e.scaleDown(t),e.applyFilter(t.combinedFilter).then((function(e){return n(e.data,t)})).then((function(e){return a.Swatch.applyFilter(e,t.combinedFilter)})).then((function(e){return Promise.resolve(r(e))}))},e.prototype.palette=function(){return this.swatches()},e.prototype.swatches=function(){return this._palette},e.prototype.getPalette=function(e){var t=this,n=new this.opts.ImageClass,r=n.load(this._src).then((function(e){return t._process(e,t.opts)})).then((function(e){return t._palette=e,n.remove(),e}),(function(e){throw n.remove(),e}));return e&&r.then((function(t){return e(null,t)}),(function(t){return e(t)})),r},e.Builder=i.default,e.Quantizer=l,e.Generator=u,e.Filter=s,e.Util=c,e.Swatch=a.Swatch,e.DefaultOpts={colorCount:64,quality:5,generator:u.Default,ImageClass:null,quantizer:l.MMCQ,filters:[s.Default]},e}();t.default=d},function(e,t,n){var r=n(279),o=n(87),a=n(206),i=a&&a.isRegExp,c=i?o(i):r;e.exports=c},,function(e,t,n){"use strict";var r=n(0),o=n.n(r),a=(n(3),n(1)),i=n(96),c=n(67),l=n(291),u=n(2),s=n(410),f=function e(t){var n=t.id,r=t.status,a=t.message,i=t.onClose,c=t.timeout;return o.a.createElement(e.Container,{key:n,timeout:c},o.a.createElement(s.a,{status:r,message:a,onClose:i}))},d=Object(a.g)(["0%{opacity:0;}100%{opacity:1;}"]),p=Object(a.g)(["0%{opacity:1;}100%{opacity:0;}"]);f.Container=a.f.div.withConfig({displayName:"Toast__Container",componentId:"sc-443t03-0"})(["animation:"," 0.5s,"," 0.5s ","s;margin-bottom:",";background-color:",";"],d,p,(function(e){return e.timeout}),(function(e){return e.theme.space.small}),(function(e){return e.theme.color.background.on}));var m=f,h=n(253),g=n(22),b=n(228),y=function e(t){var n=t.timeout,i=Object(u.c)(),c=Object(u.d)((function(e){return e.toast.current}),u.b),l=Object(b.a)();return Object(r.useEffect)((function(){var e;return c&&(e=setInterval((function(){c&&i(Object(h.d)())}),n)),function(){e&&clearInterval(e)}}),[n,c,i]),o.a.createElement(a.c,{theme:g.c},c&&o.a.createElement(e.Container,{isMobile:l},o.a.createElement(m,{key:c.id,id:c.id,status:c.status,message:c.message,onClose:function(){return i(Object(h.d)())},timeout:n})))};y.defaultProps={timeout:5e3},y.Container=a.f.div.withConfig({displayName:"ToastManager__Container",componentId:"sc-19bw7bl-0"})([""," ",";"],(function(e){return e.isMobile?"\n    position: fixed;\n    width: 100%;\n    top: 0;\n    right: 0;\n    padding: ".concat(e.theme.space.small,";\n  "):"\n    position: absolute;\n    top: 4rem;\n    right: 5rem;\n  "}),Object(c.a)("toast"));var v=y,O=n(92),w=n(320),_=n(40),j=n(13),E=n(103),C=n(104),x=n(105),I=n(106),S=n(107),k=function e(){var t=Object(i.a)().t,n=Object(b.a)(),r=j.a.artistPromoPortalLaunched?"1593px":"1356px";return o.a.createElement(e.Container,null,o.a.createElement(e.Item,null,o.a.createElement(O.a,{name:"groupsInbox",label:t("header.groups_inbox"),icon:E.a,maxViewportToHideLabel:r})),o.a.createElement(e.Item,null,o.a.createElement(O.a,{name:"newsfeedInbox",label:t("header.newsfeed_inbox"),icon:C.a,abbreviateAfter:20,maxViewportToHideLabel:r})),o.a.createElement(e.Item,null,o.a.createElement(O.a,{name:"mainActivityInbox",label:t("header.main_activity_inbox"),icon:x.a,syncCountToTitle:!0,maxViewportToHideLabel:r})),o.a.createElement(e.Item,null,o.a.createElement(O.a,{name:"messagesInbox",label:t("header.messages_inbox"),icon:I.a,maxViewportToHideLabel:r})),o.a.createElement(e.Item,null,o.a.createElement(O.a,{name:"iqInbox",label:t("header.iq_inbox"),icon:S.a,maxViewportToHideLabel:r})),o.a.createElement(e.AvatarMenu,{isMobile:n},o.a.createElement(w.a,{avatarBorder:!0,maxViewportToHideIq:r})))},A=o.a.memo(k);k.Item=a.f.div.withConfig({displayName:"StickyNavLoggedIn__Item",componentId:"sc-1lrodac-0"})(["svg{width:16px;height:16px;}","{display:flex;justify-content:center;align-items:center;border:1px solid ",";height:16px;min-width:16px;top:6px;left:16px;}","{width:100%;top:",";max-height:",";min-width:550px;right:0;}"],_.a,(function(e){return e.theme.color.background.on}),_.b,(function(e){return"calc(".concat(e.theme.stickyNav.height.desktop," + ").concat(e.theme.space.full,")")}),(function(e){return"calc(100vh - ".concat(e.theme.stickyNav.height.desktop," - ").concat(e.theme.space.xxxLarge,")")})),k.AvatarMenu=a.f.div.withConfig({displayName:"StickyNavLoggedIn__AvatarMenu",componentId:"sc-1lrodac-1"})([""," ","{left:0;","}"],(function(e){return!e.isMobile&&"position: relative;"}),_.b,(function(e){return e.isMobile?"\n      position: absolute;\n      width: 100%;\n      top: ".concat(e.theme.stickyNav.height.mobile,";\n      right: unset;\n      bottom: unset;\n    "):"\n      top: calc(".concat(e.theme.stickyNav.height.desktop," + ").concat(e.theme.space.full,");\n      max-height: calc(100vh - ").concat(e.theme.stickyNav.height.desktop," - ").concat(e.theme.space.xxxLarge,");\n    ")})),k.Container=a.f.div.withConfig({displayName:"StickyNavLoggedIn__Container",componentId:"sc-1lrodac-2"})(["display:flex;align-items:center;"," + ",","," + ","{margin-left:",";}"],k.Item,k.Item,k.Item,k.AvatarMenu,(function(e){return e.theme.space.full}));var T=n(102),P=n(1003),N=n(1004),M=n(1001),R=n(123),L=n(1002),D=n(389);function F(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,a=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){c=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(c)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return z(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return z(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function z(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var B=function e(){var t=Object(M.a)("search"),n=t.isOpen,a=t.open,c=t.close,l=Object(i.a)().t,u=F(Object(r.useState)(""),2),s=u[0],f=u[1],d=F(Object(r.useState)(!1),2),p=d[0],m=d[1],h=Object(r.useRef)(null),g=Object(r.useRef)(null),b=Object(R.a)("song:search_focused"),y=Object(R.a)("song:search_canceled"),v=Object(L.a)({callback:function(e){return f(e)},delay:500,dependencies:[]}),O=Object(r.useCallback)((function(e){e.preventDefault(),g.current.value.trim()&&h.current.submit()}),[]),w=Object(r.useCallback)((function(){var e=g.current.value.trim();e?(n||a(),v(e)):c()}),[c,a,n,v]),_=Object(r.useCallback)((function(){p||(b(),m(!0)),g.current.value.trim()&&(n||a())}),[n,a,p,b]),j=Object(r.useCallback)((function(){p&&(y(),m(!1)),n&&c()}),[n,c,p,y]);return Object(D.a)({element:h,onClickOutside:j}),o.a.createElement(e.Form,{ref:h,action:"/search",method:"get"},o.a.createElement(e.Input,{onChange:w,onFocus:_,name:"q",placeholder:l("page_header.search_bar.placeholder"),ref:g,autoComplete:"off",required:!0}),o.a.createElement(P.a,{width:"medium",isOpen:n},o.a.createElement(N.a,{query:s})),o.a.createElement(e.Icon,{onClick:O},o.a.createElement(T.a,null)))},V=o.a.memo(B);B.Form=a.f.form.withConfig({displayName:"StickyNavSearchdesktop__Form",componentId:"sc-1wddxfx-0"})(["display:flex;background:",";align-items:center;width:",";height:",";","{right:0;}"],(function(e){return e.theme.color.primary.main}),(function(e){return"calc(10 * ".concat(e.theme.space.full," + ").concat(e.theme.space.small,")")}),(function(e){return e.theme.space.xLarge}),_.b),B.Icon=a.f.div.withConfig({displayName:"StickyNavSearchdesktop__Icon",componentId:"sc-1wddxfx-1"})(["display:flex;align-items:center;position:relative;cursor:pointer;padding:0 ",";svg{fill:",";width:.625rem;}"],(function(e){return e.theme.space.small}),(function(e){return e.theme.color.primary.on})),B.Input=a.f.input.withConfig({displayName:"StickyNavSearchdesktop__Input",componentId:"sc-1wddxfx-2"})(["flex-grow:1;position:relative;border:none;border-radius:0;background:",";color:",";font-family:",";font-feature-settings:",";font-size:inherit;font-weight:inherit;line-height:inherit;-webkit-appearance:none;overflow:hidden;resize:none;outline:none;::placeholder,::-webkit-input-placeholder{color:",";font-size:",";};::-ms-input-placeholder{color:",";font-size:",";};&:focus::placeholder{color:",";font-size:",";};padding-left:",";"],(function(e){return e.theme.color.primary.main}),(function(e){return e.theme.color.primary.on}),(function(e){return e.theme.font.accent}),(function(e){return e.theme.font.programmeAlternates}),(function(e){return e.theme.color.primary.on}),(function(e){return e.theme.fontSize.smallReading}),(function(e){return e.theme.color.primary.on}),(function(e){return e.theme.fontSize.smallReading}),(function(e){return e.theme.color.primary.onVariant}),(function(e){return e.theme.fontSize.smallReading}),(function(e){return e.theme.space.small}));var H=n(1008),q=n(529),W=n(7),U=n.n(W),$=n(411),Q=function e(t){var n=t.className;return o.a.createElement(e.Button,{textButton:!0,source:"nav",className:n})},G=Q;Q.Button=Object(a.f)((function(e){return o.a.createElement($.a,e)})).withConfig({displayName:"StickyNavSignUp__Button",componentId:"sc-14apwk1-0"})(["font-size:",";font-weight:",";line-height:1;letter-spacing:1px;text-transform:capitalize;color:",";"],(function(e){return e.theme.fontSize.smallReading}),(function(e){return e.theme.fontWeight.light}),(function(e){return U()(e.theme.color,e.color,e.theme.color.background.on)}));var Y=n(1006),K=n(1e3),Z=n(230),X=n(35),J=function e(t){var n=t.theme,r=t.children,c=Object(i.a)().t,s=Object(K.a)(),f=s.loggedIn,d=s.links,p=Object(u.d)((function(e){return U()(e.stickyNav,"siteLinksVisible",!0)})),m=Object(Z.a)("stickyNav"),h=o.a.createElement(o.a.Fragment,null,d.map((function(t){var n=t.label,r=t.action,a=t.useLabelTranslation,i=void 0===a||a;return o.a.createElement(e.SiteLink,{key:n,href:r,target:r.startsWith("http")?"_blank":null,rel:"noopener",underline:!1,showDownArrowForAnchor:!1},o.a.createElement(l.a,{size:"smallReading",fontWeight:"light",textTransform:"capitalize"},i?c("page_header.section.".concat(n)):n))})));return o.a.createElement(a.c,{theme:n},o.a.createElement(e.Container,{id:"sticky-nav",distanceAboveStickyNav:m},o.a.createElement(v,null),o.a.createElement(e.Left,null,o.a.createElement(e.Logo,null),o.a.createElement(e.Subnavigation,null,!p&&r?r:h)),o.a.createElement(e.Right,null,f?o.a.createElement(e.Inboxes,null,o.a.createElement(A,null)):o.a.createElement(e.AuthTextButton,null),o.a.createElement(V,null))),o.a.createElement(H.a,null))};J.defaultProps={theme:X.d};t.a=o.a.memo(J);J.Container=a.f.div.withConfig({displayName:"StickyNavdesktop__Container",componentId:"sc-9maqdk-0"})(["display:flex;justify-content:space-between;align-items:center;font-weight:",";font-size:",";height:",";background-color:",";color:",";position:sticky;top:",";",";"],(function(e){return e.theme.fontWeight.light}),(function(e){return e.theme.fontSize.smallReading}),(function(e){return e.theme.stickyNav.height.desktop}),(function(e){return e.theme.color.background.main}),(function(e){return e.theme.color.background.on}),(function(e){return"calc(".concat(e.distanceAboveStickyNav,")")}),Object(c.a)("stickyNav")),J.Left=a.f.div.withConfig({displayName:"StickyNavdesktop__Left",componentId:"sc-9maqdk-1"})(["display:flex;align-items:center;margin-left:",";"],(function(e){return e.theme.space.full})),J.Right=a.f.div.withConfig({displayName:"StickyNavdesktop__Right",componentId:"sc-9maqdk-2"})(["position:relative;display:flex;align-items:center;margin-right:",";"],(function(e){return e.theme.space.full})),J.Inboxes=a.f.div.withConfig({displayName:"StickyNavdesktop__Inboxes",componentId:"sc-9maqdk-3"})(["margin-right:",";"],(function(e){return e.theme.space.xLarge}));var ee=Object(a.e)(["margin-right:",";line-height:1.33;color:",";span{white-space:nowrap;color:",";}&:hover{text-decoration:underline;}"],(function(e){return e.theme.space.xLarge}),(function(e){return e.theme.color.background.on}),(function(e){return e.theme.color.background.on}));J.SiteLink=Object(a.f)((function(e){return o.a.createElement(q.a,e)})).withConfig({displayName:"StickyNavdesktop__SiteLink",componentId:"sc-9maqdk-4"})(["",""],ee),J.AuthTextButton=Object(a.f)((function(e){return o.a.createElement(G,e)})).withConfig({displayName:"StickyNavdesktop__AuthTextButton",componentId:"sc-9maqdk-5"})(["",""],ee),J.Subnavigation=a.f.div.withConfig({displayName:"StickyNavdesktop__Subnavigation",componentId:"sc-9maqdk-6"})(["display:flex;align-items:center;margin-left:",";"],(function(e){return e.theme.space.xxLarge})),J.Logo=Object(a.f)((function(e){return o.a.createElement(Y.a,e)})).withConfig({displayName:"StickyNavdesktop__Logo",componentId:"sc-9maqdk-7"})(["svg{height:13px;}"])},function(e,t,n){var r=n(240),o=n(346),a=n(126),i=Object.prototype.toString,c=o((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=i.call(t)),e[t]=n}),r(a));e.exports=c},function(e,t,n){"use strict";var r=n(3),o=n.n(r),a=n(1),i=n(49),c=a.f.input.attrs((function(e){return{"data-testid":e.dataTestId}})).withConfig({displayName:"TextInput",componentId:"sc-2wssth-0"})(["appearance:none;border-radius:0;margin:0;background:inherit;border:1px solid ",";border-radius:0;padding:",";color:",";font-size:",";font-family:",';font-weight:100;overflow-y:auto;resize:vertical;&:disabled{opacity:.3;background-image:url("data:image/svg+xml,%3Csvg%20viewBox%3D%220%200%2011%2015%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%3Cpath%20fill-rule%3D%22evenodd%22%20fill%3D%22','%22%20clip-rule%3D%22evenodd%22%20d%3D%22M1.642%206.864H.369V14.5h10.182V6.864H9.278V4.318a3.818%203.818%200%200%200-7.636%200v2.546zm1.272%200h5.091V4.318a2.546%202.546%200%200%200-5.09%200v2.546z%22%2F%3E%3C%2Fsvg%3E");background-size:'," auto;background-position:calc(100% - "," + 1px) center;background-repeat:no-repeat;padding-right:calc("," * 2 + ",");}"," &::placeholder{color:",";}"],(function(e){return e.hasError?e.theme.color.accent.main:e.theme.color.background.on}),(function(e){return e.theme.space[e.paddingKey]}),(function(e){return e.theme.color.background.on}),(function(e){return e.theme.fontSize.reading}),(function(e){return e.theme.font.alternate}),(function(e){return encodeURIComponent(e.theme.color.background.on)}),(function(e){return e.theme.fontSize.xSmallReading}),(function(e){return e.theme.space.half}),(function(e){return e.theme.space[e.paddingKey]}),(function(e){return e.theme.fontSize.xSmallReading}),(function(e){return e.fullWidth&&"\n    display: block;\n    width: 100%;\n  "}),(function(e){return Object(i.g)(e.theme.color.background.on,.5)}));c.propTypes={as:o.a.string,disabled:o.a.bool,hasError:o.a.bool,onChange:o.a.func,type:o.a.string,value:o.a.string},c.defaultProps={disabled:!1,paddingKey:"small",type:"text"},t.a=c},function(e,t,n){var r=n(365),o=n(126);e.exports=function(e){return e&&e.length?r(e,o):0}},function(e,t,n){"use strict";var r=n(29),o=n(48),a=n(95),i=n(28);t.a=Object(r.c)((function(e,t){switch(t.type){case o.a:e.modalVisible=t.visible,t.visible&&(e.updateStatus=i.d);break;case o.e:e.submittedFromModal=t.submittedFromModal,e.updateStatus=i.c;break;case o.c:e.updateStatus=i.e;break;case a.I:e.modalVisible&&(e.updateStatus=i.a);break;case o.d:e.submittedFromModal&&(e.modalVisible=!0),e.updateStatus=i.b;break;default:return e}}))},function(e,t,n){"use strict";var r=n(229),o=n(31),a=n(101),i=n.n(a),c=n(90),l=n.n(c),u=n(144),s=n.n(u),f=n(68),d=n.n(f),p=n(48),m=n(9),h=n(253),g=n(377),b=n(19),y=n(4),v=["songId"];function O(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function w(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var j=Object(r.a)({type:p.e,process:function(e,t,n){var r=e.action,o=r.payload,a=r.meta,c=o.songId,u=_(o,v);t(Object(p.g)(c,u)),u.primary_artist&&u.primary_artist.length>0&&(u.primary_artist=u.primary_artist[0].name),u.primary_tag&&(u.primary_tag_id=u.primary_tag,Reflect.deleteProperty(u,"primary_tag"));var f=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?O(Object(n),!0).forEach((function(t){w(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},u);u.song_relationships&&(u.song_relationships_by_id=u.song_relationships.map((function(e){return{type:e.relationshipType,song_ids:i()(s()(e.songs,"id"))}})),Reflect.deleteProperty(u,"song_relationships"),f.num_song_relationships=d()(l()(f.song_relationships,"relationshipType"),(function(e){return e.songs.length})),Reflect.deleteProperty(f,"song_relationships")),t(Object(m.T)("song:metadata:save",Object(y.j)({updated_fields:f}))),Object(g.n)(c,{song:u}).then((function(e){var n;t(Object(p.j)(c,e)),null==a||null===(n=a.onSuccess)||void 0===n||n.call(a)})).catch((function(e){var n;b.a.notify(e),t(Object(p.h)(c,e)),null==a||null===(n=a.onError)||void 0===n||n.call(a,e)})).finally(n)}}),E=Object(r.a)({type:p.c,process:function(e,t,n){t(Object(h.c)({status:"success",message:o.a.t("edit_metadata.save_success")})),n()}});t.a=[j,E]},function(e,t,n){"use strict";var r=n(229),o=n(7),a=n.n(o),i=n(66),c=n(9),l=Object(r.a)({type:i.c,process:function(e,t,n){var r=e.getState,o=e.action,i=o.visible,l=o.slotName,u=void 0===l?"mobile_song_sticky":l,s=o.slotInstance,f=void 0===s?"mobile_song_sticky":s,d=r();a()(d,["session","showAds"])&&i&&t(Object(c.H)(u,f)),n()}});t.a=[l]},,,function(e,t,n){"use strict";var r=n(0),o=n.n(r);function a(){return a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a.apply(this,arguments)}var i=o.a.createElement("path",{d:"M10.66 10.91L0 1.5 1.32 0l9.34 8.24L20 0l1.32 1.5-10.66 9.41"});t.a=function(e){return o.a.createElement("svg",a({viewBox:"0 0 21.32 10.91"},e),i)}},function(e,t,n){var r=n(401);e.exports=function(e,t){return r(e,t)}},,,,function(e,t,n){"use strict";var r=n(0),o=n.n(r),a=n(43),i=(n(3),n(1)),c=n(228),l=n(67);function u(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,a=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){c=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(c)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var f=function e(t){var n=t.content,i=t.children,l=u(Object(r.useState)(null),2),s=l[0],f=l[1],d=Object(c.a)(),p=Object(r.useRef)(null),m=Object(r.useRef)(null),h=function(){d||(clearTimeout(p.current),f(m.current.getBoundingClientRect()))},g=Object(r.useCallback)((function(){d||(p.current=setTimeout((function(){return f(null)}),250))}),[d]);return n?o.a.createElement(e.Container,null,s&&Object(a.createPortal)(o.a.createElement(e.Content,{onMouseEnter:h,onMouseLeave:g,styleProps:s},n),document.body),o.a.createElement(e.Trigger,{ref:m,onMouseEnter:h,onMouseLeave:g},i)):i};f.Container=i.f.span.withConfig({displayName:"PortalTooltip__Container",componentId:"yc1x8c-0"})([""]),f.Trigger=i.f.span.withConfig({displayName:"PortalTooltip__Trigger",componentId:"yc1x8c-1"})([""]),f.Content=i.f.div.withConfig({displayName:"PortalTooltip__Content",componentId:"yc1x8c-2"})(["position:fixed;"," ",""],Object(l.a)("portalTooltip"),(function(e){return t=e.styleProps,Object(i.e)(["left:","px;top:","px;transform:translateX(calc(-50%));"],t.x+t.width/2,t.y+t.height);var t})),t.a=f},function(e,t,n){"use strict";var r=n(0),o=n.n(r),a=(n(3),n(1)),i=function e(t){var n=t.children;return o.a.createElement(e.Container,null,n)};i.Container=a.f.div.withConfig({displayName:"TooltipShadow__Container",componentId:"tifrln-0"})(["background-color:",";font-size:",";border:1px solid ",";color:",";font-family:",";white-space:normal;padding:",";box-shadow:",";transition:all 0.2s;"],(function(e){return e.theme.color.background.main}),(function(e){return e.theme.fontSize.smallReading}),(function(e){return e.theme.color.background.on}),(function(e){return e.theme.color.background.on}),(function(e){return e.theme.font.alternate}),(function(e){return e.theme.space.large}),(function(e){return e.theme.boxShadow.tooltip})),t.a=i},function(e,t,n){"use strict";var r=n(0),o=n.n(r),a=(n(3),n(1)),i=n(128),c=n(129),l=n(130),u=n(131),s=n(132),f=n(133),d=n(134),p={staff:i.a,moderator:c.a,transcriber:u.a,mediator:l.a,editor:s.a,contributor:f.a,verifiedArtist:d.a},m=function e(t){var n=t.role,r=t.className,a=p[n];return a?o.a.createElement(e.Container,{$role:n,className:r},o.a.createElement(a,null)):null};t.a=m,m.Container=a.f.span.withConfig({displayName:"RoleIcon__Container",componentId:"jbw8n4-0"})(["display:inline-block;svg{height:12px;width:12px;stroke:",";stroke-width:","px;fill:",";overflow:visible;position:relative;display:block;}"],(function(e){return e.theme.color[e.$role].on}),(function(e){return"verifiedArtist"===e.role?0:1}),(function(e){return e.theme.color[e.$role].main}))},function(e,t,n){"use strict";e.exports=function(e,t,n,r,o,a,i,c){if(!e){var l;if(void 0===t)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[n,r,o,a,i,c],s=0;(l=new Error(t.replace(/%s/g,(function(){return u[s++]})))).name="Invariant Violation"}throw l.framesToPop=1,l}}},,,,,,,,,,,,,function(e,t,n){"use strict";var r=Object.prototype.hasOwnProperty,o=Object.prototype.toString,a=Array.prototype.slice,i=n(272),c=Object.prototype.propertyIsEnumerable,l=!c.call({toString:null},"toString"),u=c.call((function(){}),"prototype"),s=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],f=function(e){var t=e.constructor;return t&&t.prototype===e},d={$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},p=function(){if("undefined"==typeof window)return!1;for(var e in window)try{if(!d["$"+e]&&r.call(window,e)&&null!==window[e]&&"object"==typeof window[e])try{f(window[e])}catch(e){return!0}}catch(e){return!0}return!1}(),m=function(e){var t=null!==e&&"object"==typeof e,n="[object Function]"===o.call(e),a=i(e),c=t&&"[object String]"===o.call(e),d=[];if(!t&&!n&&!a)throw new TypeError("Object.keys called on a non-object");var m=u&&n;if(c&&e.length>0&&!r.call(e,0))for(var h=0;h<e.length;++h)d.push(String(h));if(a&&e.length>0)for(var g=0;g<e.length;++g)d.push(String(g));else for(var b in e)m&&"prototype"===b||!r.call(e,b)||d.push(String(b));if(l)for(var y=function(e){if("undefined"==typeof window||!p)return f(e);try{return f(e)}catch(e){return!1}}(e),v=0;v<s.length;++v)y&&"constructor"===s[v]||!r.call(e,s[v])||d.push(s[v]);return d};m.shim=function(){if(Object.keys){var e=function(){return 2===(Object.keys(arguments)||"").length}(1,2);if(!e){var t=Object.keys;Object.keys=function(e){return i(e)?t(a.call(e)):t(e)}}}else Object.keys=m;return Object.keys||m},e.exports=m},function(e,t,n){"use strict";var r=Object.prototype.toString;e.exports=function(e){var t=r.call(e),n="[object Arguments]"===t;return n||(n="[object Array]"!==t&&null!==e&&"object"==typeof e&&"number"==typeof e.length&&e.length>=0&&"[object Function]"===r.call(e.callee)),n}},function(e,t,n){"use strict";var r=n(261),o=n(326),a=n(294),i=n(274),c=n(262),l=c("%TypeError%"),u=r.call(Function.call,c("%ObjectPrototype%").propertyIsEnumerable),s=r.call(Function.apply,c("%ArrayPrototype%").push),f=a(a({},o),{ToIndex:function(e){if(void 0===e)return 0;var t=this.ToInteger(e);if(t<0)throw new RangeError("index must be >= 0");var n=this.ToLength(t);if(!this.SameValueZero(t,n))throw new RangeError("index must be >= 0 and < 2 ** 53 - 1");return n},EnumerableOwnProperties:function(e,t){var n=o.EnumerableOwnNames(e);if("key"===t)return n;if("value"===t||"key+value"===t){var r=[];return i(n,(function(n){u(e,n)&&s(r,["value"===t?e[n]:[n,e[n]]])})),r}throw new l('Assertion failed: "kind" is not "key", "value", or "key+value": '+t)}});delete f.EnumerableOwnNames,e.exports=f},function(e,t,n){"use strict";e.exports=function(e,t){for(var n=0;n<e.length;n+=1)t(e[n],n,e)}},function(e,t,n){"use strict";var r=n(168),o=n(166);e.exports=function(){var e=r();return o(Object,{fromEntries:e},{fromEntries:function(){return Object.fromEntries!==e}}),e}},function(e,t,n){t.iframeResizer=n(277),t.iframeResizerContentWindow=n(278)},function(e,t,n){var r,o,a;!function(n){"use strict";if("undefined"!=typeof window){var i,c=0,l=!1,u=!1,s="message".length,f="[iFrameSizer]",d=f.length,p=null,m=window.requestAnimationFrame,h={max:1,scroll:1,bodyScroll:1,documentElementScroll:1},g={},b=null,y={autoResize:!0,bodyBackground:null,bodyMargin:null,bodyMarginV1:8,bodyPadding:null,checkOrigin:!0,inPageLinks:!1,enablePublicMethods:!0,heightCalculationMethod:"bodyOffset",id:"iFrameResizer",interval:32,log:!1,maxHeight:1/0,maxWidth:1/0,minHeight:0,minWidth:0,resizeFrom:"parent",scrolling:!1,sizeHeight:!0,sizeWidth:!1,warningTimeout:5e3,tolerance:0,widthCalculationMethod:"scroll",closedCallback:function(){},initCallback:function(){},messageCallback:function(){C("MessageCallback function not defined")},resizedCallback:function(){},scrollCallback:function(){return!0}};window.jQuery&&((i=window.jQuery).fn?i.fn.iFrameResize||(i.fn.iFrameResize=function(e){return this.filter("iframe").each((function(t,n){F(n,e)})).end()}):E("","Unable to bind to jQuery, it is not fully loaded.")),o=[],(a="function"==typeof(r=function(){function e(e,n){n&&(function(){if(!n.tagName)throw new TypeError("Object is not a valid DOM element");if("IFRAME"!==n.tagName.toUpperCase())throw new TypeError("Expected <IFRAME> tag, found <"+n.tagName+">")}(),F(n,e),t.push(n))}var t;return function(){var e,t=["moz","webkit","o","ms"];for(e=0;e<t.length&&!m;e+=1)m=window[t[e]+"RequestAnimationFrame"];m||j("setup","RequestAnimationFrame not supported")}(),v(window,"message",I),v(window,"resize",(function(){B("resize")})),v(document,"visibilitychange",V),v(document,"-webkit-visibilitychange",V),v(window,"focusin",(function(){B("focus")})),v(window,"focus",(function(){B("focus")})),function(r,o){switch(t=[],function(e){e&&e.enablePublicMethods&&C("enablePublicMethods option has been removed, public methods are now always available in the iFrame")}(r),typeof o){case"undefined":case"string":Array.prototype.forEach.call(document.querySelectorAll(o||"iframe"),e.bind(n,r));break;case"object":e(r,o);break;default:throw new TypeError("Unexpected data type ("+typeof o+")")}return t}})?r.apply(t,o):r)===n||(e.exports=a)}function v(e,t,n){"addEventListener"in window?e.addEventListener(t,n,!1):"attachEvent"in window&&e.attachEvent("on"+t,n)}function O(e,t,n){"removeEventListener"in window?e.removeEventListener(t,n,!1):"detachEvent"in window&&e.detachEvent("on"+t,n)}function w(e){return f+"["+function(e){var t="Host page: "+e;return window.top!==window.self&&(t=window.parentIFrame&&window.parentIFrame.getId?window.parentIFrame.getId()+": "+e:"Nested host page: "+e),t}(e)+"]"}function _(e){return g[e]?g[e].log:l}function j(e,t){x("log",e,t,_(e))}function E(e,t){x("info",e,t,_(e))}function C(e,t){x("warn",e,t,!0)}function x(e,t,n,r){!0===r&&"object"==typeof window.console&&console[e](w(t),n)}function I(e){function t(){n("Height"),n("Width"),R((function(){M(y),T(w),l("resizedCallback",y)}),y,"init")}function n(e){var t=Number(g[w]["max"+e]),n=Number(g[w]["min"+e]),r=e.toLowerCase(),o=Number(y[r]);j(w,"Checking "+r+" is in range "+n+"-"+t),o<n&&(o=n,j(w,"Set "+r+" to min value")),o>t&&(o=t,j(w,"Set "+r+" to max value")),y[r]=""+o}function r(e){return b.substr(b.indexOf(":")+s+e)}function o(e,t){z((function(){var n,r;L("Send Page Info","pageInfo:"+(n=document.body.getBoundingClientRect(),r=y.iframe.getBoundingClientRect(),JSON.stringify({iframeHeight:r.height,iframeWidth:r.width,clientHeight:Math.max(document.documentElement.clientHeight,window.innerHeight||0),clientWidth:Math.max(document.documentElement.clientWidth,window.innerWidth||0),offsetTop:parseInt(r.top-n.top,10),offsetLeft:parseInt(r.left-n.left,10),scrollTop:window.pageYOffset,scrollLeft:window.pageXOffset})),e,t)}),32)}function a(e){var t=e.getBoundingClientRect();return A(w),{x:Math.floor(Number(t.left)+Number(p.x)),y:Math.floor(Number(t.top)+Number(p.y))}}function i(e){var t=e?a(y.iframe):{x:0,y:0},n={x:Number(y.width)+t.x,y:Number(y.height)+t.y};j(w,"Reposition requested from iFrame (offset x:"+t.x+" y:"+t.y+")"),window.top!==window.self?window.parentIFrame?window.parentIFrame["scrollTo"+(e?"Offset":"")](n.x,n.y):C(w,"Unable to scroll to requested position, window.parentIFrame not found"):(p=n,c(),j(w,"--"))}function c(){!1!==l("scrollCallback",p)?T(w):P()}function l(e,t){return S(w,e,t)}var u,m,h,b=e.data,y={},w=null;"[iFrameResizerChild]Ready"===b?function(){for(var e in g)L("iFrame requested init",D(e),document.getElementById(e),e)}():f===(""+b).substr(0,d)&&b.substr(d).split(":")[0]in g?(h=b.substr(d).split(":"),y={iframe:g[h[0]].iframe,id:h[0],height:h[1],width:h[2],type:h[3]},w=y.id,g[w].loaded=!0,(m=y.type in{true:1,false:1,undefined:1})&&j(w,"Ignoring init message from meta parent page"),!m&&function(e){var t=!0;return g[e]||(t=!1,C(y.type+" No settings for "+e+". Message was: "+b)),t}(w)&&(j(w,"Received: "+b),u=!0,null===y.iframe&&(C(w,"IFrame ("+y.id+") not found"),u=!1),u&&function(){var t,n=e.origin,r=g[w].checkOrigin;if(r&&""+n!="null"&&!(r.constructor===Array?function(){var e=0,t=!1;for(j(w,"Checking connection is from allowed list of origins: "+r);e<r.length;e++)if(r[e]===n){t=!0;break}return t}():(t=g[w].remoteHost,j(w,"Checking connection is from: "+t),n===t)))throw new Error("Unexpected message received from: "+n+" for "+y.iframe.id+". Message was: "+e.data+". This error can be disabled by setting the checkOrigin: false option or by providing of array of trusted domains.");return!0}()&&function(){switch(g[w].firstRun&&(g[w].firstRun=!1),y.type){case"close":k(y.iframe);break;case"message":e=r(6),j(w,"MessageCallback passed: {iframe: "+y.iframe.id+", message: "+e+"}"),l("messageCallback",{iframe:y.iframe,message:JSON.parse(e)}),j(w,"--");break;case"scrollTo":i(!1);break;case"scrollToOffset":i(!0);break;case"pageInfo":o(g[w].iframe,w),function(){function e(e,r){function a(){g[n]?o(g[n].iframe,n):t()}["scroll","resize"].forEach((function(t){j(n,e+t+" listener for sendPageInfo"),r(window,t,a)}))}function t(){e("Remove ",O)}var n=w;e("Add ",v),g[n].stopPageInfo=t}();break;case"pageInfoStop":g[w]&&g[w].stopPageInfo&&(g[w].stopPageInfo(),delete g[w].stopPageInfo);break;case"inPageLink":!function(e){var t,n=e.split("#")[1]||"",r=decodeURIComponent(n),o=document.getElementById(r)||document.getElementsByName(r)[0];o?(t=a(o),j(w,"Moving to in page link (#"+n+") at x: "+t.x+" y: "+t.y),p={x:t.x,y:t.y},c(),j(w,"--")):window.top!==window.self?window.parentIFrame?window.parentIFrame.moveToAnchor(n):j(w,"In page link #"+n+" not found and window.parentIFrame not found"):j(w,"In page link #"+n+" not found")}(r(9));break;case"reset":N(y);break;case"init":t(),l("initCallback",y.iframe);break;default:t()}var e}())):E(w,"Ignored: "+b)}function S(e,t,n){var r=null,o=null;if(g[e]){if("function"!=typeof(r=g[e][t]))throw new TypeError(t+" on iFrame["+e+"] is not a function");o=r(n)}return o}function k(e){var t=e.id;j(t,"Removing iFrame: "+t),e.parentNode&&e.parentNode.removeChild(e),S(t,"closedCallback",t),j(t,"--"),delete g[t]}function A(e){null===p&&j(e,"Get page position: "+(p={x:window.pageXOffset!==n?window.pageXOffset:document.documentElement.scrollLeft,y:window.pageYOffset!==n?window.pageYOffset:document.documentElement.scrollTop}).x+","+p.y)}function T(e){null!==p&&(window.scrollTo(p.x,p.y),j(e,"Set page position: "+p.x+","+p.y),P())}function P(){p=null}function N(e){j(e.id,"Size reset requested by "+("init"===e.type?"host page":"iFrame")),A(e.id),R((function(){M(e),L("reset","reset",e.iframe,e.id)}),e,"reset")}function M(e){function t(t){u||"0"!==e[t]||(u=!0,j(r,"Hidden iFrame detected, creating visibility listener"),function(){function e(){function e(e){function t(t){return"0px"===g[e].iframe.style[t]}function n(e){return null!==e.offsetParent}n(g[e].iframe)&&(t("height")||t("width"))&&L("Visibility change","resize",g[e].iframe,e)}for(var t in g)e(t)}function t(t){j("window","Mutation observed: "+t[0].target+" "+t[0].type),z(e,16)}function n(){var e=document.querySelector("body"),n={attributes:!0,attributeOldValue:!1,characterData:!0,characterDataOldValue:!1,childList:!0,subtree:!0};new r(t).observe(e,n)}var r=window.MutationObserver||window.WebKitMutationObserver;r&&n()}())}function n(n){!function(t){e.iframe.style[t]=e[t]+"px",j(e.id,"IFrame ("+r+") "+t+" set to "+e[t]+"px")}(n),t(n)}var r=e.iframe.id;g[r]&&(g[r].sizeHeight&&n("height"),g[r].sizeWidth&&n("width"))}function R(e,t,n){n!==t.type&&m?(j(t.id,"Requesting animation frame"),m(e)):e()}function L(e,t,n,r,o){var a,i=!1;r=r||n.id,g[r]&&(n&&"contentWindow"in n&&null!==n.contentWindow?(a=g[r].targetOrigin,j(r,"["+e+"] Sending msg to iframe["+r+"] ("+t+") targetOrigin: "+a),n.contentWindow.postMessage(f+t,a)):C(r,"["+e+"] IFrame("+r+") not found"),o&&g[r].warningTimeout&&(g[r].msgTimeout=setTimeout((function(){!g[r]||g[r].loaded||i||(i=!0,C(r,"IFrame has not responded within "+g[r].warningTimeout/1e3+" seconds. Check iFrameResizer.contentWindow.js has been loaded in iFrame. This message can be ingored if everything is working, or you can set the warningTimeout option to a higher value or zero to suppress this warning."))}),g[r].warningTimeout)))}function D(e){return e+":"+g[e].bodyMarginV1+":"+g[e].sizeWidth+":"+g[e].log+":"+g[e].interval+":"+g[e].enablePublicMethods+":"+g[e].autoResize+":"+g[e].bodyMargin+":"+g[e].heightCalculationMethod+":"+g[e].bodyBackground+":"+g[e].bodyPadding+":"+g[e].tolerance+":"+g[e].inPageLinks+":"+g[e].resizeFrom+":"+g[e].widthCalculationMethod}function F(e,t){var r,o=function(n){var r;return n,""===n&&(e.id=(r=t&&t.id||y.id+c++,null!==document.getElementById(r)&&(r+=c++),n=r),l=(t||{}).log,n,j(n,"Added missing iframe ID: "+n+" ("+e.src+")")),n}(e.id);o in g&&"iFrameResizer"in e?C(o,"Ignored iFrame, already setup."):(!function(t){var n;t=t||{},g[o]={firstRun:!0,iframe:e,remoteHost:e.src.split("/").slice(0,3).join("/")},function(e){if("object"!=typeof e)throw new TypeError("Options is not an object")}(t),function(e){for(var t in y)y.hasOwnProperty(t)&&(g[o][t]=e.hasOwnProperty(t)?e[t]:y[t])}(t),g[o].targetOrigin=!0===g[o].checkOrigin?""===(n=g[o].remoteHost)||"file://"===n?"*":n:"*"}(t),function(){switch(j(o,"IFrame scrolling "+(g[o].scrolling?"enabled":"disabled")+" for "+o),e.style.overflow=!1===g[o].scrolling?"hidden":"auto",g[o].scrolling){case!0:e.scrolling="yes";break;case!1:e.scrolling="no";break;default:e.scrolling=g[o].scrolling}}(),function(){function t(t){1/0!==g[o][t]&&0!==g[o][t]&&(e.style[t]=g[o][t]+"px",j(o,"Set "+t+" = "+g[o][t]+"px"))}function n(e){if(g[o]["min"+e]>g[o]["max"+e])throw new Error("Value for min"+e+" can not be greater than max"+e)}n("Height"),n("Width"),t("maxHeight"),t("minHeight"),t("maxWidth"),t("minWidth")}(),"number"!=typeof g[o].bodyMargin&&"0"!==g[o].bodyMargin||(g[o].bodyMarginV1=g[o].bodyMargin,g[o].bodyMargin=g[o].bodyMargin+"px"),r=D(o),v(e,"load",(function(){var t,a;L("iFrame.onload",r,e,n,!0),t=g[o].firstRun,a=g[o].heightCalculationMethod in h,!t&&a&&N({iframe:e,height:0,width:0,type:"init"})})),L("init",r,e,n,!0),Function.prototype.bind&&(g[o].iframe.iFrameResizer={close:k.bind(null,g[o].iframe),resize:L.bind(null,"Window resize","resize",g[o].iframe),moveToAnchor:function(e){L("Move to anchor","moveToAnchor:"+e,g[o].iframe,o)},sendMessage:function(e){L("Send Message","message:"+(e=JSON.stringify(e)),g[o].iframe,o)}}))}function z(e,t){null===b&&(b=setTimeout((function(){b=null,e()}),t))}function B(e){j("window","Trigger event: "+e),z((function(){H("Window "+e,"resize")}),16)}function V(){"hidden"!==document.visibilityState&&(j("document","Trigger event: Visiblity change"),z((function(){H("Tab Visable","resize")}),16))}function H(e,t){function n(e){return"parent"===g[e].resizeFrom&&g[e].autoResize&&!g[e].firstRun}for(var r in g)n(r)&&L(e,t,document.getElementById(r),r)}}()},function(e,t,n){!function(t){"use strict";if("undefined"!=typeof window){var n,r,o,a,i,c,l,u=!0,s="",f=0,d="",p=null,m="",h=!1,g={resize:1,click:1},b=128,y=!0,v=1,O="bodyOffset",w=O,_=!0,j="",E={},C=32,x=null,I=!1,S="[iFrameSizer]",k=S.length,A="",T={max:1,min:1,bodyScroll:1,documentElementScroll:1},P="child",N=!0,M=window.parent,R="*",L=0,D=!1,F=null,z=16,B=1,V="scroll",H=V,q=window,W=function(){oe("MessageCallback function not defined")},U=function(){},$=function(){},Q={height:function(){return oe("Custom height calculation function not defined"),document.documentElement.offsetHeight},width:function(){return oe("Custom width calculation function not defined"),document.body.scrollWidth}},G={},Y=Date.now||function(){return(new Date).getTime()},K={bodyOffset:function(){return document.body.offsetHeight+he("marginTop")+he("marginBottom")},offset:function(){return K.bodyOffset()},bodyScroll:function(){return document.body.scrollHeight},custom:function(){return Q.height()},documentElementOffset:function(){return document.documentElement.offsetHeight},documentElementScroll:function(){return document.documentElement.scrollHeight},max:function(){return Math.max.apply(null,be(K))},min:function(){return Math.min.apply(null,be(K))},grow:function(){return K.max()},lowestElement:function(){return Math.max(K.bodyOffset(),ge("bottom",ve()))},taggedElement:function(){return ye("bottom","data-iframe-height")}},Z={bodyScroll:function(){return document.body.scrollWidth},bodyOffset:function(){return document.body.offsetWidth},custom:function(){return Q.width()},documentElementScroll:function(){return document.documentElement.scrollWidth},documentElementOffset:function(){return document.documentElement.offsetWidth},scroll:function(){return Math.max(Z.bodyScroll(),Z.documentElementScroll())},max:function(){return Math.max.apply(null,be(Z))},min:function(){return Math.min.apply(null,be(Z))},rightMostElement:function(){return ge("right",ve())},taggedElement:function(){return ye("right","data-iframe-width")}},X=(n=function(e,n,r,o){var a,i;!function(){function e(e,t){return!(Math.abs(e-t)<=L)}return a=t!==r?r:K[w](),i=t!==o?o:Z[H](),e(v,a)||h&&e(B,i)}()&&"init"!==e?!(e in{init:1,interval:1,size:1})&&(w in T||h&&H in T)?je(n):e in{interval:1}||re("No change in size detected"):(we(),Ee(v=a,B=i,e))},i=null,c=0,l=function(){c=Y(),i=null,a=n.apply(r,o),i||(r=o=null)},function(){var e=Y();c||(c=e);var t=z-(e-c);return r=this,o=arguments,t<=0||t>z?(i&&(clearTimeout(i),i=null),c=e,a=n.apply(r,o),i||(r=o=null)):i||(i=setTimeout(l,t)),a});J(window,"message",Ce),"loading"!==document.readyState&&window.parent.postMessage("[iFrameResizerChild]Ready","*")}function J(e,t,n){"addEventListener"in window?e.addEventListener(t,n,!1):"attachEvent"in window&&e.attachEvent("on"+t,n)}function ee(e,t,n){"removeEventListener"in window?e.removeEventListener(t,n,!1):"detachEvent"in window&&e.detachEvent("on"+t,n)}function te(e){return e.charAt(0).toUpperCase()+e.slice(1)}function ne(e){return S+"["+A+"] "+e}function re(e){I&&"object"==typeof window.console&&console.log(ne(e))}function oe(e){"object"==typeof window.console&&console.warn(ne(e))}function ae(){var e;!function(){function e(e){return"true"===e}var n=j.substr(k).split(":");A=n[0],f=t!==n[1]?Number(n[1]):f,h=t!==n[2]?e(n[2]):h,I=t!==n[3]?e(n[3]):I,C=t!==n[4]?Number(n[4]):C,u=t!==n[6]?e(n[6]):u,d=n[7],w=t!==n[8]?n[8]:w,s=n[9],m=n[10],L=t!==n[11]?Number(n[11]):L,E.enable=t!==n[12]&&e(n[12]),P=t!==n[13]?n[13]:P,H=t!==n[14]?n[14]:H}(),re("Initialising iFrame ("+location.href+")"),function(){function e(){var e=window.iFrameResizer;re("Reading data from page: "+JSON.stringify(e)),W="messageCallback"in e?e.messageCallback:W,U="readyCallback"in e?e.readyCallback:U,R="targetOrigin"in e?e.targetOrigin:R,w="heightCalculationMethod"in e?e.heightCalculationMethod:w,H="widthCalculationMethod"in e?e.widthCalculationMethod:H}function t(e,t){return"function"==typeof e&&(re("Setup custom "+t+"CalcMethod"),Q[t]=e,e="custom"),e}"iFrameResizer"in window&&Object===window.iFrameResizer.constructor&&(e(),w=t(w,"height"),H=t(H,"width"));re("TargetOrigin for parent set to: "+R)}(),function(){t===d&&(d=f+"px");ie("margin",function(e,t){-1!==t.indexOf("-")&&(oe("Negative CSS value ignored for "+e),t="");return t}("margin",d))}(),ie("background",s),ie("padding",m),(e=document.createElement("div")).style.clear="both",e.style.display="block",document.body.appendChild(e),se(),fe(),document.documentElement.style.height="",document.body.style.height="",re('HTML & body height set to "auto"'),re("Enable public methods"),q.parentIFrame={autoResize:function(e){return!0===e&&!1===u?(u=!0,de()):!1===e&&!0===u&&(u=!1,pe()),u},close:function(){Ee(0,0,"close"),re("Disable outgoing messages"),N=!1,re("Remove event listener: Message"),ee(window,"message",Ce),!0===u&&pe()},getId:function(){return A},getPageInfo:function(e){"function"==typeof e?($=e,Ee(0,0,"pageInfo")):($=function(){},Ee(0,0,"pageInfoStop"))},moveToAnchor:function(e){E.findTarget(e)},reset:function(){je("parentIFrame.reset")},scrollTo:function(e,t){Ee(t,e,"scrollTo")},scrollToOffset:function(e,t){Ee(t,e,"scrollToOffset")},sendMessage:function(e,t){Ee(0,0,"message",JSON.stringify(e),t)},setHeightCalculationMethod:function(e){w=e,se()},setWidthCalculationMethod:function(e){H=e,fe()},setTargetOrigin:function(e){re("Set targetOrigin: "+e),R=e},size:function(e,t){Oe("size","parentIFrame.size("+(e||"")+(t?","+t:"")+")",e,t)}},de(),E=function(){function e(){return{x:window.pageXOffset!==t?window.pageXOffset:document.documentElement.scrollLeft,y:window.pageYOffset!==t?window.pageYOffset:document.documentElement.scrollTop}}function n(t){var n=t.getBoundingClientRect(),r=e();return{x:parseInt(n.left,10)+parseInt(r.x,10),y:parseInt(n.top,10)+parseInt(r.y,10)}}function r(e){function r(e){var t=n(e);re("Moving to in page link (#"+o+") at x: "+t.x+" y: "+t.y),Ee(t.y,t.x,"scrollToOffset")}var o=e.split("#")[1]||e,a=decodeURIComponent(o),i=document.getElementById(a)||document.getElementsByName(a)[0];t!==i?r(i):(re("In page link (#"+o+") not found in iFrame, so sending to parent"),Ee(0,0,"inPageLink","#"+o))}function o(){""!==location.hash&&"#"!==location.hash&&r(location.href)}function a(){function e(e){function t(e){e.preventDefault(),r(this.getAttribute("href"))}"#"!==e.getAttribute("href")&&J(e,"click",t)}Array.prototype.forEach.call(document.querySelectorAll('a[href^="#"]'),e)}function i(){J(window,"hashchange",o)}function c(){setTimeout(o,b)}function l(){Array.prototype.forEach&&document.querySelectorAll?(re("Setting up location.hash handlers"),a(),i(),c()):oe("In page linking not fully supported in this browser! (See README.md for IE8 workaround)")}E.enable?l():re("In page linking not enabled");return{findTarget:r}}(),Oe("init","Init message from host page"),U()}function ie(e,n){t!==n&&""!==n&&"null"!==n&&(document.body.style[e]=n,re("Body "+e+' set to "'+n+'"'))}function ce(e){var t={add:function(t){function n(){Oe(e.eventName,e.eventType)}G[t]=n,J(window,t,n)},remove:function(e){var t=G[e];delete G[e],ee(window,e,t)}};e.eventNames&&Array.prototype.map?(e.eventName=e.eventNames[0],e.eventNames.map(t[e.method])):t[e.method](e.eventName),re(te(e.method)+" event listener: "+e.eventType)}function le(e){ce({method:e,eventType:"Animation Start",eventNames:["animationstart","webkitAnimationStart"]}),ce({method:e,eventType:"Animation Iteration",eventNames:["animationiteration","webkitAnimationIteration"]}),ce({method:e,eventType:"Animation End",eventNames:["animationend","webkitAnimationEnd"]}),ce({method:e,eventType:"Input",eventName:"input"}),ce({method:e,eventType:"Mouse Up",eventName:"mouseup"}),ce({method:e,eventType:"Mouse Down",eventName:"mousedown"}),ce({method:e,eventType:"Orientation Change",eventName:"orientationchange"}),ce({method:e,eventType:"Print",eventName:["afterprint","beforeprint"]}),ce({method:e,eventType:"Ready State Change",eventName:"readystatechange"}),ce({method:e,eventType:"Touch Start",eventName:"touchstart"}),ce({method:e,eventType:"Touch End",eventName:"touchend"}),ce({method:e,eventType:"Touch Cancel",eventName:"touchcancel"}),ce({method:e,eventType:"Transition Start",eventNames:["transitionstart","webkitTransitionStart","MSTransitionStart","oTransitionStart","otransitionstart"]}),ce({method:e,eventType:"Transition Iteration",eventNames:["transitioniteration","webkitTransitionIteration","MSTransitionIteration","oTransitionIteration","otransitioniteration"]}),ce({method:e,eventType:"Transition End",eventNames:["transitionend","webkitTransitionEnd","MSTransitionEnd","oTransitionEnd","otransitionend"]}),"child"===P&&ce({method:e,eventType:"IFrame Resized",eventName:"resize"})}function ue(e,t,n,r){return t!==e&&(e in n||(oe(e+" is not a valid option for "+r+"CalculationMethod."),e=t),re(r+' calculation method set to "'+e+'"')),e}function se(){w=ue(w,O,K,"height")}function fe(){H=ue(H,V,Z,"width")}function de(){var e;!0===u?(le("add"),e=0>C,window.MutationObserver||window.WebKitMutationObserver?e?me():p=function(){function e(e){function t(e){!1===e.complete&&(re("Attach listeners to "+e.src),e.addEventListener("load",a,!1),e.addEventListener("error",i,!1),u.push(e))}"attributes"===e.type&&"src"===e.attributeName?t(e.target):"childList"===e.type&&Array.prototype.forEach.call(e.target.querySelectorAll("img"),t)}function n(e){u.splice(u.indexOf(e),1)}function r(e){re("Remove listeners from "+e.src),e.removeEventListener("load",a,!1),e.removeEventListener("error",i,!1),n(e)}function o(e,n,o){r(e.target),Oe(n,o+": "+e.target.src,t,t)}function a(e){o(e,"imageLoad","Image loaded")}function i(e){o(e,"imageLoadFailed","Image load failed")}function c(t){Oe("mutationObserver","mutationObserver: "+t[0].target+" "+t[0].type),t.forEach(e)}function l(){var e=document.querySelector("body"),t={attributes:!0,attributeOldValue:!1,characterData:!0,characterDataOldValue:!1,childList:!0,subtree:!0};return f=new s(c),re("Create body MutationObserver"),f.observe(e,t),f}var u=[],s=window.MutationObserver||window.WebKitMutationObserver,f=l();return{disconnect:function(){"disconnect"in f&&(re("Disconnect body MutationObserver"),f.disconnect(),u.forEach(r))}}}():(re("MutationObserver not supported in this browser!"),me())):re("Auto Resize disabled")}function pe(){le("remove"),null!==p&&p.disconnect(),clearInterval(x)}function me(){0!==C&&(re("setInterval: "+C+"ms"),x=setInterval((function(){Oe("interval","setInterval: "+C)}),Math.abs(C)))}function he(e,t){var n=0;return t=t||document.body,n="defaultView"in document&&"getComputedStyle"in document.defaultView?null!==(n=document.defaultView.getComputedStyle(t,null))?n[e]:0:function(e){if(/^\d+(px)?$/i.test(e))return parseInt(e,10);var n=t.style.left,r=t.runtimeStyle.left;return t.runtimeStyle.left=t.currentStyle.left,t.style.left=e||0,e=t.style.pixelLeft,t.style.left=n,t.runtimeStyle.left=r,e}(t.currentStyle[e]),parseInt(n,10)}function ge(e,t){for(var n=t.length,r=0,o=0,a=te(e),i=Y(),c=0;c<n;c++)(r=t[c].getBoundingClientRect()[e]+he("margin"+a,t[c]))>o&&(o=r);return i=Y()-i,re("Parsed "+n+" HTML elements"),re("Element position calculated in "+i+"ms"),function(e){e>z/2&&re("Event throttle increased to "+(z=2*e)+"ms")}(i),o}function be(e){return[e.bodyOffset(),e.bodyScroll(),e.documentElementOffset(),e.documentElementScroll()]}function ye(e,t){var n=document.querySelectorAll("["+t+"]");return 0===n.length&&(oe("No tagged elements ("+t+") found on page"),document.querySelectorAll("body *")),ge(e,n)}function ve(){return document.querySelectorAll("body *")}function Oe(e,t,n,r){D&&e in g?re("Trigger event cancelled: "+e):(e in{reset:1,resetPage:1,init:1}||re("Trigger event: "+t),X(e,t,n,r))}function we(){D||(D=!0,re("Trigger event lock on")),clearTimeout(F),F=setTimeout((function(){D=!1,re("Trigger event lock off"),re("--")}),b)}function _e(e){v=K[w](),B=Z[H](),Ee(v,B,e)}function je(e){var t=w;w=O,re("Reset trigger event: "+e),we(),_e("reset"),w=t}function Ee(e,n,r,o,a){var i;!0===N&&(t===a?a=R:re("Message targetOrigin: "+a),re("Sending message to host page ("+(i=A+":"+e+":"+n+":"+r+(t!==o?":"+o:""))+")"),M.postMessage(S+i,a))}function Ce(t){var n={init:function(){document.body?(j=t.data,M=t.source,ae(),y=!1,setTimeout((function(){_=!1}),b)):(re("Waiting for page ready"),J(window,"readystatechange",n.initFromParent))},reset:function(){_?re("Page reset ignored by init"):(re("Page size reset by host page"),_e("resetPage"))},resize:function(){Oe("resizeParent","Parent window requested size check")},moveToAnchor:function(){E.findTarget(o())},inPageLink:function(){this.moveToAnchor()},pageInfo:function(){var e=o();re("PageInfoFromParent called from parent: "+e),$(JSON.parse(e)),re(" --")},message:function(){var e=o();re("MessageCallback called from parent: "+e),W(JSON.parse(e)),re(" --")}};function r(){return t.data.split("]")[1].split(":")[0]}function o(){return t.data.substr(t.data.indexOf(":")+1)}function a(){return t.data.split(":")[2]in{true:1,false:1}}function i(){var o=r();o in n?n[o]():!e.exports&&"iFrameResize"in window||a()||oe("Unexpected message ("+t.data+")")}S===(""+t.data).substr(0,k)&&(!1===y?i():a()?n.init():re('Ignored message of type "'+r()+'". Received before initialization.'))}}()},function(e,t,n){var r=n(85),o=n(55);e.exports=function(e){return o(e)&&"[object RegExp]"==r(e)}},function(e,t,n){var r=n(334)("length");e.exports=r},function(e,t){var n="[\\ud800-\\udfff]",r="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",o="\\ud83c[\\udffb-\\udfff]",a="[^\\ud800-\\udfff]",i="(?:\\ud83c[\\udde6-\\uddff]){2}",c="[\\ud800-\\udbff][\\udc00-\\udfff]",l="(?:"+r+"|"+o+")"+"?",u="[\\ufe0e\\ufe0f]?",s=u+l+("(?:\\u200d(?:"+[a,i,c].join("|")+")"+u+l+")*"),f="(?:"+[a+r+"?",r,i,c,n].join("|")+")",d=RegExp(o+"(?="+o+")|"+f+s,"g");e.exports=function(e){for(var t=d.lastIndex=0;d.test(e);)++t;return t}},function(e,t){e.exports={}},function(e,t,n){"use strict";var r=n(497),o={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},a={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},i={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},c={};function l(e){return r.isMemo(e)?i:c[e.$$typeof]||o}c[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},c[r.Memo]=i;var u=Object.defineProperty,s=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,d=Object.getOwnPropertyDescriptor,p=Object.getPrototypeOf,m=Object.prototype;e.exports=function e(t,n,r){if("string"!=typeof n){if(m){var o=p(n);o&&o!==m&&e(t,o,r)}var i=s(n);f&&(i=i.concat(f(n)));for(var c=l(t),h=l(n),g=0;g<i.length;++g){var b=i[g];if(!(a[b]||r&&r[b]||h&&h[b]||c&&c[b])){var y=d(n,b);try{u(t,b,y)}catch(e){}}}}return t}},function(e,t,n){"use strict";var r=n(283),o=n.n(r);t.a=function(e,t){return o()(e,t)}},function(e,t,n){"use strict";var r=n(0),o=n.n(r);function a(){return a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a.apply(this,arguments)}var i=o.a.createElement("path",{d:"M6.5 10.68.04.605h12.92L6.5 10.68z"});t.a=function(e){return o.a.createElement("svg",a({viewBox:"0 0 13 12"},e),i)}},,,,function(e,t,n){var r=n(584),o=n(41),a=n(917),i=n(34),c=n(148);e.exports=function(e,t,n){var l=i(e)?r:a;return n&&c(e,t,n)&&(t=void 0),l(e,o(t,3))}},,,,,,,,,,,,,,,function(e,t,n){var r=n(41),o=n(79),a=n(160);e.exports=function(e){return function(t,n,i){var c=Object(t);if(!o(t)){var l=r(n,3);t=a(t),n=function(e){return l(c[e],e,c)}}var u=e(t,n,i);return u>-1?c[l?t[u]:u]:void 0}}},function(e,t,n){var r=n(151);e.exports=function(e){return r(e,4)}},function(e,t){e.exports=function(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){function n(t){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?(e.exports=n=function(e){return typeof e},e.exports.default=e.exports,e.exports.__esModule=!0):(e.exports=n=function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.default=e.exports,e.exports.__esModule=!0),n(t)}e.exports=n,e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,n){var r=n(928),o=n(930);e.exports=function(e,t,n){return r(o,e,t,n)}},function(e,t,n){"use strict";var r=n(194),o=n(1);t.a=Object(o.f)(r.a).withConfig({displayName:"SongPageGriddesktop",componentId:"sc-1px5b71-0"})([""])},function(e,t,n){"use strict";var r=n(73),o=n(185),a=n(61),i=n(62),c=n(63),l=n(15),u=n(0),s=n.n(u),f=n(42),d=n(178),p=n(152),m=(n(413),n(366),n(368),n(306),n(307),n(193),n(369),n(43),u.Component,Object(o.a)(r.a));t.a=m},,,,,,,,function(e,t,n){"use strict";var r=n(0),o=n.n(r),a=n(2),i=(n(3),n(1)),c=n(64),l=n.n(c),u=n(7),s=n.n(u),f=n(33),d=n.n(f),p=n(70),m=n(67),h=n(4),g=n(13),b=n(114),y=n(390),v=n(66);function O(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,a=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){c=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(c)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return w(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return w(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function w(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var _=.1,j=function(e){return"marquee_seen_".concat(e)},E=function e(t){var n=t.name,i=t.bottomMargin,c=void 0!==i&&i,u=t.className,f=Object(r.useRef)(null),m=O(Object(r.useState)(0),2),w=m[0],E=m[1],C=O(Object(r.useState)(!1),2),x=C[0],I=C[1],S=O(Object(r.useState)(!1),2),k=S[0],A=S[1],T=O(Object(r.useState)(!1),2),P=T[0],N=T[1],M=Object(b.a)(n),R=M.state,L=M.creativeState,D=M.metadata,F=D.width,z=D.height,B=D.creativeId,V="filled"===R&&4===F&&1===z,H="filled"===R&&!V,q=H&&970===F&&250===z,W=O(Object(r.useState)(!1),2),U=W[0],$=W[1],Q=q&&U&&"loaded"===L;Object(r.useEffect)((function(){$(window.innerHeight>=600)}),[]),Object(r.useEffect)((function(){if(V){var e=new h.c((function(e){var t=O(e,1)[0],n=t.contentRect.width;w!==n&&E(t.contentRect.width)}),{shim:{observe:function(e){return E(e.clientWidth)}}});return e.observe(document.body),function(){return e.disconnect()}}}),[V,w]);var G=Object(a.c)(),Y=Object(y.a)();Object(r.useEffect)((function(){G(V&&k?Object(v.h)("".concat(_*w,"px")):Q?Object(v.h)("".concat(Y.space.xLarge," * 2 + ").concat(z,"px")):Object(v.h)("0px"))}),[V,k,q,Q,Y,z,G,w]);var K=Object(r.useCallback)((function(e){f.current.querySelector(".celtra-ad-inline-host iframe").contentWindow.postMessage(e,"*")}),[]);Object(r.useEffect)((function(){if(V){var e=function(e){e.origin==="https://".concat(g.a.canonicalDomain)&&("marqueeLoaded"===e.data?A(!0):"marqueeReady"===e.data&&N(!0))};return window.addEventListener("message",e),function(){return window.removeEventListener("message",e)}}}),[V]),Object(r.useEffect)((function(){if(k){var e=Boolean(d.a.get(j(B)));if(K({type:"userData",seen:e}),!e){d.a.set(j(B),1,{expires:1});var t=l()((function(){I(!0),K({type:"permanentlyCollapse"})}),1e3),n=new h.b((function(e){O(e,1)[0].isIntersecting?t.cancel():t()}),{threshold:.41000000000000003});return n.observe(f.current),function(){n.disconnect(),t.cancel()}}I(!0)}}),[k,K,B]);var Z=Object(a.d)((function(e){var t=e.songPage;return Boolean(s()(t,"activeFragment"))}));return Object(r.useEffect)((function(){k&&Z&&(I(!0),K({type:"permanentlyCollapse"}))}),[k,Z,K]),o.a.createElement(e.Sticky,{className:u,bodyWidth:w,marquee:V,marqueeReady:P,marqueePermanentlyCollapsed:x,leaderboardCanStick:Q},o.a.createElement(e.Container,{ref:f,leaderboard:H,marquee:V,bottomMargin:c},o.a.createElement(p.a,{name:n,lazy:!1,refreshIntervalSeconds:null})))};t.a=o.a.memo(E),E.Sticky=i.f.div.withConfig({displayName:"LeaderboardOrMarquee__Sticky",componentId:"yjd3i4-0"})(["width:100%;"," ",""],(function(e){return e.leaderboardCanStick&&"\n    position: sticky;\n    top: 0;\n    ".concat(Object(m.a)("stickyLeaderboardOrMarquee"),";\n  ")}),(function(e){return e.marquee?"\n    ".concat(Object(m.a)("stickyLeaderboardOrMarquee"),";\n    position: sticky;\n    top: ").concat(-.15*e.bodyWidth,"px;\n\n    ").concat(e.marqueeReady?"":"\n      height: 0;\n      overflow: hidden;\n    ","\n\n    ").concat(e.marqueePermanentlyCollapsed?"\n      top: 0;\n      min-height: ".concat(e.bodyWidth*_,"px !important;\n\n      .celtra-ad-inline-host {\n        min-height: ").concat(e.bodyWidth*_,"px !important;\n        overflow: hidden;\n      }\n    "):"","\n  "):""})),E.Container=i.f.div.withConfig({displayName:"LeaderboardOrMarquee__Container",componentId:"yjd3i4-1"})([""," ",""],(function(e){return e.leaderboard&&"\n    margin: ".concat(e.theme.space.xLarge," auto ").concat(e.bottomMargin?"":"0",";\n    width: fit-content;\n    position: relative;\n  ")}),(function(e){return e.marquee&&"width: 100%;"}))},,,,,function(e,t,n){"use strict";function r(){this.Diff_Timeout=1,this.Diff_EditCost=4,this.Match_Threshold=.5,this.Match_Distance=1e3,this.Patch_DeleteThreshold=.5,this.Patch_Margin=4,this.Match_MaxBits=32}var o=-1;r.Diff,r.prototype.diff_main=function(e,t,n,r){void 0===r&&(r=this.Diff_Timeout<=0?Number.MAX_VALUE:(new Date).getTime()+1e3*this.Diff_Timeout);var o=r;if(null==e||null==t)throw new Error("Null input. (diff_main)");if(e==t)return e?[[0,e]]:[];void 0===n&&(n=!0);var a=n,i=this.diff_commonPrefix(e,t),c=e.substring(0,i);e=e.substring(i),t=t.substring(i),i=this.diff_commonSuffix(e,t);var l=e.substring(e.length-i);e=e.substring(0,e.length-i),t=t.substring(0,t.length-i);var u=this.diff_compute_(e,t,a,o);return c&&u.unshift([0,c]),l&&u.push([0,l]),this.diff_cleanupMerge(u),u},r.prototype.diff_compute_=function(e,t,n,r){var a;if(!e)return[[1,t]];if(!t)return[[o,e]];var i=e.length>t.length?e:t,c=e.length>t.length?t:e,l=i.indexOf(c);if(-1!=l)return a=[[1,i.substring(0,l)],[0,c],[1,i.substring(l+c.length)]],e.length>t.length&&(a[0][0]=a[2][0]=o),a;if(1==c.length)return[[o,e],[1,t]];var u=this.diff_halfMatch_(e,t);if(u){var s=u[0],f=u[1],d=u[2],p=u[3],m=u[4],h=this.diff_main(s,d,n,r),g=this.diff_main(f,p,n,r);return h.concat([[0,m]],g)}return n&&e.length>100&&t.length>100?this.diff_lineMode_(e,t,r):this.diff_bisect_(e,t,r)},r.prototype.diff_lineMode_=function(e,t,n){e=(f=this.diff_linesToChars_(e,t)).chars1,t=f.chars2;var r=f.lineArray,a=this.diff_main(e,t,!1,n);this.diff_charsToLines_(a,r),this.diff_cleanupSemantic(a),a.push([0,""]);for(var i=0,c=0,l=0,u="",s="";i<a.length;){switch(a[i][0]){case 1:l++,s+=a[i][1];break;case o:c++,u+=a[i][1];break;case 0:if(c>=1&&l>=1){a.splice(i-c-l,c+l),i=i-c-l;for(var f,d=(f=this.diff_main(u,s,!1,n)).length-1;d>=0;d--)a.splice(i,0,f[d]);i+=f.length}l=0,c=0,u="",s=""}i++}return a.pop(),a},r.prototype.diff_bisect_=function(e,t,n){for(var r=e.length,a=t.length,i=Math.ceil((r+a)/2),c=i,l=2*i,u=new Array(l),s=new Array(l),f=0;f<l;f++)u[f]=-1,s[f]=-1;u[c+1]=0,s[c+1]=0;for(var d=r-a,p=d%2!=0,m=0,h=0,g=0,b=0,y=0;y<i&&!((new Date).getTime()>n);y++){for(var v=-y+m;v<=y-h;v+=2){for(var O=c+v,w=(x=v==-y||v!=y&&u[O-1]<u[O+1]?u[O+1]:u[O-1]+1)-v;x<r&&w<a&&e.charAt(x)==t.charAt(w);)x++,w++;if(u[O]=x,x>r)h+=2;else if(w>a)m+=2;else if(p){if((E=c+d-v)>=0&&E<l&&-1!=s[E])if(x>=(j=r-s[E]))return this.diff_bisectSplit_(e,t,x,w,n)}}for(var _=-y+g;_<=y-b;_+=2){for(var j,E=c+_,C=(j=_==-y||_!=y&&s[E-1]<s[E+1]?s[E+1]:s[E-1]+1)-_;j<r&&C<a&&e.charAt(r-j-1)==t.charAt(a-C-1);)j++,C++;if(s[E]=j,j>r)b+=2;else if(C>a)g+=2;else if(!p){if((O=c+d-_)>=0&&O<l&&-1!=u[O]){var x;w=c+(x=u[O])-O;if(x>=(j=r-j))return this.diff_bisectSplit_(e,t,x,w,n)}}}}return[[o,e],[1,t]]},r.prototype.diff_bisectSplit_=function(e,t,n,r,o){var a=e.substring(0,n),i=t.substring(0,r),c=e.substring(n),l=t.substring(r),u=this.diff_main(a,i,!1,o),s=this.diff_main(c,l,!1,o);return u.concat(s)},r.prototype.diff_linesToChars_=function(e,t){var n=[],r={};function o(e){for(var t="",o=0,a=-1,i=n.length;a<e.length-1;){-1==(a=e.indexOf("\n",o))&&(a=e.length-1);var c=e.substring(o,a+1);o=a+1,(r.hasOwnProperty?r.hasOwnProperty(c):void 0!==r[c])?t+=String.fromCharCode(r[c]):(t+=String.fromCharCode(i),r[c]=i,n[i++]=c)}return t}return n[0]="",{chars1:o(e),chars2:o(t),lineArray:n}},r.prototype.diff_charsToLines_=function(e,t){for(var n=0;n<e.length;n++){for(var r=e[n][1],o=[],a=0;a<r.length;a++)o[a]=t[r.charCodeAt(a)];e[n][1]=o.join("")}},r.prototype.diff_commonPrefix=function(e,t){if(!e||!t||e.charAt(0)!=t.charAt(0))return 0;for(var n=0,r=Math.min(e.length,t.length),o=r,a=0;n<o;)e.substring(a,o)==t.substring(a,o)?a=n=o:r=o,o=Math.floor((r-n)/2+n);return o},r.prototype.diff_commonSuffix=function(e,t){if(!e||!t||e.charAt(e.length-1)!=t.charAt(t.length-1))return 0;for(var n=0,r=Math.min(e.length,t.length),o=r,a=0;n<o;)e.substring(e.length-o,e.length-a)==t.substring(t.length-o,t.length-a)?a=n=o:r=o,o=Math.floor((r-n)/2+n);return o},r.prototype.diff_commonOverlap_=function(e,t){var n=e.length,r=t.length;if(0==n||0==r)return 0;n>r?e=e.substring(n-r):n<r&&(t=t.substring(0,n));var o=Math.min(n,r);if(e==t)return o;for(var a=0,i=1;;){var c=e.substring(o-i),l=t.indexOf(c);if(-1==l)return a;i+=l,0!=l&&e.substring(o-i)!=t.substring(0,i)||(a=i,i++)}},r.prototype.diff_halfMatch_=function(e,t){if(this.Diff_Timeout<=0)return null;var n=e.length>t.length?e:t,r=e.length>t.length?t:e;if(n.length<4||2*r.length<n.length)return null;var o=this;function a(e,t,n){for(var r,a,i,c,l=e.substring(n,n+Math.floor(e.length/4)),u=-1,s="";-1!=(u=t.indexOf(l,u+1));){var f=o.diff_commonPrefix(e.substring(n),t.substring(u)),d=o.diff_commonSuffix(e.substring(0,n),t.substring(0,u));s.length<d+f&&(s=t.substring(u-d,u)+t.substring(u,u+f),r=e.substring(0,n-d),a=e.substring(n+f),i=t.substring(0,u-d),c=t.substring(u+f))}return 2*s.length>=e.length?[r,a,i,c,s]:null}var i,c,l,u,s,f=a(n,r,Math.ceil(n.length/4)),d=a(n,r,Math.ceil(n.length/2));return f||d?(i=d?f&&f[4].length>d[4].length?f:d:f,e.length>t.length?(c=i[0],l=i[1],u=i[2],s=i[3]):(u=i[0],s=i[1],c=i[2],l=i[3]),[c,l,u,s,i[4]]):null},r.prototype.diff_cleanupSemantic=function(e){for(var t=!1,n=[],r=0,a=null,i=0,c=0,l=0,u=0,s=0;i<e.length;)0==e[i][0]?(n[r++]=i,c=u,l=s,u=0,s=0,a=e[i][1]):(1==e[i][0]?u+=e[i][1].length:s+=e[i][1].length,a&&a.length<=Math.max(c,l)&&a.length<=Math.max(u,s)&&(e.splice(n[r-1],0,[o,a]),e[n[r-1]+1][0]=1,r--,i=--r>0?n[r-1]:-1,c=0,l=0,u=0,s=0,a=null,t=!0)),i++;for(t&&this.diff_cleanupMerge(e),this.diff_cleanupSemanticLossless(e),i=1;i<e.length;){if(e[i-1][0]==o&&1==e[i][0]){var f=e[i-1][1],d=e[i][1],p=this.diff_commonOverlap_(f,d),m=this.diff_commonOverlap_(d,f);p>=m?(p>=f.length/2||p>=d.length/2)&&(e.splice(i,0,[0,d.substring(0,p)]),e[i-1][1]=f.substring(0,f.length-p),e[i+1][1]=d.substring(p),i++):(m>=f.length/2||m>=d.length/2)&&(e.splice(i,0,[0,f.substring(0,m)]),e[i-1][0]=1,e[i-1][1]=d.substring(0,d.length-m),e[i+1][0]=o,e[i+1][1]=f.substring(m),i++),i++}i++}},r.prototype.diff_cleanupSemanticLossless=function(e){function t(e,t){if(!e||!t)return 6;var n=e.charAt(e.length-1),o=t.charAt(0),a=n.match(r.nonAlphaNumericRegex_),i=o.match(r.nonAlphaNumericRegex_),c=a&&n.match(r.whitespaceRegex_),l=i&&o.match(r.whitespaceRegex_),u=c&&n.match(r.linebreakRegex_),s=l&&o.match(r.linebreakRegex_),f=u&&e.match(r.blanklineEndRegex_),d=s&&t.match(r.blanklineStartRegex_);return f||d?5:u||s?4:a&&!c&&l?3:c||l?2:a||i?1:0}for(var n=1;n<e.length-1;){if(0==e[n-1][0]&&0==e[n+1][0]){var o=e[n-1][1],a=e[n][1],i=e[n+1][1],c=this.diff_commonSuffix(o,a);if(c){var l=a.substring(a.length-c);o=o.substring(0,o.length-c),a=l+a.substring(0,a.length-c),i=l+i}for(var u=o,s=a,f=i,d=t(o,a)+t(a,i);a.charAt(0)===i.charAt(0);){o+=a.charAt(0),a=a.substring(1)+i.charAt(0),i=i.substring(1);var p=t(o,a)+t(a,i);p>=d&&(d=p,u=o,s=a,f=i)}e[n-1][1]!=u&&(u?e[n-1][1]=u:(e.splice(n-1,1),n--),e[n][1]=s,f?e[n+1][1]=f:(e.splice(n+1,1),n--))}n++}},r.nonAlphaNumericRegex_=/[^a-zA-Z0-9]/,r.whitespaceRegex_=/\s/,r.linebreakRegex_=/[\r\n]/,r.blanklineEndRegex_=/\n\r?\n$/,r.blanklineStartRegex_=/^\r?\n\r?\n/,r.prototype.diff_cleanupEfficiency=function(e){for(var t=!1,n=[],r=0,a=null,i=0,c=!1,l=!1,u=!1,s=!1;i<e.length;)0==e[i][0]?(e[i][1].length<this.Diff_EditCost&&(u||s)?(n[r++]=i,c=u,l=s,a=e[i][1]):(r=0,a=null),u=s=!1):(e[i][0]==o?s=!0:u=!0,a&&(c&&l&&u&&s||a.length<this.Diff_EditCost/2&&c+l+u+s==3)&&(e.splice(n[r-1],0,[o,a]),e[n[r-1]+1][0]=1,r--,a=null,c&&l?(u=s=!0,r=0):(i=--r>0?n[r-1]:-1,u=s=!1),t=!0)),i++;t&&this.diff_cleanupMerge(e)},r.prototype.diff_cleanupMerge=function(e){e.push([0,""]);for(var t,n=0,r=0,a=0,i="",c="";n<e.length;)switch(e[n][0]){case 1:a++,c+=e[n][1],n++;break;case o:r++,i+=e[n][1],n++;break;case 0:r+a>1?(0!==r&&0!==a&&(0!==(t=this.diff_commonPrefix(c,i))&&(n-r-a>0&&0==e[n-r-a-1][0]?e[n-r-a-1][1]+=c.substring(0,t):(e.splice(0,0,[0,c.substring(0,t)]),n++),c=c.substring(t),i=i.substring(t)),0!==(t=this.diff_commonSuffix(c,i))&&(e[n][1]=c.substring(c.length-t)+e[n][1],c=c.substring(0,c.length-t),i=i.substring(0,i.length-t))),0===r?e.splice(n-a,r+a,[1,c]):0===a?e.splice(n-r,r+a,[o,i]):e.splice(n-r-a,r+a,[o,i],[1,c]),n=n-r-a+(r?1:0)+(a?1:0)+1):0!==n&&0==e[n-1][0]?(e[n-1][1]+=e[n][1],e.splice(n,1)):n++,a=0,r=0,i="",c=""}""===e[e.length-1][1]&&e.pop();var l=!1;for(n=1;n<e.length-1;)0==e[n-1][0]&&0==e[n+1][0]&&(e[n][1].substring(e[n][1].length-e[n-1][1].length)==e[n-1][1]?(e[n][1]=e[n-1][1]+e[n][1].substring(0,e[n][1].length-e[n-1][1].length),e[n+1][1]=e[n-1][1]+e[n+1][1],e.splice(n-1,1),l=!0):e[n][1].substring(0,e[n+1][1].length)==e[n+1][1]&&(e[n-1][1]+=e[n+1][1],e[n][1]=e[n][1].substring(e[n+1][1].length)+e[n+1][1],e.splice(n+1,1),l=!0)),n++;l&&this.diff_cleanupMerge(e)},r.prototype.diff_xIndex=function(e,t){var n,r=0,a=0,i=0,c=0;for(n=0;n<e.length&&(1!==e[n][0]&&(r+=e[n][1].length),e[n][0]!==o&&(a+=e[n][1].length),!(r>t));n++)i=r,c=a;return e.length!=n&&e[n][0]===o?c:c+(t-i)},r.prototype.diff_prettyHtml=function(e){for(var t=[],n=/&/g,r=/</g,a=/>/g,i=/\n/g,c=0;c<e.length;c++){var l=e[c][0],u=e[c][1].replace(n,"&amp;").replace(r,"&lt;").replace(a,"&gt;").replace(i,"&para;<br>");switch(l){case 1:t[c]='<ins style="background:#e6ffe6;">'+u+"</ins>";break;case o:t[c]='<del style="background:#ffe6e6;">'+u+"</del>";break;case 0:t[c]="<span>"+u+"</span>"}}return t.join("")},r.prototype.diff_text1=function(e){for(var t=[],n=0;n<e.length;n++)1!==e[n][0]&&(t[n]=e[n][1]);return t.join("")},r.prototype.diff_text2=function(e){for(var t=[],n=0;n<e.length;n++)e[n][0]!==o&&(t[n]=e[n][1]);return t.join("")},r.prototype.diff_levenshtein=function(e){for(var t=0,n=0,r=0,a=0;a<e.length;a++){var i=e[a][0],c=e[a][1];switch(i){case 1:n+=c.length;break;case o:r+=c.length;break;case 0:t+=Math.max(n,r),n=0,r=0}}return t+=Math.max(n,r)},r.prototype.diff_toDelta=function(e){for(var t=[],n=0;n<e.length;n++)switch(e[n][0]){case 1:t[n]="+"+encodeURI(e[n][1]);break;case o:t[n]="-"+e[n][1].length;break;case 0:t[n]="="+e[n][1].length}return t.join("\t").replace(/%20/g," ")},r.prototype.diff_fromDelta=function(e,t){for(var n=[],r=0,a=0,i=t.split(/\t/g),c=0;c<i.length;c++){var l=i[c].substring(1);switch(i[c].charAt(0)){case"+":try{n[r++]=[1,decodeURI(l)]}catch(e){throw new Error("Illegal escape in diff_fromDelta: "+l)}break;case"-":case"=":var u=parseInt(l,10);if(isNaN(u)||u<0)throw new Error("Invalid number in diff_fromDelta: "+l);var s=e.substring(a,a+=u);"="==i[c].charAt(0)?n[r++]=[0,s]:n[r++]=[o,s];break;default:if(i[c])throw new Error("Invalid diff operation in diff_fromDelta: "+i[c])}}if(a!=e.length)throw new Error("Delta length ("+a+") does not equal source text length ("+e.length+").");return n},r.prototype.match_main=function(e,t,n){if(null==e||null==t||null==n)throw new Error("Null input. (match_main)");return n=Math.max(0,Math.min(n,e.length)),e==t?0:e.length?e.substring(n,n+t.length)==t?n:this.match_bitap_(e,t,n):-1},r.prototype.match_bitap_=function(e,t,n){if(t.length>this.Match_MaxBits)throw new Error("Pattern too long for this browser.");var r=this.match_alphabet_(t),o=this;function a(e,r){var a=e/t.length,i=Math.abs(n-r);return o.Match_Distance?a+i/o.Match_Distance:i?1:a}var i=this.Match_Threshold,c=e.indexOf(t,n);-1!=c&&(i=Math.min(a(0,c),i),-1!=(c=e.lastIndexOf(t,n+t.length))&&(i=Math.min(a(0,c),i)));var l,u,s=1<<t.length-1;c=-1;for(var f,d=t.length+e.length,p=0;p<t.length;p++){for(l=0,u=d;l<u;)a(p,n+u)<=i?l=u:d=u,u=Math.floor((d-l)/2+l);d=u;var m=Math.max(1,n-u+1),h=Math.min(n+u,e.length)+t.length,g=Array(h+2);g[h+1]=(1<<p)-1;for(var b=h;b>=m;b--){var y=r[e.charAt(b-1)];if(g[b]=0===p?(g[b+1]<<1|1)&y:(g[b+1]<<1|1)&y|(f[b+1]|f[b])<<1|1|f[b+1],g[b]&s){var v=a(p,b-1);if(v<=i){if(i=v,!((c=b-1)>n))break;m=Math.max(1,2*n-c)}}}if(a(p+1,n)>i)break;f=g}return c},r.prototype.match_alphabet_=function(e){for(var t={},n=0;n<e.length;n++)t[e.charAt(n)]=0;for(n=0;n<e.length;n++)t[e.charAt(n)]|=1<<e.length-n-1;return t},r.prototype.patch_addContext_=function(e,t){if(0!=t.length){for(var n=t.substring(e.start2,e.start2+e.length1),r=0;t.indexOf(n)!=t.lastIndexOf(n)&&n.length<this.Match_MaxBits-this.Patch_Margin-this.Patch_Margin;)r+=this.Patch_Margin,n=t.substring(e.start2-r,e.start2+e.length1+r);r+=this.Patch_Margin;var o=t.substring(e.start2-r,e.start2);o&&e.diffs.unshift([0,o]);var a=t.substring(e.start2+e.length1,e.start2+e.length1+r);a&&e.diffs.push([0,a]),e.start1-=o.length,e.start2-=o.length,e.length1+=o.length+a.length,e.length2+=o.length+a.length}},r.prototype.patch_make=function(e,t,n){var a,i;if("string"==typeof e&&"string"==typeof t&&void 0===n)a=e,(i=this.diff_main(a,t,!0)).length>2&&(this.diff_cleanupSemantic(i),this.diff_cleanupEfficiency(i));else if(e&&"object"==typeof e&&void 0===t&&void 0===n)i=e,a=this.diff_text1(i);else if("string"==typeof e&&t&&"object"==typeof t&&void 0===n)a=e,i=t;else{if("string"!=typeof e||"string"!=typeof t||!n||"object"!=typeof n)throw new Error("Unknown call format to patch_make.");a=e,i=n}if(0===i.length)return[];for(var c=[],l=new r.patch_obj,u=0,s=0,f=0,d=a,p=a,m=0;m<i.length;m++){var h=i[m][0],g=i[m][1];switch(u||0===h||(l.start1=s,l.start2=f),h){case 1:l.diffs[u++]=i[m],l.length2+=g.length,p=p.substring(0,f)+g+p.substring(f);break;case o:l.length1+=g.length,l.diffs[u++]=i[m],p=p.substring(0,f)+p.substring(f+g.length);break;case 0:g.length<=2*this.Patch_Margin&&u&&i.length!=m+1?(l.diffs[u++]=i[m],l.length1+=g.length,l.length2+=g.length):g.length>=2*this.Patch_Margin&&u&&(this.patch_addContext_(l,d),c.push(l),l=new r.patch_obj,u=0,d=p,s=f)}1!==h&&(s+=g.length),h!==o&&(f+=g.length)}return u&&(this.patch_addContext_(l,d),c.push(l)),c},r.prototype.patch_deepCopy=function(e){for(var t=[],n=0;n<e.length;n++){var o=e[n],a=new r.patch_obj;a.diffs=[];for(var i=0;i<o.diffs.length;i++)a.diffs[i]=o.diffs[i].slice();a.start1=o.start1,a.start2=o.start2,a.length1=o.length1,a.length2=o.length2,t[n]=a}return t},r.prototype.patch_apply=function(e,t){if(0==e.length)return[t,[]];e=this.patch_deepCopy(e);var n=this.patch_addPadding(e);t=n+t+n,this.patch_splitMax(e);for(var r=0,a=[],i=0;i<e.length;i++){var c,l,u=e[i].start2+r,s=this.diff_text1(e[i].diffs),f=-1;if(s.length>this.Match_MaxBits?-1!=(c=this.match_main(t,s.substring(0,this.Match_MaxBits),u))&&(-1==(f=this.match_main(t,s.substring(s.length-this.Match_MaxBits),u+s.length-this.Match_MaxBits))||c>=f)&&(c=-1):c=this.match_main(t,s,u),-1==c)a[i]=!1,r-=e[i].length2-e[i].length1;else if(a[i]=!0,r=c-u,s==(l=-1==f?t.substring(c,c+s.length):t.substring(c,f+this.Match_MaxBits)))t=t.substring(0,c)+this.diff_text2(e[i].diffs)+t.substring(c+s.length);else{var d=this.diff_main(s,l,!1);if(s.length>this.Match_MaxBits&&this.diff_levenshtein(d)/s.length>this.Patch_DeleteThreshold)a[i]=!1;else{this.diff_cleanupSemanticLossless(d);for(var p,m=0,h=0;h<e[i].diffs.length;h++){var g=e[i].diffs[h];0!==g[0]&&(p=this.diff_xIndex(d,m)),1===g[0]?t=t.substring(0,c+p)+g[1]+t.substring(c+p):g[0]===o&&(t=t.substring(0,c+p)+t.substring(c+this.diff_xIndex(d,m+g[1].length))),g[0]!==o&&(m+=g[1].length)}}}}return[t=t.substring(n.length,t.length-n.length),a]},r.prototype.patch_addPadding=function(e){for(var t=this.Patch_Margin,n="",r=1;r<=t;r++)n+=String.fromCharCode(r);for(r=0;r<e.length;r++)e[r].start1+=t,e[r].start2+=t;var o=e[0],a=o.diffs;if(0==a.length||0!=a[0][0])a.unshift([0,n]),o.start1-=t,o.start2-=t,o.length1+=t,o.length2+=t;else if(t>a[0][1].length){var i=t-a[0][1].length;a[0][1]=n.substring(a[0][1].length)+a[0][1],o.start1-=i,o.start2-=i,o.length1+=i,o.length2+=i}if(0==(a=(o=e[e.length-1]).diffs).length||0!=a[a.length-1][0])a.push([0,n]),o.length1+=t,o.length2+=t;else if(t>a[a.length-1][1].length){i=t-a[a.length-1][1].length;a[a.length-1][1]+=n.substring(0,i),o.length1+=i,o.length2+=i}return n},r.prototype.patch_splitMax=function(e){for(var t=this.Match_MaxBits,n=0;n<e.length;n++)if(!(e[n].length1<=t)){var a=e[n];e.splice(n--,1);for(var i=a.start1,c=a.start2,l="";0!==a.diffs.length;){var u=new r.patch_obj,s=!0;for(u.start1=i-l.length,u.start2=c-l.length,""!==l&&(u.length1=u.length2=l.length,u.diffs.push([0,l]));0!==a.diffs.length&&u.length1<t-this.Patch_Margin;){var f=a.diffs[0][0],d=a.diffs[0][1];1===f?(u.length2+=d.length,c+=d.length,u.diffs.push(a.diffs.shift()),s=!1):f===o&&1==u.diffs.length&&0==u.diffs[0][0]&&d.length>2*t?(u.length1+=d.length,i+=d.length,s=!1,u.diffs.push([f,d]),a.diffs.shift()):(d=d.substring(0,t-u.length1-this.Patch_Margin),u.length1+=d.length,i+=d.length,0===f?(u.length2+=d.length,c+=d.length):s=!1,u.diffs.push([f,d]),d==a.diffs[0][1]?a.diffs.shift():a.diffs[0][1]=a.diffs[0][1].substring(d.length))}l=(l=this.diff_text2(u.diffs)).substring(l.length-this.Patch_Margin);var p=this.diff_text1(a.diffs).substring(0,this.Patch_Margin);""!==p&&(u.length1+=p.length,u.length2+=p.length,0!==u.diffs.length&&0===u.diffs[u.diffs.length-1][0]?u.diffs[u.diffs.length-1][1]+=p:u.diffs.push([0,p])),s||e.splice(++n,0,u)}}},r.prototype.patch_toText=function(e){for(var t=[],n=0;n<e.length;n++)t[n]=e[n];return t.join("")},r.prototype.patch_fromText=function(e){var t=[];if(!e)return t;for(var n=e.split("\n"),a=0,i=/^@@ -(\d+),?(\d*) \+(\d+),?(\d*) @@$/;a<n.length;){var c=n[a].match(i);if(!c)throw new Error("Invalid patch string: "+n[a]);var l=new r.patch_obj;for(t.push(l),l.start1=parseInt(c[1],10),""===c[2]?(l.start1--,l.length1=1):"0"==c[2]?l.length1=0:(l.start1--,l.length1=parseInt(c[2],10)),l.start2=parseInt(c[3],10),""===c[4]?(l.start2--,l.length2=1):"0"==c[4]?l.length2=0:(l.start2--,l.length2=parseInt(c[4],10)),a++;a<n.length;){var u=n[a].charAt(0);try{var s=decodeURI(n[a].substring(1))}catch(e){throw new Error("Illegal escape in patch_fromText: "+s)}if("-"==u)l.diffs.push([o,s]);else if("+"==u)l.diffs.push([1,s]);else if(" "==u)l.diffs.push([0,s]);else{if("@"==u)break;if(""!==u)throw new Error('Invalid patch mode "'+u+'" in: '+s)}a++}}return t},r.patch_obj=function(){this.diffs=[],this.start1=null,this.start2=null,this.length1=0,this.length2=0},r.patch_obj.prototype.toString=function(){for(var e,t=["@@ -"+(0===this.length1?this.start1+",0":1==this.length1?this.start1+1:this.start1+1+","+this.length1)+" +"+(0===this.length2?this.start2+",0":1==this.length2?this.start2+1:this.start2+1+","+this.length2)+" @@\n"],n=0;n<this.diffs.length;n++){switch(this.diffs[n][0]){case 1:e="+";break;case o:e="-";break;case 0:e=" "}t[n+1]=e+encodeURI(this.diffs[n][1])+"\n"}return t.join("").replace(/%20/g," ")},e.exports=r,e.exports.diff_match_patch=r,e.exports.DIFF_DELETE=o,e.exports.DIFF_INSERT=1,e.exports.DIFF_EQUAL=0},,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){var r=n(347);e.exports=function(e,t){return function(n,o){return r(n,e,t(o),{})}}},function(e,t,n){var r=n(159);e.exports=function(e,t,n,o){return r(e,(function(e,r,a){t(o,n(e),r,a)})),o}},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(238)),a=n(305),i=function(){function e(e,t){void 0===t&&(t={}),this._src=e,this._opts=t,this._opts.filters=a(o.default.DefaultOpts.filters)}return e.prototype.maxColorCount=function(e){return this._opts.colorCount=e,this},e.prototype.maxDimension=function(e){return this._opts.maxDimension=e,this},e.prototype.addFilter=function(e){return this._opts.filters.push(e),this},e.prototype.removeFilter=function(e){var t=this._opts.filters.indexOf(e);return t>0&&this._opts.filters.splice(t),this},e.prototype.clearFilters=function(){return this._opts.filters=[],this},e.prototype.quality=function(e){return this._opts.quality=e,this},e.prototype.useImageClass=function(e){return this._opts.ImageClass=e,this},e.prototype.useGenerator=function(e){return this._opts.generator=e,this},e.prototype.useQuantizer=function(e){return this._opts.quantizer=e,this},e.prototype.build=function(){return new o.default(this._src,this._opts)},e.prototype.getPalette=function(e){return this.build().getPalette(e)},e.prototype.getSwatches=function(e){return this.build().getPalette(e)},e}();t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(350);t.MMCQ=r.default,t.WebWorker=null},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(171),a=r(n(351)),i=r(n(352));function c(e,t){for(var n=e.size();e.size()<t;){var r=e.pop();if(!(r&&r.count()>0))break;var o=r.split(),a=o[0],i=o[1];if(e.push(a),i&&i.count()>0&&e.push(i),e.size()===n)break;n=e.size()}}t.default=function(e,t){if(0===e.length||t.colorCount<2||t.colorCount>256)throw new Error("Wrong MMCQ parameters");var n=a.default.build(e),r=n.hist,l=(Object.keys(r).length,new i.default((function(e,t){return e.count()-t.count()})));l.push(n),c(l,.75*t.colorCount);var u=new i.default((function(e,t){return e.count()*e.volume()-t.count()*t.volume()}));return u.contents=l.contents,c(u,t.colorCount-u.size()),function(e){var t=[];for(;e.size();){var n=e.pop(),r=n.avg();r[0],r[1],r[2];t.push(new o.Swatch(r,n.count()))}return t}(u)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(127),o=function(){function e(e,t,n,r,o,a,i){this._volume=-1,this._count=-1,this.dimension={r1:e,r2:t,g1:n,g2:r,b1:o,b2:a},this.hist=i}return e.build=function(t,n){var o,a,i,c,l,u,s,f,d,p=1<<3*r.SIGBITS,m=new Uint32Array(p);o=i=l=0,a=c=u=Number.MAX_VALUE;for(var h=t.length/4,g=0;g<h;){var b=4*g;if(g++,s=t[b+0],f=t[b+1],d=t[b+2],0!==t[b+3])s>>=r.RSHIFT,f>>=r.RSHIFT,d>>=r.RSHIFT,m[r.getColorIndex(s,f,d)]+=1,s>o&&(o=s),s<a&&(a=s),f>i&&(i=f),f<c&&(c=f),d>l&&(l=d),d<u&&(u=d)}return new e(a,o,c,i,u,l,m)},e.prototype.invalidate=function(){this._volume=this._count=-1,this._avg=null},e.prototype.volume=function(){if(this._volume<0){var e=this.dimension,t=e.r1,n=e.r2,r=e.g1,o=e.g2,a=e.b1,i=e.b2;this._volume=(n-t+1)*(o-r+1)*(i-a+1)}return this._volume},e.prototype.count=function(){if(this._count<0){for(var e=this.hist,t=this.dimension,n=t.r1,o=t.r2,a=t.g1,i=t.g2,c=t.b1,l=t.b2,u=0,s=n;s<=o;s++)for(var f=a;f<=i;f++)for(var d=c;d<=l;d++){u+=e[r.getColorIndex(s,f,d)]}this._count=u}return this._count},e.prototype.clone=function(){var t=this.hist,n=this.dimension;return new e(n.r1,n.r2,n.g1,n.g2,n.b1,n.b2,t)},e.prototype.avg=function(){if(!this._avg){var e=this.hist,t=this.dimension,n=t.r1,o=t.r2,a=t.g1,i=t.g2,c=t.b1,l=t.b2,u=0,s=1<<8-r.SIGBITS,f=void 0,d=void 0,p=void 0;f=d=p=0;for(var m=n;m<=o;m++)for(var h=a;h<=i;h++)for(var g=c;g<=l;g++){var b=e[r.getColorIndex(m,h,g)];u+=b,f+=b*(m+.5)*s,d+=b*(h+.5)*s,p+=b*(g+.5)*s}this._avg=u?[~~(f/u),~~(d/u),~~(p/u)]:[~~(s*(n+o+1)/2),~~(s*(a+i+1)/2),~~(s*(c+l+1)/2)]}return this._avg},e.prototype.contains=function(e){var t=e[0],n=e[1],o=e[2],a=this.dimension,i=a.r1,c=a.r2,l=a.g1,u=a.g2,s=a.b1,f=a.b2;return t>>=r.RSHIFT,n>>=r.RSHIFT,o>>=r.RSHIFT,t>=i&&t<=c&&n>=l&&n<=u&&o>=s&&o<=f},e.prototype.split=function(){var e=this.hist,t=this.dimension,n=t.r1,o=t.r2,a=t.g1,i=t.g2,c=t.b1,l=t.b2,u=this.count();if(!u)return[];if(1===u)return[this.clone()];var s,f,d=o-n+1,p=i-a+1,m=l-c+1,h=Math.max(d,p,m),g=null;s=f=0;var b=null;if(h===d){b="r",g=new Uint32Array(o+1);for(var y=n;y<=o;y++){s=0;for(var v=a;v<=i;v++)for(var O=c;O<=l;O++){s+=e[r.getColorIndex(y,v,O)]}f+=s,g[y]=f}}else if(h===p){b="g",g=new Uint32Array(i+1);for(v=a;v<=i;v++){s=0;for(y=n;y<=o;y++)for(O=c;O<=l;O++){s+=e[r.getColorIndex(y,v,O)]}f+=s,g[v]=f}}else{b="b",g=new Uint32Array(l+1);for(O=c;O<=l;O++){s=0;for(y=n;y<=o;y++)for(v=a;v<=i;v++){s+=e[r.getColorIndex(y,v,O)]}f+=s,g[O]=f}}for(var w=-1,_=new Uint32Array(g.length),j=0;j<g.length;j++){var E=g[j];w<0&&E>f/2&&(w=j),_[j]=f-E}var C=this;return function(e){var t=e+"1",n=e+"2",r=C.dimension[t],o=C.dimension[n],a=C.clone(),i=C.clone(),c=w-r,l=o-w;for(c<=l?(o=Math.min(o-1,~~(w+l/2)),o=Math.max(0,o)):(o=Math.max(r,~~(w-1-c/2)),o=Math.min(C.dimension[n],o));!g[o];)o++;for(var u=_[o];!u&&g[o-1];)u=_[--o];return a.dimension[n]=o,i.dimension[t]=o+1,[a,i]}(b)},e}();t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e){this._comparator=e,this.contents=[],this._sorted=!1}return e.prototype._sort=function(){this._sorted||(this.contents.sort(this._comparator),this._sorted=!0)},e.prototype.push=function(e){this.contents.push(e),this._sorted=!1},e.prototype.peek=function(e){return this._sort(),e="number"==typeof e?e:this.contents.length-1,this.contents[e]},e.prototype.pop=function(){return this._sort(),this.contents.pop()},e.prototype.size=function(){return this.contents.length},e.prototype.map=function(e){return this._sort(),this.contents.map(e)},e}();t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(354);t.Default=r.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(171),o=n(127),a=n(142),i={targetDarkLuma:.26,maxDarkLuma:.45,minLightLuma:.55,targetLightLuma:.74,minNormalLuma:.3,targetNormalLuma:.5,maxNormalLuma:.7,targetMutesSaturation:.3,maxMutesSaturation:.4,targetVibrantSaturation:1,minVibrantSaturation:.35,weightSaturation:3,weightLuma:6.5,weightPopulation:.5};function c(e,t,n,r,o,a,i,c,l,u){var s=null,f=0;return t.forEach((function(t){var d=t.getHsl(),p=d[1],m=d[2];if(p>=c&&p<=l&&m>=o&&m<=a&&!function(e,t){return e.Vibrant===t||e.DarkVibrant===t||e.LightVibrant===t||e.Muted===t||e.DarkMuted===t||e.LightMuted===t}(e,t)){var h=function(e,t,n,r,o,a,i){function c(e,t){return 1-Math.abs(e-t)}return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=0,r=0,o=0;o<e.length;o+=2){var a=e[o],i=e[o+1];n+=a*i,r+=i}return n/r}(c(e,t),i.weightSaturation,c(n,r),i.weightLuma,o/a,i.weightPopulation)}(p,i,m,r,t.getPopulation(),n,u);(null===s||h>f)&&(s=t,f=h)}})),s}t.default=function(e,t){t=a({},t,i);var n=function(e){var t=0;return e.forEach((function(e){t=Math.max(t,e.getPopulation())})),t}(e),l=function(e,t,n){var r={};return r.Vibrant=c(r,e,t,n.targetNormalLuma,n.minNormalLuma,n.maxNormalLuma,n.targetVibrantSaturation,n.minVibrantSaturation,1,n),r.LightVibrant=c(r,e,t,n.targetLightLuma,n.minLightLuma,1,n.targetVibrantSaturation,n.minVibrantSaturation,1,n),r.DarkVibrant=c(r,e,t,n.targetDarkLuma,0,n.maxDarkLuma,n.targetVibrantSaturation,n.minVibrantSaturation,1,n),r.Muted=c(r,e,t,n.targetNormalLuma,n.minNormalLuma,n.maxNormalLuma,n.targetMutesSaturation,0,n.maxMutesSaturation,n),r.LightMuted=c(r,e,t,n.targetLightLuma,n.minLightLuma,1,n.targetMutesSaturation,0,n.maxMutesSaturation,n),r.DarkMuted=c(r,e,t,n.targetDarkLuma,0,n.maxDarkLuma,n.targetMutesSaturation,0,n.maxMutesSaturation,n),r}(e,n,t);return function(e,t,n){if(null===e.Vibrant&&null===e.DarkVibrant&&null===e.LightVibrant){if(null===e.DarkVibrant&&null!==e.DarkMuted){var a=e.DarkMuted.getHsl(),i=a[0],c=a[1],l=a[2];l=n.targetDarkLuma,e.DarkVibrant=new r.Swatch(o.hslToRgb(i,c,l),0)}if(null===e.LightVibrant&&null!==e.LightMuted){var u=e.LightMuted.getHsl();i=u[0],c=u[1],l=u[2],l=n.targetDarkLuma,e.DarkVibrant=new r.Swatch(o.hslToRgb(i,c,l),0)}}if(null===e.Vibrant&&null!==e.DarkVibrant){var s=e.DarkVibrant.getHsl();i=s[0],c=s[1],l=s[2],l=n.targetNormalLuma,e.Vibrant=new r.Swatch(o.hslToRgb(i,c,l),0)}else if(null===e.Vibrant&&null!==e.LightVibrant){var f=e.LightVibrant.getHsl();i=f[0],c=f[1],l=f[2],l=n.targetNormalLuma,e.Vibrant=new r.Swatch(o.hslToRgb(i,c,l),0)}if(null===e.DarkVibrant&&null!==e.Vibrant){var d=e.Vibrant.getHsl();i=d[0],c=d[1],l=d[2],l=n.targetDarkLuma,e.DarkVibrant=new r.Swatch(o.hslToRgb(i,c,l),0)}if(null===e.LightVibrant&&null!==e.Vibrant){var p=e.Vibrant.getHsl();i=p[0],c=p[1],l=p[2],l=n.targetLightLuma,e.LightVibrant=new r.Swatch(o.hslToRgb(i,c,l),0)}if(null===e.Muted&&null!==e.Vibrant){var m=e.Vibrant.getHsl();i=m[0],c=m[1],l=m[2],l=n.targetMutesSaturation,e.Muted=new r.Swatch(o.hslToRgb(i,c,l),0)}if(null===e.DarkMuted&&null!==e.DarkVibrant){var h=e.DarkVibrant.getHsl();i=h[0],c=h[1],l=h[2],l=n.targetMutesSaturation,e.DarkMuted=new r.Swatch(o.hslToRgb(i,c,l),0)}if(null===e.LightMuted&&null!==e.LightVibrant){var g=e.LightVibrant.getHsl();i=g[0],c=g[1],l=g[2],l=n.targetMutesSaturation,e.LightMuted=new r.Swatch(o.hslToRgb(i,c,l),0)}}(l,0,t),l}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(356);t.Default=r.default,t.combineFilters=function(e){return Array.isArray(e)&&0!==e.length?function(t,n,r,o){if(0===o)return!1;for(var a=0;a<e.length;a++)if(!e[a](t,n,r,o))return!1;return!0}:null}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n,r){return r>=125&&!(e>250&&t>250&&n>250)}},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},r(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var i=n(358),c=a(n(359));var l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype._initCanvas=function(){var e=this.image,t=this._canvas=document.createElement("canvas"),n=this._context=t.getContext("2d");t.className="vibrant-canvas",t.style.display="none",this._width=t.width=e.width,this._height=t.height=e.height,n.drawImage(e,0,0),document.body.appendChild(t)},t.prototype.load=function(e){var t,n,r,o,a,i,l=this,u=null,s=null;if("string"==typeof e)u=document.createElement("img"),a=e,null===(i=c.parse(a)).protocol&&null===i.host&&null===i.port||(t=window.location.href,n=e,r=c.parse(t),o=c.parse(n),r.protocol===o.protocol&&r.hostname===o.hostname&&r.port===o.port)||(u.crossOrigin="anonymous"),s=u.src=e;else{if(!(e instanceof HTMLImageElement))return Promise.reject(new Error("Cannot load buffer as an image in browser"));u=e,s=e.src}return this.image=u,new Promise((function(e,t){var n=function(){l._initCanvas(),e(l)};u.complete?n():(u.onload=n,u.onerror=function(e){return t(new Error("Fail to load image: "+s))})}))},t.prototype.clear=function(){this._context.clearRect(0,0,this._width,this._height)},t.prototype.update=function(e){this._context.putImageData(e,0,0)},t.prototype.getWidth=function(){return this._width},t.prototype.getHeight=function(){return this._height},t.prototype.resize=function(e,t,n){var r=this,o=r._canvas,a=r._context,i=r.image;this._width=o.width=e,this._height=o.height=t,a.scale(n,n),a.drawImage(i,0,0)},t.prototype.getPixelCount=function(){return this._width*this._height},t.prototype.getImageData=function(){return this._context.getImageData(0,0,this._width,this._height)},t.prototype.remove=function(){this._canvas&&this._canvas.parentNode&&this._canvas.parentNode.removeChild(this._canvas)},t}(i.ImageBase);t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){}return e.prototype.scaleDown=function(e){var t=this.getWidth(),n=this.getHeight(),r=1;if(e.maxDimension>0){var o=Math.max(t,n);o>e.maxDimension&&(r=e.maxDimension/o)}else r=1/e.quality;r<1&&this.resize(t*r,n*r,r)},e.prototype.applyFilter=function(e){var t=this.getImageData();if("function"==typeof e)for(var n=t.data,r=n.length/4,o=void 0,a=0;a<r;a++)e(n[(o=4*a)+0],n[o+1],n[o+2],n[o+3])||(n[o+3]=0);return Promise.resolve(t)},e}();t.ImageBase=r},function(e,t,n){"use strict";var r=n(360),o=n(361);function a(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}t.parse=v,t.resolve=function(e,t){return v(e,!1,!0).resolve(t)},t.resolveObject=function(e,t){return e?v(e,!1,!0).resolveObject(t):t},t.format=function(e){o.isString(e)&&(e=v(e));return e instanceof a?e.format():a.prototype.format.call(e)},t.Url=a;var i=/^([a-z0-9.+-]+:)/i,c=/:[0-9]*$/,l=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,u=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),s=["'"].concat(u),f=["%","/","?",";","#"].concat(s),d=["/","?","#"],p=/^[+a-z0-9A-Z_-]{0,63}$/,m=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,h={javascript:!0,"javascript:":!0},g={javascript:!0,"javascript:":!0},b={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},y=n(362);function v(e,t,n){if(e&&o.isObject(e)&&e instanceof a)return e;var r=new a;return r.parse(e,t,n),r}a.prototype.parse=function(e,t,n){if(!o.isString(e))throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var a=e.indexOf("?"),c=-1!==a&&a<e.indexOf("#")?"?":"#",u=e.split(c);u[0]=u[0].replace(/\\/g,"/");var v=e=u.join(c);if(v=v.trim(),!n&&1===e.split("#").length){var O=l.exec(v);if(O)return this.path=v,this.href=v,this.pathname=O[1],O[2]?(this.search=O[2],this.query=t?y.parse(this.search.substr(1)):this.search.substr(1)):t&&(this.search="",this.query={}),this}var w=i.exec(v);if(w){var _=(w=w[0]).toLowerCase();this.protocol=_,v=v.substr(w.length)}if(n||w||v.match(/^\/\/[^@\/]+@[^@\/]+/)){var j="//"===v.substr(0,2);!j||w&&g[w]||(v=v.substr(2),this.slashes=!0)}if(!g[w]&&(j||w&&!b[w])){for(var E,C,x=-1,I=0;I<d.length;I++){-1!==(S=v.indexOf(d[I]))&&(-1===x||S<x)&&(x=S)}-1!==(C=-1===x?v.lastIndexOf("@"):v.lastIndexOf("@",x))&&(E=v.slice(0,C),v=v.slice(C+1),this.auth=decodeURIComponent(E)),x=-1;for(I=0;I<f.length;I++){var S;-1!==(S=v.indexOf(f[I]))&&(-1===x||S<x)&&(x=S)}-1===x&&(x=v.length),this.host=v.slice(0,x),v=v.slice(x),this.parseHost(),this.hostname=this.hostname||"";var k="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!k)for(var A=this.hostname.split(/\./),T=(I=0,A.length);I<T;I++){var P=A[I];if(P&&!P.match(p)){for(var N="",M=0,R=P.length;M<R;M++)P.charCodeAt(M)>127?N+="x":N+=P[M];if(!N.match(p)){var L=A.slice(0,I),D=A.slice(I+1),F=P.match(m);F&&(L.push(F[1]),D.unshift(F[2])),D.length&&(v="/"+D.join(".")+v),this.hostname=L.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),k||(this.hostname=r.toASCII(this.hostname));var z=this.port?":"+this.port:"",B=this.hostname||"";this.host=B+z,this.href+=this.host,k&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==v[0]&&(v="/"+v))}if(!h[_])for(I=0,T=s.length;I<T;I++){var V=s[I];if(-1!==v.indexOf(V)){var H=encodeURIComponent(V);H===V&&(H=escape(V)),v=v.split(V).join(H)}}var q=v.indexOf("#");-1!==q&&(this.hash=v.substr(q),v=v.slice(0,q));var W=v.indexOf("?");if(-1!==W?(this.search=v.substr(W),this.query=v.substr(W+1),t&&(this.query=y.parse(this.query)),v=v.slice(0,W)):t&&(this.search="",this.query={}),v&&(this.pathname=v),b[_]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){z=this.pathname||"";var U=this.search||"";this.path=z+U}return this.href=this.format(),this},a.prototype.format=function(){var e=this.auth||"";e&&(e=(e=encodeURIComponent(e)).replace(/%3A/i,":"),e+="@");var t=this.protocol||"",n=this.pathname||"",r=this.hash||"",a=!1,i="";this.host?a=e+this.host:this.hostname&&(a=e+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(a+=":"+this.port)),this.query&&o.isObject(this.query)&&Object.keys(this.query).length&&(i=y.stringify(this.query));var c=this.search||i&&"?"+i||"";return t&&":"!==t.substr(-1)&&(t+=":"),this.slashes||(!t||b[t])&&!1!==a?(a="//"+(a||""),n&&"/"!==n.charAt(0)&&(n="/"+n)):a||(a=""),r&&"#"!==r.charAt(0)&&(r="#"+r),c&&"?"!==c.charAt(0)&&(c="?"+c),t+a+(n=n.replace(/[?#]/g,(function(e){return encodeURIComponent(e)})))+(c=c.replace("#","%23"))+r},a.prototype.resolve=function(e){return this.resolveObject(v(e,!1,!0)).format()},a.prototype.resolveObject=function(e){if(o.isString(e)){var t=new a;t.parse(e,!1,!0),e=t}for(var n=new a,r=Object.keys(this),i=0;i<r.length;i++){var c=r[i];n[c]=this[c]}if(n.hash=e.hash,""===e.href)return n.href=n.format(),n;if(e.slashes&&!e.protocol){for(var l=Object.keys(e),u=0;u<l.length;u++){var s=l[u];"protocol"!==s&&(n[s]=e[s])}return b[n.protocol]&&n.hostname&&!n.pathname&&(n.path=n.pathname="/"),n.href=n.format(),n}if(e.protocol&&e.protocol!==n.protocol){if(!b[e.protocol]){for(var f=Object.keys(e),d=0;d<f.length;d++){var p=f[d];n[p]=e[p]}return n.href=n.format(),n}if(n.protocol=e.protocol,e.host||g[e.protocol])n.pathname=e.pathname;else{for(var m=(e.pathname||"").split("/");m.length&&!(e.host=m.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),""!==m[0]&&m.unshift(""),m.length<2&&m.unshift(""),n.pathname=m.join("/")}if(n.search=e.search,n.query=e.query,n.host=e.host||"",n.auth=e.auth,n.hostname=e.hostname||e.host,n.port=e.port,n.pathname||n.search){var h=n.pathname||"",y=n.search||"";n.path=h+y}return n.slashes=n.slashes||e.slashes,n.href=n.format(),n}var v=n.pathname&&"/"===n.pathname.charAt(0),O=e.host||e.pathname&&"/"===e.pathname.charAt(0),w=O||v||n.host&&e.pathname,_=w,j=n.pathname&&n.pathname.split("/")||[],E=(m=e.pathname&&e.pathname.split("/")||[],n.protocol&&!b[n.protocol]);if(E&&(n.hostname="",n.port=null,n.host&&(""===j[0]?j[0]=n.host:j.unshift(n.host)),n.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(""===m[0]?m[0]=e.host:m.unshift(e.host)),e.host=null),w=w&&(""===m[0]||""===j[0])),O)n.host=e.host||""===e.host?e.host:n.host,n.hostname=e.hostname||""===e.hostname?e.hostname:n.hostname,n.search=e.search,n.query=e.query,j=m;else if(m.length)j||(j=[]),j.pop(),j=j.concat(m),n.search=e.search,n.query=e.query;else if(!o.isNullOrUndefined(e.search)){if(E)n.hostname=n.host=j.shift(),(k=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=k.shift(),n.host=n.hostname=k.shift());return n.search=e.search,n.query=e.query,o.isNull(n.pathname)&&o.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.href=n.format(),n}if(!j.length)return n.pathname=null,n.search?n.path="/"+n.search:n.path=null,n.href=n.format(),n;for(var C=j.slice(-1)[0],x=(n.host||e.host||j.length>1)&&("."===C||".."===C)||""===C,I=0,S=j.length;S>=0;S--)"."===(C=j[S])?j.splice(S,1):".."===C?(j.splice(S,1),I++):I&&(j.splice(S,1),I--);if(!w&&!_)for(;I--;I)j.unshift("..");!w||""===j[0]||j[0]&&"/"===j[0].charAt(0)||j.unshift(""),x&&"/"!==j.join("/").substr(-1)&&j.push("");var k,A=""===j[0]||j[0]&&"/"===j[0].charAt(0);E&&(n.hostname=n.host=A?"":j.length?j.shift():"",(k=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=k.shift(),n.host=n.hostname=k.shift()));return(w=w||n.host&&j.length)&&!A&&j.unshift(""),j.length?n.pathname=j.join("/"):(n.pathname=null,n.path=null),o.isNull(n.pathname)&&o.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.auth=e.auth||n.auth,n.slashes=n.slashes||e.slashes,n.href=n.format(),n},a.prototype.parseHost=function(){var e=this.host,t=c.exec(e);t&&(":"!==(t=t[0])&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)}},function(e,t,n){(function(e,r){var o;!function(a){t&&t.nodeType,e&&e.nodeType;var i="object"==typeof r&&r;i.global!==i&&i.window!==i&&i.self;var c,l=2147483647,u=36,s=/^xn--/,f=/[^\x20-\x7E]/,d=/[\x2E\u3002\uFF0E\uFF61]/g,p={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},m=Math.floor,h=String.fromCharCode;function g(e){throw new RangeError(p[e])}function b(e,t){for(var n=e.length,r=[];n--;)r[n]=t(e[n]);return r}function y(e,t){var n=e.split("@"),r="";return n.length>1&&(r=n[0]+"@",e=n[1]),r+b((e=e.replace(d,".")).split("."),t).join(".")}function v(e){for(var t,n,r=[],o=0,a=e.length;o<a;)(t=e.charCodeAt(o++))>=55296&&t<=56319&&o<a?56320==(64512&(n=e.charCodeAt(o++)))?r.push(((1023&t)<<10)+(1023&n)+65536):(r.push(t),o--):r.push(t);return r}function O(e){return b(e,(function(e){var t="";return e>65535&&(t+=h((e-=65536)>>>10&1023|55296),e=56320|1023&e),t+=h(e)})).join("")}function w(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function _(e,t,n){var r=0;for(e=n?m(e/700):e>>1,e+=m(e/t);e>455;r+=u)e=m(e/35);return m(r+36*e/(e+38))}function j(e){var t,n,r,o,a,i,c,s,f,d,p,h=[],b=e.length,y=0,v=128,w=72;for((n=e.lastIndexOf("-"))<0&&(n=0),r=0;r<n;++r)e.charCodeAt(r)>=128&&g("not-basic"),h.push(e.charCodeAt(r));for(o=n>0?n+1:0;o<b;){for(a=y,i=1,c=u;o>=b&&g("invalid-input"),((s=(p=e.charCodeAt(o++))-48<10?p-22:p-65<26?p-65:p-97<26?p-97:u)>=u||s>m((l-y)/i))&&g("overflow"),y+=s*i,!(s<(f=c<=w?1:c>=w+26?26:c-w));c+=u)i>m(l/(d=u-f))&&g("overflow"),i*=d;w=_(y-a,t=h.length+1,0==a),m(y/t)>l-v&&g("overflow"),v+=m(y/t),y%=t,h.splice(y++,0,v)}return O(h)}function E(e){var t,n,r,o,a,i,c,s,f,d,p,b,y,O,j,E=[];for(b=(e=v(e)).length,t=128,n=0,a=72,i=0;i<b;++i)(p=e[i])<128&&E.push(h(p));for(r=o=E.length,o&&E.push("-");r<b;){for(c=l,i=0;i<b;++i)(p=e[i])>=t&&p<c&&(c=p);for(c-t>m((l-n)/(y=r+1))&&g("overflow"),n+=(c-t)*y,t=c,i=0;i<b;++i)if((p=e[i])<t&&++n>l&&g("overflow"),p==t){for(s=n,f=u;!(s<(d=f<=a?1:f>=a+26?26:f-a));f+=u)j=s-d,O=u-d,E.push(h(w(d+j%O,0))),s=m(j/O);E.push(h(w(s,0))),a=_(n,y,r==o),n=0,++r}++n,++t}return E.join("")}c={version:"1.4.1",ucs2:{decode:v,encode:O},decode:j,encode:E,toASCII:function(e){return y(e,(function(e){return f.test(e)?"xn--"+E(e):e}))},toUnicode:function(e){return y(e,(function(e){return s.test(e)?j(e.slice(4).toLowerCase()):e}))}},void 0===(o=function(){return c}.call(t,n,t,e))||(e.exports=o)}()}).call(this,n(295)(e),n(124))},function(e,t,n){"use strict";e.exports={isString:function(e){return"string"==typeof e},isObject:function(e){return"object"==typeof e&&null!==e},isNull:function(e){return null===e},isNullOrUndefined:function(e){return null==e}}},function(e,t,n){"use strict";t.decode=t.parse=n(363),t.encode=t.stringify=n(364)},function(e,t,n){"use strict";function r(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=function(e,t,n,a){t=t||"&",n=n||"=";var i={};if("string"!=typeof e||0===e.length)return i;var c=/\+/g;e=e.split(t);var l=1e3;a&&"number"==typeof a.maxKeys&&(l=a.maxKeys);var u=e.length;l>0&&u>l&&(u=l);for(var s=0;s<u;++s){var f,d,p,m,h=e[s].replace(c,"%20"),g=h.indexOf(n);g>=0?(f=h.substr(0,g),d=h.substr(g+1)):(f=h,d=""),p=decodeURIComponent(f),m=decodeURIComponent(d),r(i,p)?o(i[p])?i[p].push(m):i[p]=[i[p],m]:i[p]=m}return i};var o=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},function(e,t,n){"use strict";var r=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(e,t,n,c){return t=t||"&",n=n||"=",null===e&&(e=void 0),"object"==typeof e?a(i(e),(function(i){var c=encodeURIComponent(r(i))+n;return o(e[i])?a(e[i],(function(e){return c+encodeURIComponent(r(e))})).join(t):c+encodeURIComponent(r(e[i]))})).join(t):c?encodeURIComponent(r(c))+n+encodeURIComponent(r(e)):""};var o=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};function a(e,t){if(e.map)return e.map(t);for(var n=[],r=0;r<e.length;r++)n.push(t(e[r],r));return n}var i=Object.keys||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(n);return t}},function(e,t){e.exports=function(e,t){for(var n,r=-1,o=e.length;++r<o;){var a=t(e[r]);void 0!==a&&(n=void 0===n?a:n+a)}return n}},function(e,t,n){var r=n(492),o=n(493),a=n(494),i=n(495);e.exports=function(e){return r(e)||o(e)||a(e)||i()},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,n){var r=n(499);e.exports=function(e,t){if(null==e)return{};var n,o,a=r(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)n=i[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){e.exports=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,n){var r=n(304)(n(485));e.exports=r},function(e,t,n){var r=n(304)(n(506));e.exports=r},function(e,t,n){var r=n(163);e.exports=function(e){return e&&e.length?r(e):[]}},,,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"m",(function(){return f})),n.d(t,"d",(function(){return d})),n.d(t,"j",(function(){return p})),n.d(t,"n",(function(){return m})),n.d(t,"e",(function(){return h})),n.d(t,"b",(function(){return g})),n.d(t,"f",(function(){return b})),n.d(t,"i",(function(){return y})),n.d(t,"l",(function(){return v})),n.d(t,"k",(function(){return O})),n.d(t,"g",(function(){return w})),n.d(t,"c",(function(){return _})),n.d(t,"h",(function(){return j}));var r=n(5),o=n.n(r),a=n(14),i=n(4),c=n(11);function l(e,t,n,r,o,a,i){try{var c=e[a](i),l=c.value}catch(e){return void n(e)}c.done?t(l):Promise.resolve(l).then(r,o)}function u(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){l(a,r,o,i,c,"next",e)}function c(e){l(a,r,o,i,c,"throw",e)}i(void 0)}))}}var s=function(e){return Object(a.e)("/songs/".concat(e,"/count_view"))},f=function(){var e=u(o.a.mark((function e(t,n){var r,i,l,u,s,f,d;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.html,i=n.updatedByHumanAt,l=n.lyricsUpdatedAt,u=n.lyricsEditId,s={react:!0,lyrics:{body:{html:r}},client_timestamps:{updated_by_human_at:i,lyrics_updated_at:l}},u&&(s.lyrics_edit_id=u),e.next=5,Object(a.f)("/songs/".concat(t,"/lyrics"),s);case 5:return f=e.sent,d=f.react_lyrics_update,e.abrupt("return",Object(c.p)(d,c.n));case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),d=function(){var e=u(o.a.mark((function e(t){var n,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(a.d)("/songs/".concat(t,"/lyrics"),{react:!0});case 2:return n=e.sent,r=n.react_lyrics,e.abrupt("return",Object(c.p)(r,c.n));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),p=function(){var e=u(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(a.d)("/songs/".concat(t));case 2:return n=e.sent,e.abrupt("return",Object(c.p)(n,{song:c.v}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),m=function(){var e=u(o.a.mark((function e(t,n){var r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(a.f)("/songs/".concat(t),n);case 2:return r=e.sent,e.abrupt("return",Object(c.p)(r,{song:c.v}));case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),h=function(){var e=u(o.a.mark((function e(t){var n,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(a.d)("/songs/".concat(t,"/lyrics_for_edit_proposal"));case 2:return n=e.sent,r=n.lyrics_for_edit_proposal,e.abrupt("return",Object(i.e)(r));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),g=function(){var e=u(o.a.mark((function e(t,n){var r,c,l,u;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.editedLyrics,c=n.version,e.next=3,Object(a.e)("/songs/".concat(t,"/lyrics_edits"),{lyrics_edit:{edited_lyrics:r,before_version_number:c,edit_format:"plain_text"}});case 3:return l=e.sent,u=l.lyrics_edit,e.abrupt("return",Object(i.e)(u));case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),b=function(){var e=u(o.a.mark((function e(t){var n,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(a.d)("/songs/".concat(t,"/lyrics_edits"),{song_id:t});case 2:return n=e.sent,r=n.lyrics_edits,e.abrupt("return",Object(c.p)(r,c.q));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),y=function(){var e=u(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(a.d)("/search/song",{q:t});case 2:return n=e.sent,e.abrupt("return",n.sections[0].hits);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),v=function(e){return Object(a.e)("/lyrics_edits/".concat(e,"/reject"))},O=function(){var e=u(o.a.mark((function e(t,n){var r,i,l,u=arguments;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>2&&void 0!==u[2]?u[2]:{},e.next=3,Object(a.f)("/songs/".concat(t,"/").concat(n),r);case 3:return i=e.sent,l=i.song,e.abrupt("return",Object(c.p)(l,c.v));case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),w=function(){var e=u(o.a.mark((function e(t){var n,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(a.d)("/songs/".concat(t,"/preview_lyrics_for_export"));case 2:return n=e.sent,r=n.preview_lyrics_for_export,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),_=function(){var e=u(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(a.b)("/songs/".concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),j=function(){var e=u(o.a.mark((function e(t){var n,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(a.d)("/songs/".concat(t,"/recommendations"));case 2:return n=e.sent,r=n.song_recommendations,e.abrupt("return",Object(c.p)(r,c.u));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},function(e,t,n){"use strict";n.d(t,"ib",(function(){return c})),n.d(t,"Y",(function(){return l})),n.d(t,"Q",(function(){return u})),n.d(t,"y",(function(){return s})),n.d(t,"fb",(function(){return f})),n.d(t,"B",(function(){return d})),n.d(t,"kb",(function(){return p})),n.d(t,"jb",(function(){return m})),n.d(t,"e",(function(){return h})),n.d(t,"J",(function(){return g})),n.d(t,"z",(function(){return b})),n.d(t,"gb",(function(){return y})),n.d(t,"t",(function(){return v})),n.d(t,"ab",(function(){return O})),n.d(t,"A",(function(){return w})),n.d(t,"hb",(function(){return _})),n.d(t,"x",(function(){return j})),n.d(t,"eb",(function(){return E})),n.d(t,"h",(function(){return C})),n.d(t,"M",(function(){return x})),n.d(t,"g",(function(){return I})),n.d(t,"L",(function(){return S})),n.d(t,"q",(function(){return k})),n.d(t,"W",(function(){return A})),n.d(t,"j",(function(){return T})),n.d(t,"O",(function(){return P})),n.d(t,"r",(function(){return N})),n.d(t,"X",(function(){return M})),n.d(t,"k",(function(){return R})),n.d(t,"P",(function(){return L})),n.d(t,"f",(function(){return D})),n.d(t,"K",(function(){return F})),n.d(t,"i",(function(){return z})),n.d(t,"N",(function(){return B})),n.d(t,"b",(function(){return V})),n.d(t,"F",(function(){return H})),n.d(t,"C",(function(){return q})),n.d(t,"lb",(function(){return W})),n.d(t,"d",(function(){return U})),n.d(t,"H",(function(){return $})),n.d(t,"E",(function(){return Q})),n.d(t,"nb",(function(){return G})),n.d(t,"s",(function(){return Y})),n.d(t,"Z",(function(){return K})),n.d(t,"l",(function(){return Z})),n.d(t,"S",(function(){return X})),n.d(t,"m",(function(){return J})),n.d(t,"V",(function(){return ee})),n.d(t,"n",(function(){return te})),n.d(t,"T",(function(){return ne})),n.d(t,"o",(function(){return re})),n.d(t,"U",(function(){return oe})),n.d(t,"c",(function(){return ae})),n.d(t,"G",(function(){return ie})),n.d(t,"a",(function(){return ce})),n.d(t,"I",(function(){return le})),n.d(t,"D",(function(){return ue})),n.d(t,"mb",(function(){return se})),n.d(t,"p",(function(){return fe})),n.d(t,"R",(function(){return de})),n.d(t,"u",(function(){return pe})),n.d(t,"db",(function(){return me})),n.d(t,"w",(function(){return he})),n.d(t,"cb",(function(){return ge})),n.d(t,"v",(function(){return be})),n.d(t,"bb",(function(){return ye}));var r=n(25);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var c=Object(r.b)("referents"),l=Object(r.b)("annotations"),u=Object(r.b)("annotation_edits"),s="songPage/FRAGMENT_CLICKED",f=function(e){var t=e.fragment,n=e.baseAnnotation;return{type:s,fragment:t,baseAnnotation:n}},d="songPage/REFERENT_FETCHED",p=function(e){var t=e.result,n=e.entities;return{type:d,result:t,entities:n}},m=function(e){return{type:"songPage/REFERENT_FETCH_FAILED",referent:e}},h="songPage/ANNOTATION_CLOSED",g=function(e){var t=e.id,n=e.closeMethod;return{type:h,id:t,closeMethod:n}},b="songPage/HOVERED_OVER_REFERENT",y=function(e){return{type:b,baseAnnotationId:e}},v="songPage/ANNOTATION_OPENED_FROM_PERMALINK",O=function(e){var t=e.fragment,n=e.baseAnnotation;return{type:v,fragment:t,baseAnnotation:n}},w="songPage/NAVIGATED_TO_FRAGMENT",_=function(e){var t=e.fragment,n=e.baseAnnotation;return{type:w,fragment:t,baseAnnotation:n}},j="songPage/CREATE_ANNOTATION_CLICKED",E=function(e,t){return{type:j,payload:e,meta:a({},t)}},C="songPage/ANNOTATION_CREATE_SUCCEEDED",x=function(e){var t=e.annotationId,n=e.referentId;return{type:C,payload:{annotationId:t,referentId:n}}},I="songPage/ANNOTATION_CREATE_FAILED",S=function(){return{type:I}},k="songPage/ANNOTATION_EDIT_SUBMITTED",A=function(e,t){return{type:k,payload:e,meta:a({},t)}},T="songPage/ANNOTATION_EDIT_CANCELED",P=function(e){var t=e.annotationId,n=e.beingCreated;return{type:T,payload:{annotationId:t,beingCreated:n}}},N="songPage/ANNOTATION_EDIT_SUCCEEDED",M=function(e){return{type:N,payload:e}},R="songPage/ANNOTATION_EDIT_CLICKED",L=function(e){return{type:R,payload:e}},D="songPage/ANNOTATION_COMMENT_INTEGRATED",F=function(e,t){var n=t.integration;return{type:D,payload:{annotationId:e,integration:n}}},z="songPage/ANNOTATION_DELETE_CLICKED",B=function(e){return{type:z,payload:{annotationId:e}}},V="songPage/ACCEPT_ANNOTATION",H=function(e,t){var n=t.onSuccess,r=t.onError;return{type:V,annotationId:e,onSuccess:n,onError:r}},q="songPage/REJECT_ANNOTATION",W=function(e,t){var n=t.body,r=t.reason,o=t.onSuccess,a=t.onError;return{type:q,annotationId:e,body:n,reason:r,onSuccess:o,onError:a}},U="songPage/ACCEPT_ANNOTATION_SUCCEEDED",$=function(e,t){var n=t.result,r=t.entities;return{type:U,annotationId:e,result:n,entities:r}},Q="songPage/REJECT_ANNOTATION_SUCCEEDED",G=function(e,t){var n=t.result,r=t.entities;return{type:Q,annotationId:e,result:n,entities:r}},Y="songPage/ANNOTATION_INTEGRATION_CLEARED",K=function(e){return{type:Y,payload:e}},Z="songPage/ANNOTATION_EDIT_PROPOPSAL_TOGGLED",X=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.visible;return{type:Z,payload:{annotationId:e,visible:n}}},J="songPage/ANNOTATION_EDIT_PROPOSALS_REQUESTED",ee=function(e){return{type:J,payload:e}},te="songPage/ANNOTATION_EDIT_PROPOSALS_REQUESTED_FAILED",ne=function(e,t){var n=t.message;return{type:te,payload:{annotationId:e,message:n}}},re="songPage/ANNOTATION_EDIT_PROPOSALS_REQUESTED_FETCHED",oe=function(e,t){var n=t.result,r=t.entities;return{type:re,payload:{annotationId:e,result:n,entities:r}}},ae="songPage/ACCEPT_ANNOTATION_EDIT_PROPOSAL",ie=function(e,t){var n=t.annotationId,r=t.onSuccess,o=t.onError;return{type:ae,payload:{editId:e,onSuccess:r,onError:o,annotationId:n}}},ce="songPage/ACCEPTED_ANNOTATION_EDIT_PROPOSAL",le=function(e,t){var n=t.annotationId;return{type:ce,payload:{editId:e,annotationId:n}}},ue="songPage/REJECT_ANNOTATION_EDIT_PROPOSAL",se=function(e,t){var n=t.annotationId,r=t.onSuccess,o=t.onError;return{type:ue,payload:{editId:e,onSuccess:r,onError:o,annotationId:n}}},fe="songPage/ANNOTATION_EDIT_PROPOSAL_STATE_SET",de=function(e,t){var n=t.result,r=t.entities,o=t.annotationId;return{type:fe,payload:{editId:e,result:n,entities:r,annotationId:o}}},pe="songPage/ANNOTATION_REVERTED",me=function(e,t){return{type:pe,payload:e,meta:t}},he="songPage/ANNOTATION_REVERT_SUCCEEDED",ge=function(){return{type:he}},be="songPage/ANNOTATION_REVERT_FAILED",ye=function(){return{type:be}}},function(e,t,n){"use strict";var r=n(0),o=n.n(r),a=(n(3),n(2)),i=n(380),c=n(84),l=n(122),u=n(140),s=n(1),f=n(49),d=n(256),p=n(22),m=function e(t){var n=t.artistId,f=Object(a.c)(),m=Object(c.a)("artists",n)||{},h=m.name,g=m.descriptionPreview,b=m.imageUrl,y=m.isVerified;return Object(r.useEffect)((function(){f(Object(i.c)(n))}),[g,h,f,n]),o.a.createElement(s.c,{theme:y?p.a:p.f},o.a.createElement(d.a,null,o.a.createElement(e.Container,null,o.a.createElement(l.a,{isLoading:void 0===h},o.a.createElement(e.Row,null,o.a.createElement(e.Picture,null,b&&o.a.createElement(u.a,{src:b,width:44,height:44})),o.a.createElement(e.Name,null,y&&o.a.createElement(e.Verified,null,"Verified artist"),o.a.createElement(e.ArtistTooltipName,null,h)))),o.a.createElement(l.a,{isLoading:void 0===g,height:"2.85rem"},g&&o.a.createElement(e.Row,null,o.a.createElement(e.BioContent,null,o.a.createElement(e.Bio,null,g)))))))};m.Container=s.f.div.withConfig({displayName:"ArtistTooltip__Container",componentId:"d4ywc7-0"})(["display:flex;flex-direction:column;width:16.5rem;row-gap:",";font-family:",";font-weight:",";"],(function(e){return e.theme.space.small}),(function(e){return e.theme.font.accent}),(function(e){return e.theme.fontWeight.light})),m.Row=s.f.div.withConfig({displayName:"ArtistTooltip__Row",componentId:"d4ywc7-1"})(["display:flex;flex-direction:row;column-gap:",";"],(function(e){return e.theme.space.xSmall})),m.Picture=s.f.div.withConfig({displayName:"ArtistTooltip__Picture",componentId:"d4ywc7-2"})(["& > div{border-radius:100%;}"]),m.Name=s.f.div.withConfig({displayName:"ArtistTooltip__Name",componentId:"d4ywc7-3"})(["display:flex;flex-direction:column;justify-content:center;width:13.6rem;row-gap:",";"],(function(e){return e.theme.space.hair})),m.Verified=s.f.div.withConfig({displayName:"ArtistTooltip__Verified",componentId:"d4ywc7-4"})(["text-transform:uppercase;font-size:",";letter-spacing:0.0625em;"],(function(e){return e.theme.fontSize.xxSmallReading})),m.ArtistTooltipName=s.f.div.withConfig({displayName:"ArtistTooltip__ArtistTooltipName",componentId:"d4ywc7-5"})(["font-size:",";line-height:",";letter-spacing:0.00625em;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;"],(function(e){return e.theme.fontSize.reading}),(function(e){return e.theme.lineHeight.medium})),m.BioContent=s.f.div.withConfig({displayName:"ArtistTooltip__BioContent",componentId:"d4ywc7-6"})(["font-size:",";line-height:",";letter-spacing:0.025em;width:100%;"],(function(e){return e.theme.fontSize.smallReading}),(function(e){return e.theme.lineHeight.medium})),m.Bio=s.f.span.withConfig({displayName:"ArtistTooltip__Bio",componentId:"d4ywc7-7"})(["",""],Object(f.j)(3)),t.a=m},function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return a})),n.d(t,"c",(function(){return i}));var r=n(25),o=Object(r.b)("artists"),a="songPage/ARTIST_TOOLTIP_DISPLAYED",i=function(e){return{type:a,artistId:e}}},function(e,t,n){"use strict";var r=n(0),o=n.n(r),a=(n(3),n(1)),i=n(228),c=n(155);function l(){return l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l.apply(this,arguments)}var u=function e(t){var n=Object(i.a)(),r=Object(c.a)({desktop:415,mobile:630}),a=Object(c.a)({desktop:3.88,mobile:320/480});return o.a.createElement(e.Container,l({isMobile:n,fullWidthInreadMaxHeight:r,fullWidthInreadAspectRatio:a,"data-exclude-from-selection":!0},t))};u.defaultProps={collapsed:!1,fullWidth:!1,hidden:!1,isEmpty:!1,wideAd:!1},t.a=o.a.memo(u),u.Container=a.f.div.withConfig({displayName:"InreadContainer__Container",componentId:"sc-19040w5-0"})(["display:",";justify-content:center;"," "," "," .desktop_song_inread_prebid_container,.desktop_song_inread2_prebid_container,.desktop_song_inread3_prebid_container{margin:auto !important;}"],(function(e){return e.hidden?"none":"flex"}),(function(e){return e.isMobile?Object(a.e)(["grid-column:lyric-start / lyric-end;padding:"," 0;width:100%;"],e.theme.space.large):Object(a.e)(["padding:"," 0;grid-column:",";transform-origin:top;transition-property:transform,max-height,padding,opacity;transition-duration:","ms;transition-timing-function:ease;transform:",";max-height:",";opacity:",";pointer-events:",";"],e.collapsed?0:e.theme.space.xLarge,e.wideAd?"grid-start / grid-end":"left-start / left-end",100,e.collapsed?"scaleY(0)":"none",e.collapsed?"0px":"100vh",e.collapsed?0:1,e.collapsed?"none":"auto")}),(function(e){return e.fullWidth&&Object(a.e)(["grid-column:page-start / page-end;.celtra-ad-inline-host{max-width:","px !important;margin:0 auto !important;}"],e.fullWidthInreadMaxHeight*e.fullWidthInreadAspectRatio)}),(function(e){return e.isEmpty&&Object(a.e)(["padding:0;height:",";"],e.theme.space.full)}))},function(e,t,n){"use strict";var r=n(0),o=n.n(r),a=(n(3),n(36)),i=n.n(a),c=n(1),l=n(140),u=n(255),s=n(383),f=n(257),d=n(84),p=function e(t){var n=t.id,r=t.avatarSize,a=t.usernameFontSize,c=t.anonymousUser,p=t.showIQ,m=Object(d.a)("users",n)||c,h=i()(m.roleForDisplay);return o.a.createElement(u.a,{content:o.a.createElement(s.a,{userId:n})},o.a.createElement(e.Container,{as:m.url?"a":"div",href:m.url},o.a.createElement(e.Avatar,null,o.a.createElement(l.a,{src:m.avatar.medium.url,width:r,height:r})),o.a.createElement(e.NameAndRole,null,o.a.createElement(e.Name,{size:a},m.name),h&&o.a.createElement(f.a,{role:h}),p&&o.a.createElement(e.IQ,null,m.iq&&m.iq.toLocaleString()))))};p.defaultProps={usernameFontSize:"smallReading",showIQ:!0},t.a=o.a.memo(p),p.Container=c.f.div.withConfig({displayName:"InlineUserBadge__Container",componentId:"qitux3-0"})(["display:flex;flex-direction:row;align-items:center;font-weight:100;color:inherit;"]),p.Avatar=c.f.div.withConfig({displayName:"InlineUserBadge__Avatar",componentId:"qitux3-1"})(["flex-shrink:0;overflow:hidden;border-radius:100%;"]),p.NameAndRole=c.f.div.withConfig({displayName:"InlineUserBadge__NameAndRole",componentId:"qitux3-2"})(["margin-left:",";display:flex;align-items:center;"],(function(e){return e.theme.space.half})),p.Name=c.f.span.withConfig({displayName:"InlineUserBadge__Name",componentId:"qitux3-3"})(["font-size:",";line-height:",";margin-right:",";"],(function(e){return e.theme.fontSize[e.size]}),(function(e){return e.theme.fontSize[e.size]}),(function(e){return e.theme.space.half})),p.IQ=c.f.span.withConfig({displayName:"InlineUserBadge__IQ",componentId:"qitux3-4"})(["margin-left:",";font-size:",";padding-top:2px;"],(function(e){return e.theme.space.xSmall}),(function(e){return e.theme.fontSize.xSmallReading}))},function(e,t,n){"use strict";var r=n(0),o=n.n(r),a=(n(3),n(2)),i=n(189),c=n(84),l=n(122),u=n(225),s=n(1),f=n(256),d=n(384),p=n(4),m=n(49),h=n(22);function g(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,a=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){c=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(c)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return b(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return b(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var y=function e(t){var n=t.userId,m=g(Object(r.useState)(!1),2),b=m[0],y=m[1],v=Object(a.c)(),O=Object(c.a)("users",n)||{},w=O.aboutMeSummary,_=O.name,j=O.currentUserMetadata.interactions.following;Object(r.useEffect)((function(){v(Object(i.f)(n))}),[w,_,v,n]);var E=function(){return y(!1)},C=Object(r.useCallback)((function(){y(!0),v(j?Object(i.g)(n,E):Object(i.e)(n,E))}),[v,j,n]);return o.a.createElement(s.c,{theme:h.f},o.a.createElement(f.a,null,o.a.createElement(e.Container,null,o.a.createElement(l.a,{isLoading:void 0===_},o.a.createElement(e.Row,null,o.a.createElement(d.a,{id:n,usernameFontSize:"reading",userRoleFontSize:"smallReading",avatarSize:44,showIq:!0}))),o.a.createElement(l.a,{isLoading:void 0===w,height:"2.85rem"},w&&o.a.createElement(e.Row,null,o.a.createElement(e.BioContent,null,o.a.createElement(e.Bio,null,w)))),Object(p.f)("follow",O)&&o.a.createElement(e.Row,null,o.a.createElement(u.a,{onClick:C,showLoadingSpinner:b},j?"Unfollow":"Follow")))))};y.Container=s.f.div.withConfig({displayName:"UserTooltip__Container",componentId:"sc-1gjugxe-0"})(["display:flex;flex-direction:column;width:16.5rem;row-gap:",";font-family:",";font-weight:",";"],(function(e){return e.theme.space.small}),(function(e){return e.theme.font.accent}),(function(e){return e.theme.fontWeight.light})),y.Row=s.f.div.withConfig({displayName:"UserTooltip__Row",componentId:"sc-1gjugxe-1"})(["display:flex;flex-direction:row;column-gap:",";"],(function(e){return e.theme.space.xSmall})),y.BioContent=s.f.div.withConfig({displayName:"UserTooltip__BioContent",componentId:"sc-1gjugxe-2"})(["font-size:",";line-height:",";letter-spacing:0.025em;width:100%;"],(function(e){return e.theme.fontSize.smallReading}),(function(e){return e.theme.lineHeight.medium})),y.Bio=s.f.span.withConfig({displayName:"UserTooltip__Bio",componentId:"sc-1gjugxe-3"})(["",""],Object(m.j)(3)),t.a=y},function(e,t,n){"use strict";var r=n(0),o=n.n(r),a=(n(3),n(1)),i=n(140),c=n(36),l=n.n(c),u=n(137),s=n.n(u),f=n(84),d=n(96),p=n(257),m=function e(t){var n=t.id,r=t.avatarSize,a=t.usernameFontSize,c=t.userRoleFontSize,u=t.anonymousUser,m=t.className,h=t.showIq,g=Object(d.a)().t,b=Object(f.a)("users",n)||u,y=l()(b.roleForDisplay),v=y?g("role.types.".concat(s()(y),".one")):"";return o.a.createElement(e.Container,{className:m,url:b.url},o.a.createElement(e.Avatar,null,o.a.createElement(i.a,{src:b.avatar.medium.url,width:r,height:r})),o.a.createElement(e.NameAndRole,null,o.a.createElement(e.Name,{size:a},b.name,h&&o.a.createElement(e.Iq,null,b.iq)),y&&o.a.createElement(e.Role,{role:y,size:c},o.a.createElement(e.RoleLabel,null,v),y&&o.a.createElement(p.a,{role:y}))))};m.defaultProps={usernameFontSize:"xSmallReading",userRoleFontSize:"xxSmallReading",showIq:!1},t.a=o.a.memo(m),m.Container=a.f.div.attrs((function(e){return{as:e.url?"a":"div",href:e.url?e.url:void 0}})).withConfig({displayName:"UserBadge__Container",componentId:"v0cw88-0"})(["display:flex;flex-direction:row;align-items:center;font-weight:100;color:inherit;"]),m.Avatar=a.f.div.withConfig({displayName:"UserBadge__Avatar",componentId:"v0cw88-1"})(["flex-shrink:0;overflow:hidden;border-radius:100%;"]),m.NameAndRole=a.f.div.withConfig({displayName:"UserBadge__NameAndRole",componentId:"v0cw88-2"})(["margin-left:",";line-height:1;text-align:left;"],(function(e){return e.theme.space.full})),m.Name=a.f.div.withConfig({displayName:"UserBadge__Name",componentId:"v0cw88-3"})(["font-size:",";display:flex;column-gap:",";"],(function(e){return e.theme.fontSize[e.size]}),(function(e){return e.theme.space.xSmall})),m.Iq=a.f.span.withConfig({displayName:"UserBadge__Iq",componentId:"v0cw88-4"})(["font-size:",";background-color:",";align-self:center;"],(function(e){return e.theme.fontSize.smallReading}),(function(e){return e.theme.color.primary.main})),m.Role=a.f.div.withConfig({displayName:"UserBadge__Role",componentId:"v0cw88-5"})(["margin-top:",";font-size:",";display:flex;align-items:center;"],(function(e){return e.theme.space.quarter}),(function(e){return e.theme.fontSize[e.size]})),m.RoleLabel=a.f.span.withConfig({displayName:"UserBadge__RoleLabel",componentId:"v0cw88-6"})(["margin-right:",";"],(function(e){return e.theme.space.quarter}))},function(e,t,n){"use strict";var r=n(0),o=n.n(r),a=(n(3),n(1)),i=n(7),c=n.n(i),l=n(386),u=n(4),s=function e(t){var n=t.action,r=t.color,a=t.points,i=Object(l.a)(n);return o.a.createElement(e.Container,{color:r},Object(u.n)(a||i)," IQ")};s.defaultProps={color:"success.main"},t.a=o.a.memo(s),s.Container=a.f.span.withConfig({displayName:"IqPoints__Container",componentId:"sc-1u8r3vd-0"})(["margin-left:",";color:",";"],(function(e){return e.theme.space.quarter}),(function(e){return c()(e.theme.color,e.color)}))},function(e,t,n){"use strict";var r=n(2),o=n(7),a=n.n(o),i=n(36),c=n.n(i),l=n(244),u=n.n(l),s=n(138);t.a=function(e,t){var n=Object(r.d)((function(e){return a()(e.entities.users,[e.session.currentUser,"virtualIqEventTypeMap"],{})}),r.b);if(t){var o=Object.values(a()(t,["currentUserMetadata","iqByAction",e],{})).filter((function(e){return e.applicable})).map((function(e){return e.base*e.multiplier}));return u()(o)}if(s.a.hasOwnProperty(e))return s.a[e];if(n.hasOwnProperty(e)){var i=c()(n[e]);return s.a[i]}return 0}},function(e,t,n){var r=n(927),o=n(415);e.exports=function(e,t,n){return null==e?e:r(e,t,o(n))}},,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";var r=n(0),o=n.n(r),a=(n(3),n(1)),i=n(7),c=n.n(i),l=n(291),u=n(100),s=n(108),f=n(89),d=n(56),p={error:{Icon:u.a,color:"error.main"},success:{Icon:s.a,color:"success.main"},warning:{Icon:f.a,background:"primary.main",color:"background.on"}},m=function e(t){var n=t.status,r=t.message,a=t.className,i=t.onClose,c=p[n],l=c.Icon,u=c.color,s=c.background;return o.a.createElement(e.Container,{color:u,background:s,className:a},o.a.createElement(e.Icon,{color:u},o.a.createElement(l,null)),o.a.createElement(e.TextContainer,null,o.a.createElement(e.TextLabel,{size:"smallReading",fontWeight:"light",color:u,textTransform:"none"},r)),i&&o.a.createElement(e.Icon,{color:u,onClick:i},o.a.createElement(d.a,null)))};m.defaultProps={status:"error"},t.a=m,m.TextContainer=a.f.div.withConfig({displayName:"Alert__TextContainer",componentId:"sc-1yc9qvh-0"})(["flex-grow:1;margin:"," ",";"],(function(e){return e.theme.space.quarter}),(function(e){return e.theme.space.small})),m.TextLabel=Object(a.f)((function(e){return o.a.createElement(l.a,e)})).withConfig({displayName:"Alert__TextLabel",componentId:"sc-1yc9qvh-1"})(["line-height:",";"],(function(e){return e.theme.lineHeight.xShort})),m.Container=a.f.div.withConfig({displayName:"Alert__Container",componentId:"sc-1yc9qvh-2"})(["display:flex;align-items:center;padding:"," ",";font-size:",";color:",";background-color:",";border:1px solid ",";justify-content:space-between;"],(function(e){return e.theme.space.quarter}),(function(e){return e.theme.space.small}),(function(e){return e.theme.fontSize.smallReading}),(function(e){return c()(e.theme.color,e.color)}),(function(e){return c()(e.theme.color,e.background,"#fff")}),(function(e){return c()(e.theme.color,e.color)})),m.Icon=a.f.button.withConfig({displayName:"Alert__Icon",componentId:"sc-1yc9qvh-3"})(["svg{fill:",";display:block;width:9px;height:9px;}",""],(function(e){return c()(e.theme.color,e.color)}),(function(e){return e.onClick&&"cursor: pointer;"}))},function(e,t,n){"use strict";n(3);var r=n(0),o=n.n(r),a=n(2),i=n(96),c=n(9),l=n(259),u=n(190),s=n(123);t.a=function(e){var t=e.source,n=e.textButton,r=e.className,f=Object(i.a)().t,d=Object(a.c)(),p=Object(s.a)("".concat(t,":sign_up_clicked")),m=function(e){e.preventDefault(),p(),d(Object(c.L)())};return n?o.a.createElement(l.a,{onClick:m,className:r},f("sign_up")):o.a.createElement(u.a,{onClick:m,className:r},f("sign_up"))}},function(e,t,n){"use strict";var r=n(0),o=n.n(r),a=(n(3),n(1)),i=n(136),c=n.n(i),l=n(75),u=n.n(l),s=n(4),f=function e(t){var n,r=t.className,a=t.disabled,i=t.height,l=t.icon,f=t.label,d=t.labelSize,p=t.onClick,m=t.showZero,h=t.underline,g=t.vertical,b=t.gap;return o.a.createElement(e.Container,{as:Boolean(p)?"button":"span",className:r,clickable:Boolean(p),disabled:a,height:i,onClick:p,vertical:g,gap:b},l,!u()(f)&&o.a.createElement(e.Label,{clickable:Boolean(p),vertical:g,underline:h,labelSize:d},c()(f)?0!==(n=f)||m?Object(s.d)(n):null:f))};f.defaultProps={height:"1em",labelSize:"smallReading",showZero:!0,underline:!0,vertical:!1,gap:"quarter"},t.a=o.a.memo(f),f.Container=a.f.div.withConfig({displayName:"LabelWithIcon__Container",componentId:"hjli77-0"})(["display:flex;align-items:center;font-size:",";font-family:",";color:",";flex-direction:",";gap:",";svg{display:block;height:",";fill:",";}&:disabled{color:",";}"],(function(e){return e.theme.fontSize.smallReading}),(function(e){return e.theme.font.reading}),(function(e){return e.theme.color.background.on}),(function(e){return e.vertical?"column":"row"}),(function(e){return e.theme.space[e.gap]}),(function(e){return e.height}),(function(e){return e.disabled?e.theme.color.background.onVariant:e.theme.color.background.on}),(function(e){return e.theme.color.background.onVariant})),f.Label=a.f.span.withConfig({displayName:"LabelWithIcon__Label",componentId:"hjli77-1"})(["text-decoration:",";font-weight:",";font-size:",";color:inherit;&:hover{","}"],(function(e){return e.clickable||e.underline?"underline":"none"}),(function(e){return e.theme.fontWeight.light}),(function(e){return e.theme.fontSize[e.labelSize]}),(function(e){return e.underline&&"text-decoration: none;"}))},function(e,t){function n(){return e.exports=n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},e.exports.default=e.exports,e.exports.__esModule=!0,n.apply(this,arguments)}e.exports=n,e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,n){var r=n(202);e.exports=function(e,t){if(e!==t){var n=void 0!==e,o=null===e,a=e==e,i=r(e),c=void 0!==t,l=null===t,u=t==t,s=r(t);if(!l&&!s&&!i&&e>t||i&&c&&u&&!l&&!s||o&&c&&u||!n&&u||!a)return 1;if(!o&&!i&&!s&&e<t||s&&n&&a&&!o&&!i||l&&n&&a||!c&&a||!u)return-1}return 0}},function(e,t,n){var r=n(126);e.exports=function(e){return"function"==typeof e?e:r}},function(e,t,n){var r=n(60),o=n(41),a=n(220),i=n(504),c=n(87),l=n(505),u=n(126);e.exports=function(e,t,n){var s=-1;t=r(t.length?t:[u],c(o));var f=a(e,(function(e,n,o){return{criteria:r(t,(function(t){return t(e)})),index:++s,value:e}}));return i(f,(function(e,t){return l(e,t,n)}))}},function(e,t,n){var r=n(331),o=n(78);e.exports=function(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=r(e.prototype),a=e.apply(n,t);return o(a)?a:n}}},function(e,t){var n=Array.prototype.reverse;e.exports=function(e){return null==e?e:n.call(e)}},function(e,t,n){var r=n(192),o=n(416),a=n(80),i=n(148),c=a((function(e,t){if(null==e)return[];var n=t.length;return n>1&&i(e,t[0],t[1])?t=[]:n>2&&i(t[0],t[1],t[2])&&(t=[t[0]]),o(e,r(t,1),[])}));e.exports=c},,,,,,,,,,,,,,,function(e,t,n){var r,o,a;a=function(){var e=!0;function t(t){function n(e){var n=t.match(e);return n&&n.length>1&&n[1]||""}var r,o,a,i=n(/(ipod|iphone|ipad)/i).toLowerCase(),c=!/like android/i.test(t)&&/android/i.test(t),l=/CrOS/.test(t),u=n(/edge\/(\d+(\.\d+)?)/i),s=n(/version\/(\d+(\.\d+)?)/i),f=/tablet/i.test(t),d=!f&&/[^-]mobi/i.test(t);/opera|opr/i.test(t)?r={name:"Opera",opera:e,version:s||n(/(?:opera|opr)[\s\/](\d+(\.\d+)?)/i)}:/yabrowser/i.test(t)?r={name:"Yandex Browser",yandexbrowser:e,version:s||n(/(?:yabrowser)[\s\/](\d+(\.\d+)?)/i)}:/windows phone/i.test(t)?(r={name:"Windows Phone",windowsphone:e},u?(r.msedge=e,r.version=u):(r.msie=e,r.version=n(/iemobile\/(\d+(\.\d+)?)/i))):/msie|trident/i.test(t)?r={name:"Internet Explorer",msie:e,version:n(/(?:msie |rv:)(\d+(\.\d+)?)/i)}:l?r={name:"Chrome",chromeBook:e,chrome:e,version:n(/(?:chrome|crios|crmo)\/(\d+(\.\d+)?)/i)}:/chrome.+? edge/i.test(t)?r={name:"Microsoft Edge",msedge:e,version:u}:/chrome|crios|crmo/i.test(t)?r={name:"Chrome",chrome:e,version:n(/(?:chrome|crios|crmo)\/(\d+(\.\d+)?)/i)}:i?(r={name:"iphone"==i?"iPhone":"ipad"==i?"iPad":"iPod"},s&&(r.version=s)):/sailfish/i.test(t)?r={name:"Sailfish",sailfish:e,version:n(/sailfish\s?browser\/(\d+(\.\d+)?)/i)}:/seamonkey\//i.test(t)?r={name:"SeaMonkey",seamonkey:e,version:n(/seamonkey\/(\d+(\.\d+)?)/i)}:/firefox|iceweasel/i.test(t)?(r={name:"Firefox",firefox:e,version:n(/(?:firefox|iceweasel)[ \/](\d+(\.\d+)?)/i)},/\((mobile|tablet);[^\)]*rv:[\d\.]+\)/i.test(t)&&(r.firefoxos=e)):/silk/i.test(t)?r={name:"Amazon Silk",silk:e,version:n(/silk\/(\d+(\.\d+)?)/i)}:c?r={name:"Android",version:s}:/phantom/i.test(t)?r={name:"PhantomJS",phantom:e,version:n(/phantomjs\/(\d+(\.\d+)?)/i)}:/blackberry|\bbb\d+/i.test(t)||/rim\stablet/i.test(t)?r={name:"BlackBerry",blackberry:e,version:s||n(/blackberry[\d]+\/(\d+(\.\d+)?)/i)}:/(web|hpw)os/i.test(t)?(r={name:"WebOS",webos:e,version:s||n(/w(?:eb)?osbrowser\/(\d+(\.\d+)?)/i)},/touchpad\//i.test(t)&&(r.touchpad=e)):r=/bada/i.test(t)?{name:"Bada",bada:e,version:n(/dolfin\/(\d+(\.\d+)?)/i)}:/tizen/i.test(t)?{name:"Tizen",tizen:e,version:n(/(?:tizen\s?)?browser\/(\d+(\.\d+)?)/i)||s}:/safari/i.test(t)?{name:"Safari",safari:e,version:s}:{name:n(/^(.*)\/(.*) /),version:(o=/^(.*)\/(.*) /,a=t.match(o),a&&a.length>1&&a[2]||"")},!r.msedge&&/(apple)?webkit/i.test(t)?(r.name=r.name||"Webkit",r.webkit=e,!r.version&&s&&(r.version=s)):!r.opera&&/gecko\//i.test(t)&&(r.name=r.name||"Gecko",r.gecko=e,r.version=r.version||n(/gecko\/(\d+(\.\d+)?)/i)),r.msedge||!c&&!r.silk?i&&(r[i]=e,r.ios=e):r.android=e;var p="";r.windowsphone?p=n(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i):i?p=(p=n(/os (\d+([_\s]\d+)*) like mac os x/i)).replace(/[_\s]/g,"."):c?p=n(/android[ \/-](\d+(\.\d+)*)/i):r.webos?p=n(/(?:web|hpw)os\/(\d+(\.\d+)*)/i):r.blackberry?p=n(/rim\stablet\sos\s(\d+(\.\d+)*)/i):r.bada?p=n(/bada\/(\d+(\.\d+)*)/i):r.tizen&&(p=n(/tizen[\/\s](\d+(\.\d+)*)/i)),p&&(r.osversion=p);var m=p.split(".")[0];return f||"ipad"==i||c&&(3==m||4==m&&!d)||r.silk?r.tablet=e:(d||"iphone"==i||"ipod"==i||c||r.blackberry||r.webos||r.bada)&&(r.mobile=e),r.msedge||r.msie&&r.version>=10||r.yandexbrowser&&r.version>=15||r.chrome&&r.version>=20||r.firefox&&r.version>=20||r.safari&&r.version>=6||r.opera&&r.version>=10||r.ios&&r.osversion&&r.osversion.split(".")[0]>=6||r.blackberry&&r.version>=10.1?r.a=e:r.msie&&r.version<10||r.chrome&&r.version<20||r.firefox&&r.version<20||r.safari&&r.version<6||r.opera&&r.version<10||r.ios&&r.osversion&&r.osversion.split(".")[0]<6?r.c=e:r.x=e,r}var n=t("undefined"!=typeof navigator?navigator.userAgent:"");return n.test=function(e){for(var t=0;t<e.length;++t){var r=e[t];if("string"==typeof r&&r in n)return!0}return!1},n._detect=t,n},e.exports?e.exports=a():void 0===(o="function"==typeof(r=a)?r.call(t,n,t,e):r)||(e.exports=o)},function(e,t,n){var r=n(416),o=n(34);e.exports=function(e,t,n,a){return null==e?[]:(o(t)||(t=null==t?[]:[t]),o(n=a?void 0:n)||(n=null==n?[]:[n]),r(e,t,n))}},function(e,t,n){"use strict";var r=n(0),o=n(2),a=n(9);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}t.a=function(e,t){var n=Object(o.c)();return Object(r.useCallback)((function(r,o){var i=r.target.closest("a");if(2===r.which||r.metaKey||r.ctrlKey||"_blank"===i.getAttribute("target"))n(Object(a.T)(e,c(c({},t),o)));else{r.preventDefault();var l=i.getAttribute("href"),u=function(){return window.location.href=l},s=setTimeout(u,300);n(Object(a.T)(e,c(c({},t),o),(function(){clearTimeout(s),u()})))}}),[n,e,t])}},,,,,,,,,,function(e,t){e.exports=function(e){return null===e}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){var r=n(335),o=n(41),a=n(88),i=Math.max,c=Math.min;e.exports=function(e,t,n){var l=null==e?0:e.length;if(!l)return-1;var u=l-1;return void 0!==n&&(u=a(n),u=n<0?i(l+u,0):c(u,l-1)),r(e,o(t,3),u,!0)}},,function(e,t,n){"use strict";var r=n(0),o=n.n(r),a=n(66),i=n(2),c=n(1),l=n(67),u=n(4),s=n(230);function f(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,a=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){c=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(c)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return d(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var p=function e(){var t=Object(r.useRef)(null),n=Object(i.c)(),c=Object(r.useMemo)((function(){return new u.b((function(e){var t=f(e,1)[0];n(Object(a.f)(t.isIntersecting))}),{threshold:0})}),[n]);Object(r.useEffect)((function(){return c.observe(t.current),function(){return c.disconnect()}}),[c]);var l=Object(s.a)("bottomStickyNav");return o.a.createElement(e.Sentinel,{ref:t,distanceAboveBottomStickyNav:l})};p.Sentinel=c.f.div.withConfig({displayName:"StickyNavSentinel__Sentinel",componentId:"sc-1yh9i7p-0"})(["position:absolute;width:100%;bottom:",";",""],(function(e){return"calc(".concat(e.distanceAboveBottomStickyNav,")")}),Object(l.a)("sentinel")),t.a=p},function(e,t,n){"use strict";var r=n(0),o=n(2),a=n(21),i=n(24),c=n.n(i),l=n(83);function u(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,a=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){c=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(c)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}t.a=function(e){var t=e.submitAction,n=e.extraValues,i=e.onlySubmitChangedFields,s=void 0!==i&&i,f=e.transformPayload,p=e.serverErrorFieldMapping,m=void 0===p?{}:p,h=e.useFormOptions,g=e.onSubmit,b=void 0===g?c.a:g,y=e.onSuccess,v=void 0===y?c.a:y,O=e.onError,w=void 0===O?c.a:O,_=Object(o.c)(),j=Object(a.d)(h),E=j.handleSubmit,C=j.setError,x=j.clearErrors,I=j.formState,S=I.isSubmitting,k=I.dirtyFields,A=Object(r.useCallback)((function(e){var t=d(d({},s?Object(l.b)(k,e):e),n),r=f?f(t):t;return Promise.resolve(r)}),[k,n,s,f]),T=Object(r.useCallback)((function(e){return Object.fromEntries(Object.entries(e).map((function(e){var t=u(e,2),n=t[0],r=t[1];return[m[n]||n,r]})))}),[m]),P=Object(r.useCallback)((function(e){var t;w(e.errors),Object(l.a)(T(null!==(t=e.validation_errors)&&void 0!==t?t:{}),C)}),[T,w,C]),N=Object(r.useCallback)((function(e){return new Promise((function(n,r){A(e).then((function(e){_(t(e,{onSuccess:function(){v(),n()},onError:function(e){P(e),r(e)}}))})),b(e)}))}),[A,t,_,v,b,P]);return{methods:j,onSubmit:Object(r.useMemo)((function(){return function(e){x(),E(N)(e)}}),[x,E,N]),isSubmitting:S}}},function(e,t,n){e.exports=n(490)()},function(e,t,n){"use strict";var r=n(491);function o(){}function a(){}a.resetWarningCache=o,e.exports=function(){function e(e,t,n,o,a,i){if(i!==r){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:o};return n.PropTypes=n,n}},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,n){var r=n(367);e.exports=function(e){if(Array.isArray(e))return r(e)},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){e.exports=function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,n){var r=n(367);e.exports=function(e,t){if(e){if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){function n(){return e.exports=n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},e.exports.default=e.exports,e.exports.__esModule=!0,n.apply(this,arguments)}e.exports=n,e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,n){"use strict";e.exports=n(498)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&Symbol.for,o=r?Symbol.for("react.element"):60103,a=r?Symbol.for("react.portal"):60106,i=r?Symbol.for("react.fragment"):60107,c=r?Symbol.for("react.strict_mode"):60108,l=r?Symbol.for("react.profiler"):60114,u=r?Symbol.for("react.provider"):60109,s=r?Symbol.for("react.context"):60110,f=r?Symbol.for("react.async_mode"):60111,d=r?Symbol.for("react.concurrent_mode"):60111,p=r?Symbol.for("react.forward_ref"):60112,m=r?Symbol.for("react.suspense"):60113,h=r?Symbol.for("react.memo"):60115,g=r?Symbol.for("react.lazy"):60116;function b(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case o:switch(e=e.type){case f:case d:case i:case l:case c:case m:return e;default:switch(e=e&&e.$$typeof){case s:case p:case u:return e;default:return t}}case g:case h:case a:return t}}}function y(e){return b(e)===d}t.typeOf=b,t.AsyncMode=f,t.ConcurrentMode=d,t.ContextConsumer=s,t.ContextProvider=u,t.Element=o,t.ForwardRef=p,t.Fragment=i,t.Lazy=g,t.Memo=h,t.Portal=a,t.Profiler=l,t.StrictMode=c,t.Suspense=m,t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===i||e===d||e===l||e===c||e===m||"object"==typeof e&&null!==e&&(e.$$typeof===g||e.$$typeof===h||e.$$typeof===u||e.$$typeof===s||e.$$typeof===p)},t.isAsyncMode=function(e){return y(e)||b(e)===f},t.isConcurrentMode=y,t.isContextConsumer=function(e){return b(e)===s},t.isContextProvider=function(e){return b(e)===u},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===o},t.isForwardRef=function(e){return b(e)===p},t.isFragment=function(e){return b(e)===i},t.isLazy=function(e){return b(e)===g},t.isMemo=function(e){return b(e)===h},t.isPortal=function(e){return b(e)===a},t.isProfiler=function(e){return b(e)===l},t.isStrictMode=function(e){return b(e)===c},t.isSuspense=function(e){return b(e)===m}},function(e,t){e.exports=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,n){var r=n(501),o=n(148),a=n(403);e.exports=function(e){return function(t,n,i){return i&&"number"!=typeof i&&o(t,n,i)&&(n=i=void 0),t=a(t),void 0===n?(n=t,t=0):n=a(n),i=void 0===i?t<n?1:-1:a(i),r(t,n,i,e)}}},function(e,t){var n=Math.ceil,r=Math.max;e.exports=function(e,t,o,a){for(var i=-1,c=r(n((t-e)/(o||1)),0),l=Array(c);c--;)l[a?c:++i]=e,e+=o;return l}},function(e,t,n){var r=n(202);e.exports=function(e,t,n){for(var o=-1,a=e.length;++o<a;){var i=e[o],c=t(i);if(null!=c&&(void 0===l?c==c&&!r(c):n(c,l)))var l=c,u=i}return u}},function(e,t,n){var r=n(162),o=n(236),a=Array.prototype.splice;e.exports=function(e,t){for(var n=e?t.length:0,i=n-1;n--;){var c=t[n];if(n==i||c!==l){var l=c;o(c)?a.call(e,c,1):r(e,c)}}return e}},function(e,t){e.exports=function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}},function(e,t,n){var r=n(414);e.exports=function(e,t,n){for(var o=-1,a=e.criteria,i=t.criteria,c=a.length,l=n.length;++o<c;){var u=r(a[o],i[o]);if(u)return o>=l?u:u*("desc"==n[o]?-1:1)}return e.index-t.index}},function(e,t,n){var r=n(335),o=n(41),a=n(88),i=Math.max;e.exports=function(e,t,n){var c=null==e?0:e.length;if(!c)return-1;var l=null==n?0:a(n);return l<0&&(l=i(c+l,0)),r(e,o(t,3),l)}},function(e,t){e.exports=function(e){if("function"!=typeof e)throw new TypeError("Expected a function");return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}},function(e,t,n){var r=n(623),o=n(932),a=n(933),i=n(625),c=n(942),l=n(511),u=n(943),s=n(631),f=n(632),d=n(88),p=Math.max;e.exports=function(e,t,n,m,h,g,b,y){var v=2&t;if(!v&&"function"!=typeof e)throw new TypeError("Expected a function");var O=m?m.length:0;if(O||(t&=-97,m=h=void 0),b=void 0===b?b:p(d(b),0),y=void 0===y?y:d(y),O-=h?h.length:0,64&t){var w=m,_=h;m=h=void 0}var j=v?void 0:l(e),E=[e,t,n,m,h,w,_,g,b,y];if(j&&u(E,j),e=E[0],t=E[1],n=E[2],m=E[3],h=E[4],!(y=E[9]=void 0===E[9]?v?0:e.length:p(E[9]-O,0))&&24&t&&(t&=-25),t&&1!=t)C=8==t||16==t?a(e,t,y):32!=t&&33!=t||h.length?i.apply(void 0,E):c(e,t,n,m);else var C=o(e,t,n);return f((j?r:s)(C,E),e,t)}},function(e,t,n){var r=n(331),o=n(510);function a(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=4294967295,this.__views__=[]}a.prototype=r(o.prototype),a.prototype.constructor=a,e.exports=a},function(e,t){e.exports=function(){}},function(e,t,n){var r=n(624),o=n(24),a=r?function(e){return r.get(e)}:o;e.exports=a},function(e,t,n){var r=n(331),o=n(510);function a(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=void 0}a.prototype=r(o.prototype),a.prototype.constructor=a,e.exports=a},function(e,t){var n="__lodash_placeholder__";e.exports=function(e,t){for(var r=-1,o=e.length,a=0,i=[];++r<o;){var c=e[r];c!==t&&c!==n||(e[r]=n,i[a++]=r)}return i}},,,,,,,,function(e,t,n){var r=n(914)("round");e.exports=r},function(e,t,n){var r=n(919),o=n(204),a=n(88),i=n(97);e.exports=function(e,t,n){return e=i(e),n=null==n?0:r(a(n),0,e.length),t=o(t),e.slice(n,n+t.length)==t}},function(e,t,n){var r=n(308)("sortBy",n(419));r.placeholder=n(282),e.exports=r},function(e,t,n){var r=n(308)("filter",n(117));r.placeholder=n(282),e.exports=r},function(e,t,n){var r=n(308)("flow",n(949));r.placeholder=n(282),e.exports=r},function(e,t,n){var r=n(308)("take",n(951));r.placeholder=n(282),e.exports=r},function(e,t,n){var r=n(308)("thru",n(952));r.placeholder=n(282),e.exports=r},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"i",(function(){return o})),n.d(t,"a",(function(){return a})),n.d(t,"h",(function(){return i})),n.d(t,"b",(function(){return c})),n.d(t,"g",(function(){return l})),n.d(t,"d",(function(){return u})),n.d(t,"j",(function(){return s})),n.d(t,"e",(function(){return f})),n.d(t,"l",(function(){return d})),n.d(t,"f",(function(){return p})),n.d(t,"k",(function(){return m}));var r="songPage/CONTRIBUTORS_VISIBLE",o=function(e){return{type:r,songId:e}},a="songPage/CONTRIBUTORS_FETCHED",i=function(e,t){var n=t.entities,r=t.result;return{type:a,songId:e,entities:n,result:r}},c="songPage/CONTRIBUTORS_FETCH_FAILED",l=function(e){return{type:c,songId:e}},u="songPage/MORE_IQ_EARNERS_CLICKED",s=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return{type:u,songId:e,page:t}},f="songPage/MORE_IQ_EARNERS_FETCHED",d=function(e,t){var n=t.entities,r=t.result;return{type:f,songId:e,entities:n,result:r}},p="songPage/MORE_IQ_EARNERS_FETCH_FAILED",m=function(e){return{type:p,songId:e}}},function(e,t,n){"use strict";var r=n(0),o=n.n(r),a=(n(3),n(1)),i=n(84),c=n(22),l=n(32);t.a=function(e){var t=e.children,n=e.songId,u=Object(i.a)("songs",n),s=u.coverArtColors,f=u.songArtPrimaryColor,d=u.songArtSecondaryColor,p=u.songArtTextColor,m=Object(r.useMemo)((function(){var e=s;return f&&d&&p&&(e=s||{gradient:{main:f,variant:d,on:p,blockOnColor:p,onVariant:Object(l.a)(p)?"rgba(0, 0, 0, 0.5)":"rgba(255, 255, 255, 0.5)"}}),Object(c.d)(e)}),[s,f,d,p]);return o.a.createElement(a.c,{theme:m},t)}},function(e,t,n){"use strict";var r=n(0),o=n.n(r),a=(n(3),n(1)),i=n(2),c=n(318),l=function e(t){var n=t.bottomMargin,r=t.name;return Object(i.d)((function(e){return e.session.showAds}))?o.a.createElement(e.LeaderboardOrMarquee,{bottomMargin:n,name:r}):null};t.a=l,l.LeaderboardOrMarquee=Object(a.f)(c.a).withConfig({displayName:"Leaderboard__LeaderboardOrMarquee",componentId:"da326u-0"})(["background-color:black;min-height:calc(3rem + 90px);display:flex;"])},,,,,function(e,t,n){"use strict";var r=n(2),o=n(123),a=n(95);t.a=function(){var e=Object(r.c)(),t=Object(o.a)("song:contributions_open");return{open:function(){e(Object(a.Fb)(!0)),t()},close:function(){e(Object(a.Fb)(!1))},isVisible:Object(r.d)((function(e){var t;return null===(t=e.songPage)||void 0===t?void 0:t.isContributionsModalVisible}))}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"d",(function(){return o})),n.d(t,"b",(function(){return a})),n.d(t,"e",(function(){return i})),n.d(t,"c",(function(){return c})),n.d(t,"f",(function(){return l}));var r="songPage/PYONG_CLICKED",o=function(e,t){var n=e.pyongableType,o=e.pyongableId;return{type:r,payload:{pyongableType:n,pyongableId:o},meta:t}},a="songPage/PYONG_FINALIZED",i=function(e,t){var n=e.pyongableType,r=e.pyongableId,o=e.pyongNote;return{type:a,payload:{pyongableType:n,pyongableId:r,pyongNote:void 0===o?null:o},meta:t}},c="songPage/PYONG_INCREASE_COUNTER",l=function(e){var t=e.pyongableType,n=e.pyongableId;return{type:c,payload:{pyongableType:t,pyongableId:n}}}},function(e,t,n){"use strict";var r=n(0),o=n(2),a=n(253);t.a=function(e,t){var n=Object(o.c)();return Object(r.useCallback)((function(){n(Object(a.c)({status:e,message:t}))}),[n,e,t])}},function(e,t,n){"use strict";var r=n(5),o=n.n(r),a=n(0),i=n.n(a),c=(n(3),n(21)),l=n(2),u=n(72),s=n.n(u),f=n(26),d=["rules"],p=["rules"];function m(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){b(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function y(e,t,n,r,o,a,i){try{var c=e[a](i),l=c.value}catch(e){return void n(e)}c.done?t(l):Promise.resolve(l).then(r,o)}var v=function(e){var t=e.children,n=e.className,r=e.defaultValue,l=e.disabled,u=e.helpText,d=e.hideLabel,p=e.inlineLabel,m=e.label,h=e.floatingLabel,b=e.wrapWithLabel,v=e.name,O=e.id,w=e.rules,_=e.transformForForm,j=e.transformForInput;b||O||d||console.warn("When disabling `wrapWithLabel`, you must give the field an ID or a hidden label instead to maintain accessibility");var E=(null==w?void 0:w.required)&&Boolean(s()(w.required)?w.required.value:w.required),C=!d&&i.a.createElement(f.e,{as:b?"span":"label",htmlFor:O},m," ",E&&"*"),x=Object(a.useMemo)((function(){return j(r)}),[r,j]),I=Object(a.useCallback)((function(e){return function(){var t,n=(t=o.a.mark((function t(n){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.onChange(_(n));case 1:case"end":return t.stop()}}),t)})),function(){var e=this,n=arguments;return new Promise((function(r,o){var a=t.apply(e,n);function i(e){y(a,r,o,i,c,"next",e)}function c(e){y(a,r,o,i,c,"throw",e)}i(void 0)}))});return function(e){return n.apply(this,arguments)}}()}),[_]);return i.a.createElement(c.a,{name:v,rules:w,defaultValue:r,render:function(e){var r=e.field,o=e.fieldState;return i.a.createElement(f.a,{as:b?"label":"div",className:n},i.a.createElement(f.b,{inlineLabel:p},!h&&C,i.a.cloneElement(t,g(g({},r),{},{id:O,disabled:l,defaultValue:x,onChange:I(r),hasError:o.invalid,"aria-required":E},d&&{"aria-label":"".concat(m," ").concat(E?"(required)":"")})),h&&C),o.error&&i.a.createElement(f.c,null,o.error.message),u&&i.a.createElement(f.d,null,u))}})},O=function(e,t){var n=e.rules,r=m(e,d),o=t.rules,a=m(t,p);return!!Object(l.b)(n,o)&&Object(l.b)(r,a)};t.a=i.a.memo(v,O),v.defaultProps={defaultValue:"",rules:{},disabled:!1,hideLabel:!1,floatingLabel:!1,inlineLabel:!1,wrapWithLabel:!0,transformForForm:function(e){return e},transformForInput:function(e){return e}}},function(e,t,n){"use strict";var r=n(0),o=n.n(r),a=(n(3),n(1)),i=n(243),c=["autoResize","expandOnFocus","onChange","onFocus"];function l(){return l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l.apply(this,arguments)}function u(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,a=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){c=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(c)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function f(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var d=o.a.forwardRef((function(e,t){var n=e.autoResize,a=e.expandOnFocus,i=e.onChange,s=e.onFocus,p=f(e,c),m=Object(r.useRef)(),h=Object(r.useCallback)((function(e){m.current=e,t&&(t.current=e)}),[t]),g=Object(r.useCallback)((function(){var e=m.current;e&&(e.style.height="auto",e.style.height="".concat(e.scrollHeight,"px"))}),[]),b=Object(r.useCallback)((function(e){i(e),n&&g()}),[i,n,g]),y=u(Object(r.useState)(a?1:2),2),v=y[0],O=y[1],w=Object(r.useCallback)((function(e){s&&s(e),O(2)}),[s]);return o.a.createElement(d.Input,l({ref:h,rows:v,as:"textarea",onChange:b,onFocus:w,$autoResize:n},p))}));d.displayName="ForwardRef(Textarea)",d.Input=Object(a.f)(i.a).withConfig({displayName:"Textarea__Input",componentId:"u7wct2-0"})(["",""],(function(e){return e.$autoResize?"\n    overflow-y: hidden;\n    resize: none;\n  ":"\n    overflow-y: scroll;\n  "})),t.a=o.a.memo(d)},function(e,t,n){"use strict";var r=n(0),o=n.n(r),a=n(1),i=(n(3),n(228)),c=n(389),l=n(49),u=n(67),s=n(22);function f(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,a=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){c=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(c)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return d(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var p=function e(t){var n=t.position,l=t.width,u=t.xAdjustment,d=t.yAdjustment,p=t.delay,m=t.content,h=t.children,g=f(Object(r.useState)(!1),2),b=g[0],y=g[1],v=Object(r.useRef)(null),O=Object(r.useRef)(null),w=Object(r.useRef)(null),_=Object(i.a)(),j=Object(r.useCallback)((function(){_||y(!0)}),[_]),E=Object(r.useCallback)((function(){setTimeout((function(){if(!_){var e=Array.from(document.querySelectorAll(":hover"));e.includes(w.current)||e.includes(O.current)||y(!1)}}),p)}),[_,p]),C=Object(r.useCallback)((function(){return y(!0)}),[]);return Object(c.a)({element:v,onClickOutside:function(){return y(!1)}}),o.a.createElement(e.Container,{ref:v},o.a.createElement(e.Children,{ref:O,onClick:C,onMouseEnter:j,onMouseLeave:E},h),b&&o.a.createElement(a.c,{theme:s.d},o.a.createElement(e.Content,{ref:w,$position:n,onMouseLeave:E,xAdjustment:u,yAdjustment:d,width:l},m)))};p.defaultProps={position:"bottom",width:"max-content",xAdjustment:"0px",yAdjustment:"0px",delay:200},p.Container=a.f.div.withConfig({displayName:"Tooltip__Container",componentId:"sc-1uvy5c2-0"})(["display:block;position:relative;"]);var m={top:"bottom",bottom:"top",left:"right",right:"left"};p.Content=a.f.div.withConfig({displayName:"Tooltip__Content",componentId:"sc-1uvy5c2-1"})(["width:",";background-color:",";padding:",";font-size:",";position:absolute;border:1px solid ",";color:",";font-family:",";white-space:normal;",";"," &:before{","};"],(function(e){return e.width}),(function(e){return e.theme.color.background.main}),(function(e){return e.theme.space.xSmall}),(function(e){return e.theme.fontSize.smallReading}),(function(e){return e.theme.color.background.on}),(function(e){return e.theme.color.background.on}),(function(e){return e.theme.font.alternate}),Object(u.a)("tooltip"),(function(e){var t=e.$position,n=e.xAdjustment,r=e.yAdjustment,o=e.theme;switch(t){case"bottom":return Object(a.e)(["top:calc(100% + "," + ",");left:50%;transform:translateX(calc(-50% + ","));"],o.space.half,r,n);case"left":return Object(a.e)(["right:calc(100% + "," + ",");top:50%;transform:translateY(calc(-50% + ","));"],o.space.half,n,r);case"right":return Object(a.e)(["left:calc(100% + "," + ",");top:50%;transform:translateY(calc(-50% + ","));"],o.space.half,n,r);case"top":return Object(a.e)(["bottom:calc(100% + "," + ",");left:50%;transform:translateX(calc(-50% + ","));"],o.space.half,r,n)}}),(function(e){var t=e.$position,n=e.theme;return Object(l.b)({direction:m[t],size:n.space.half,color:n.color.background.main,borderColor:n.color.background.on})})),p.Children=a.f.div.withConfig({displayName:"Tooltip__Children",componentId:"sc-1uvy5c2-2"})(["cursor:pointer;display:flex;"]),t.a=o.a.memo(p)},function(e,t,n){"use strict";var r=n(0),o=n.n(r),a=(n(3),n(529)),i=n(255),c=n(379),l=function(e){var t=e.item;return o.a.createElement(i.a,{content:o.a.createElement(c.a,{artistId:t.id})},o.a.createElement(a.a,{href:t.url},t.name))};t.a=o.a.memo(l)},function(e,t,n){"use strict";var r=n(0),o=n.n(r),a=(n(3),n(1));function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,a=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){c=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(c)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var l=function e(t){var n=t.className,a=t.items,c=t.ListItem,l=t.limit,u=i(Object(r.useState)(l&&a.length>l),2),s=u[0],f=u[1],d=Object(r.useCallback)((function(){return f(!1)}),[]),p=s?a.slice(0,l):a;return Object(r.useEffect)((function(){a.length<l&&s&&f(!1)}),[a,l,s]),o.a.createElement("div",{className:n},p.map((function(e,t){return o.a.createElement(o.a.Fragment,{key:e.id},o.a.createElement(c,{item:e}),function(e){var t=s?p.length+1:p.length;return e===t-1?"":e===t-2?" & ":", "}(t))})),s&&o.a.createElement(e.More,{onClick:d},a.length-l," more"))};l.defaultProps={urlProp:"url"},t.a=o.a.memo(l),l.More=a.f.button.withConfig({displayName:"List__More",componentId:"sc-18puy0w-0"})(["display:inline;border:none;background:none;padding:0;font-size:inherit;cursor:pointer;text-decoration:underline;color:",";"],(function(e){return e.theme.color.background.on}))},function(e,t,n){"use strict";var r=n(0),o=n.n(r),a=(n(3),n(1)),i=n(382),c=n(32),l=function e(t){var n=t.contributors;return o.a.createElement(e.List,null,n.map((function(t){return o.a.createElement(e.ListItem,{key:t.user,attribution:100*t.attribution},o.a.createElement(i.a,{id:t.user,avatarSize:18}),o.a.createElement(e.AttributionValue,null,Math.round(100*t.attribution),"%"))})))};t.a=l,l.List=a.f.ol.withConfig({displayName:"ContributorList__List",componentId:"sxv5b1-0"})([""]),l.ListItem=a.f.li.withConfig({displayName:"ContributorList__ListItem",componentId:"sxv5b1-1"})(["position:relative;display:flex;align-items:center;justify-content:space-between;padding:"," ",";background:",";&:not(:last-child){border-bottom:1px solid ",";}"],(function(e){return e.theme.space.half}),(function(e){return e.theme.space.small}),(function(e){return"linear-gradient(to right, ".concat(Object(c.a)(e.theme.color.background.on)?e.theme.color.contributor.main:e.theme.color.contributor.on," ").concat(e.attribution,"%, transparent 0)")}),(function(e){return e.theme.color.background.on})),l.AttributionValue=a.f.span.withConfig({displayName:"ContributorList__AttributionValue",componentId:"sxv5b1-2"})(["font-size:",";font-weight:",";"],(function(e){return e.theme.fontSize.smallReading}),(function(e){return e.theme.fontWeight.light}))},function(e,t,n){"use strict";var r=n(0),o=n.n(r),a=(n(3),n(1)),i=n(7),c=n.n(i),l=n(179),u=n.n(l),s=n(2),f=n(190),d=n(292),p=n(259),m=n(95),h=n(45),g=u()((function(e){return{standard:b.Button,text:b.TextButton}[e]})),b=function e(t){var n=t.buttonAlign,a=t.buttonStyle,i=t.buttonText,l=t.children,u=t.className,p=t.collapsedHeight,b=t.enableAutoExpand,y=t.gradientStopPercentage,v=t.id,O=t.onExpand,w=Object(r.useRef)(null),_=Object(s.c)(),j=Object(s.d)((function(e){return c()(e,"songPage.expandableContent.".concat(v),!1)})),E=g(a)||f.a,C=Object(r.useCallback)((function(){_(Object(m.U)(v)),O()}),[_,v,O]);return Object(r.useLayoutEffect)((function(){b&&w.current&&w.current.offsetHeight<p&&!j&&_(Object(m.U)(v))}),[p,_,b,j,v]),o.a.createElement(e.Container,{className:u},o.a.createElement(e.Content,{ref:w,expanded:j,collapsedHeight:p,stop:y},l),o.a.createElement(e.ButtonContainer,{align:n},!j&&o.a.createElement(E,{onClick:C},i," ",o.a.createElement(d.a,{aspectRatio:.4125,lineHeight:1.33,svg:h.a}))))};b.defaultProps={buttonAlign:"center",buttonStyle:"standard",buttonText:"Expand",collapsedHeight:250,enableAutoExpand:!0,gradientStopPercentage:0,onExpand:function(){}},t.a=o.a.memo(b),b.Container=a.f.div.withConfig({displayName:"ExpandableContent__Container",componentId:"sc-1165iv-0"})([""]),b.Button=Object(a.f)((function(e){return o.a.createElement(f.a,e)})).withConfig({displayName:"ExpandableContent__Button",componentId:"sc-1165iv-1"})([""]),b.TextButton=Object(a.f)((function(e){return o.a.createElement(p.a,e)})).withConfig({displayName:"ExpandableContent__TextButton",componentId:"sc-1165iv-2"})([""]),b.ButtonContainer=a.f.div.withConfig({displayName:"ExpandableContent__ButtonContainer",componentId:"sc-1165iv-3"})(["text-align:",";color:",";","{margin-top:",";}",",","{line-height:1.25;}svg{fill:",";}"],(function(e){return e.align}),(function(e){return e.theme.color.background.on}),b.TextButton,(function(e){return e.theme.space.small}),b.TextButton,b.Button,(function(e){return e.theme.color.background.on})),b.Content=a.f.div.withConfig({displayName:"ExpandableContent__Content",componentId:"sc-1165iv-4"})(["overflow:hidden;",""],(function(e){return!e.expanded&&"\n    max-height: ".concat(e.collapsedHeight,"px;\n    mask: linear-gradient(rgba(0, 0, 0, 1) ").concat(e.stop,"%, transparent);\n  ")}))},function(e,t,n){"use strict";var r=n(0),o=n.n(r),a=(n(3),n(2)),i=n(1),c=n(96),l=n(292),u=n(225),s=n(123),f=n(378),d=n(385),p=n(45),m=function e(t){var n=t.descriptionAnnotationId,i=t.color,u=Object(c.a)().t,m=Object(a.c)(),h=Object(s.a)("song:description_annotation_edit_clicked"),g=Object(r.useCallback)((function(){m(Object(f.P)(n)),h()}),[m,n,h]);return o.a.createElement(e.Container,{onClick:g},u("annotations.song_description.form.body.placeholder")," ",o.a.createElement(l.a,{aspectRatio:.4125,lineHeight:1.33,svg:p.a,verticalAlign:"bottom"})," ",o.a.createElement(d.a,{action:"createdCommunityAnnotation",color:i}))};m.defaultProps={color:"success.main"},t.a=o.a.memo(m),m.Container=Object(i.f)((function(e){return o.a.createElement(u.a,e)})).withConfig({displayName:"StartSongBioButton__Container",componentId:"s5s0ty-0"})(["width:fit-content;line-height:1rem;& svg{fill:",";}"],(function(e){return e.theme.color.background.on}))},function(e,t,n){"use strict";var r=n(0),o=n.n(r),a=(n(3),n(2)),i=n(70),c=n(381),l=n(114),u=function(e){var t=e.className,n=e.name,r=e.hidden,u=Object(a.d)((function(e){return Boolean(e.songPage.activeFragment)})),s=Object(l.a)(n),f=s.state,d=s.metadata,p=d.width,m=d.height,h=s.creativeSize,g="filled"===f&&1300===p&&1===m,b=g||(void 0===h?{}:h).width>=728,y="empty"===f,v=u&&b;return o.a.createElement(c.a,{className:t,hidden:r,fullWidth:g,wideAd:b,collapsed:v,isEmpty:y},o.a.createElement(i.a,{name:n,placeholderSize:{width:300,height:250},hasFixedHeight:!0,maxCreativeHeight:415}))};u.defaultProps={hidden:!1},t.a=o.a.memo(u)},function(e,t,n){"use strict";var r=n(0),o=n.n(r),a=(n(3),n(1)),i=["hidden"];function c(){return c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c.apply(this,arguments)}function l(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var u=function e(t){var n=t.hidden,r=l(t,i);return o.a.createElement(e.Container,c({hidden:n},r))};u.defaultProps={hidden:!1},t.a=u,u.Container=a.f.div.withConfig({displayName:"RightSidebar__Container",componentId:"pajcl2-0"})(["display:flex;flex-direction:column;row-gap:",";grid-column:auto / right-end;justify-self:right;"," min-width:300px;"],(function(e){return e.theme.space.full}),(function(e){return e.hidden&&"display: none;"}))},function(e,t,n){"use strict";var r=n(0),o=n.n(r),a=(n(3),n(1)),i=n(2),c=n(70),l=n(230),u=n(114);function s(){return s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s.apply(this,arguments)}var f=function e(t){var n=t.name,r=t.sticky,a=t.lazy,f=t.hidden,d=t.className,p=Object(i.d)((function(e){return e.session.showAds})),m=Object(l.a)("stickyAd"),h=Object(u.a)(n),g=h.state,b=h.metadata,y=h.creativeSize,v=b.height;if(!p||"empty"===g)return null;var O={sticky:r,distanceAboveStickyAd:m,adHeight:v};return o.a.createElement(e.Container,s({},O,{className:d}),o.a.createElement(e.StickyContainer,s({},O,{hidden:f},y),o.a.createElement(c.a,{name:n,lazy:a})))};f.defaultProps={sticky:!0,lazy:!0,hidden:!1},t.a=o.a.memo(f),f.Container=a.f.div.withConfig({displayName:"SidebarAd__Container",componentId:"sc-1cw85h6-0"})(["flex-grow:1;width:",";",""],"300px",(function(e){return e.sticky?Object(a.e)(["padding-top:",";"],e.theme.grid.gap):Object(a.e)(["display:flex;align-items:center;margin:"," 0;"],e.theme.grid.gap)})),f.StickyContainer=a.f.div.withConfig({displayName:"SidebarAd__StickyContainer",componentId:"sc-1cw85h6-1"})([""," ",""],(function(e){return e.hidden&&Object(a.e)(["opacity:0;pointer-events:none;height:","px;width:","px;"],e.height,e.width)}),(function(e){return e.sticky&&Object(a.e)(["position:sticky;top:calc(",");"],e.distanceAboveStickyAd)}))},function(e,t,n){"use strict";var r=n(0),o=n.n(r),a=(n(3),n(2)),i=n(1),c=n(70),l=n(114),u=n(155),s={width:728,height:90},f={width:300,height:250},d=function e(t){var n=t.name,r=Object(a.d)((function(e){return e.session.showAds})),i=Object(l.a)(n).state,d=Object(u.a)({mobile:f,desktop:s});return r&&"empty"!==i?o.a.createElement(e.Container,null,o.a.createElement(e.Center,null,o.a.createElement(c.a,{name:n,placeholderSize:d,hasFixedHeight:!0,maxCreativeHeight:250}))):null};t.a=o.a.memo(d),d.Container=i.f.div.withConfig({displayName:"SectionLeaderboard__Container",componentId:"sc-1pjk0bw-0"})(["display:grid;grid-template-columns:1fr [center-start] 1fr [center-end] 1fr;background-color:black;"]),d.Center=i.f.div.withConfig({displayName:"SectionLeaderboard__Center",componentId:"sc-1pjk0bw-1"})(["padding:"," 0;grid-column:center-start / center-end;"],(function(e){return e.theme.space.small}))},function(e,t,n){var r=n(126),o=n(624),a=o?function(e,t){return o.set(e,t),e}:r;e.exports=a},function(e,t,n){var r=n(585),o=r&&new r;e.exports=o},function(e,t,n){var r=n(626),o=n(627),a=n(934),i=n(417),c=n(628),l=n(633),u=n(941),s=n(513),f=n(93);e.exports=function e(t,n,d,p,m,h,g,b,y,v){var O=128&n,w=1&n,_=2&n,j=24&n,E=512&n,C=_?void 0:i(t);return function x(){for(var I=arguments.length,S=Array(I),k=I;k--;)S[k]=arguments[k];if(j)var A=l(x),T=a(S,A);if(p&&(S=r(S,p,m,j)),h&&(S=o(S,h,g,j)),I-=T,j&&I<v){var P=s(S,A);return c(t,n,e,x.placeholder,d,S,P,b,y,v-I)}var N=w?d:this,M=_?N[t]:t;return I=S.length,b?S=u(S,b):E&&I>1&&S.reverse(),O&&y<I&&(S.length=y),this&&this!==f&&this instanceof x&&(M=C||i(M)),M.apply(N,S)}}},function(e,t){var n=Math.max;e.exports=function(e,t,r,o){for(var a=-1,i=e.length,c=r.length,l=-1,u=t.length,s=n(i-c,0),f=Array(u+s),d=!o;++l<u;)f[l]=t[l];for(;++a<c;)(d||a<i)&&(f[r[a]]=e[a]);for(;s--;)f[l++]=e[a++];return f}},function(e,t){var n=Math.max;e.exports=function(e,t,r,o){for(var a=-1,i=e.length,c=-1,l=r.length,u=-1,s=t.length,f=n(i-l,0),d=Array(f+s),p=!o;++a<f;)d[a]=e[a];for(var m=a;++u<s;)d[m+u]=t[u];for(;++c<l;)(p||a<i)&&(d[m+r[c]]=e[a++]);return d}},function(e,t,n){var r=n(629),o=n(631),a=n(632);e.exports=function(e,t,n,i,c,l,u,s,f,d){var p=8&t;t|=p?32:64,4&(t&=~(p?64:32))||(t&=-4);var m=[e,t,c,p?l:void 0,p?u:void 0,p?void 0:l,p?void 0:u,s,f,d],h=n.apply(void 0,m);return r(e)&&o(h,m),h.placeholder=i,a(h,e,t)}},function(e,t,n){var r=n(509),o=n(511),a=n(630),i=n(936);e.exports=function(e){var t=a(e),n=i[t];if("function"!=typeof n||!(t in r.prototype))return!1;if(e===n)return!0;var c=o(n);return!!c&&e===c[0]}},function(e,t,n){var r=n(935),o=Object.prototype.hasOwnProperty;e.exports=function(e){for(var t=e.name+"",n=r[t],a=o.call(r,t)?n.length:0;a--;){var i=n[a],c=i.func;if(null==c||c==e)return i.name}return t}},function(e,t,n){var r=n(623),o=n(582)(r);e.exports=o},function(e,t,n){var r=n(938),o=n(939),a=n(459),i=n(940);e.exports=function(e,t,n){var c=t+"";return a(e,o(c,i(r(c),n)))}},function(e,t){e.exports=function(e){return e.placeholder}},function(e,t,n){"use strict";var r=n(0),o=n.n(r),a=n(2),i=(n(3),n(96)),c=n(1),l=n(22),u=n(637),s=n(613),f=function e(t){var n=t.viewableByRoles,r=Object(i.a)().t;return o.a.createElement(o.a.Fragment,null,o.a.createElement(e.Heading,null,r("song_page_header.hidden_tooltip.is_hidden")),o.a.createElement(e.IntroText,null,r("song_page_header.hidden_tooltip.viewable_by")),o.a.createElement(e.List,null,o.a.createElement(e.ListItem,null,r("song_page_header.hidden_tooltip.verified_artists_on_song")),n.map((function(t){return o.a.createElement(e.ListItem,{key:t},r("role.types.".concat(t,".other")))}))))};f.IntroText=c.f.p.withConfig({displayName:"HiddenSongTooltipContent__IntroText",componentId:"sc-16zcd1z-0"})(["margin-bottom:",";"],(function(e){return e.theme.space.quarter})),f.Heading=c.f.p.withConfig({displayName:"HiddenSongTooltipContent__Heading",componentId:"sc-16zcd1z-1"})(["font-weight:bold;margin-bottom:",";"],(function(e){return e.theme.space.half})),f.List=c.f.ul.withConfig({displayName:"HiddenSongTooltipContent__List",componentId:"sc-16zcd1z-2"})(["line-height:",";"],(function(e){return e.theme.lineHeight.short})),f.ListItem=c.f.li.withConfig({displayName:"HiddenSongTooltipContent__ListItem",componentId:"sc-16zcd1z-3"})(['&:before{content:"◆ ";}']);var d=o.a.memo(f),p=n(7),m=n.n(p),h=n(84),g=n(123),b=n(255),y=n(379),v=n(529),O=function(e){return Object(a.d)((function(t){var n;return(null===(n=t.songPage)||void 0===n?void 0:n.song)===e?"":t.entities.songs[e].url}))},w={section:"tracklist"},_=function e(t){var n=t.songId,r=Object(h.a)("songs",n),a=r.album,i=r.primaryArtist,c=Object(h.a)("artists",i),l=c.name,u=c.url,s=Object(h.a)("albums",a),f=Object(h.a)("albumAppearances",n),d=m()(f,"number"),p=Object(g.a)("song:click_header_cta",w),_=O(n);return o.a.createElement(e.Container,null,o.a.createElement(b.a,{content:o.a.createElement(y.a,{artistId:i})},o.a.createElement(e.Artist,{href:u,fontSize:"reading"},l)),a&&o.a.createElement(e.Tracklist,null,d?"Track ".concat(d," on"):"on"," ",o.a.createElement(v.a,{href:"".concat(_,"#primary-album"),onClick:p},s.name)))};_.Container=c.f.div.withConfig({displayName:"HeaderArtistAndTracklistdesktop__Container",componentId:"sc-4vdeb8-0"})(["align-items:baseline;display:flex;width:100%;margin-bottom:",";"],(function(e){return e.theme.space.half})),_.Artist=Object(c.f)((function(e){return o.a.createElement(v.a,e)})).withConfig({displayName:"HeaderArtistAndTracklistdesktop__Artist",componentId:"sc-4vdeb8-1"})(["line-height:",";white-space:nowrap;"],(function(e){return e.theme.lineHeight.medium})),_.Tracklist=c.f.div.withConfig({displayName:"HeaderArtistAndTracklistdesktop__Tracklist",componentId:"sc-4vdeb8-2"})(['&:before{content:"•";margin:0 ',";}font-size:",";line-height:",";font-weight:",";white-space:nowrap;overflow:hidden;text-overflow:ellipsis;"],(function(e){return e.theme.space.half}),(function(e){return e.theme.fontSize.reading}),(function(e){return e.theme.lineHeight.medium}),(function(e){return e.theme.fontWeight.light}));var j=o.a.memo(_),E=n(614),C=n(615),x=function e(t){var n=t.songId,r=Object(i.a)().t,a=Object(h.a)("songs",n),c=a.producerArtists,l=a.featuredArtists;return o.a.createElement(e.Container,null,Boolean(l.length)&&o.a.createElement(e.Section,null,o.a.createElement(e.Label,null,r("song_page_header.metadata.feature_label")),o.a.createElement(e.List,{items:l,labelProp:"name",limit:2,ListItem:E.a})),Boolean(c.length)&&o.a.createElement(e.Section,null,o.a.createElement(e.Label,null,r("song_page_header.metadata.producer_label")),o.a.createElement(e.List,{items:c,labelProp:"name",limit:2,ListItem:E.a})))},I=o.a.memo(x);x.Container=c.f.div.withConfig({displayName:"HeaderCredits__Container",componentId:"wx7h8g-0"})(["position:relative;display:flex;column-gap:",";"],(function(e){return e.theme.space.xLarge})),x.Section=c.f.div.withConfig({displayName:"HeaderCredits__Section",componentId:"wx7h8g-1"})(["font-weight:",";font-size:",";line-height:",";color:",";max-width:50%;"],(function(e){return e.theme.fontWeight.light}),(function(e){return e.theme.fontSize.smallReading}),(function(e){return e.theme.lineHeight.medium}),(function(e){return e.theme.color.background.on})),x.Label=c.f.p.withConfig({displayName:"HeaderCredits__Label",componentId:"wx7h8g-2"})(["display:block;line-height:1.2;font-size:",";color:",";"],(function(e){return e.theme.fontSize.smallReading}),(function(e){return e.theme.color.background.on})),x.List=Object(c.f)((function(e){return o.a.createElement(C.a,e)})).withConfig({displayName:"HeaderCredits__List",componentId:"wx7h8g-3"})(["font-size:",";"],(function(e){return e.theme.fontSize.reading}));var S=n(228),k=n(155),A=n(608),T=n(412),P=n(4);function N(){return N=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},N.apply(this,arguments)}var M=o.a.createElement("path",{fillRule:"evenodd",d:"M4 16.483A9 9 0 1 0 14 1.518 9 9 0 0 0 4 16.483Zm.714-13.897a7.714 7.714 0 1 1 8.572 12.828A7.714 7.714 0 0 1 4.714 2.586Zm3.643 6.678 3.594 3.593.906-.906L9.643 8.73V3.214H8.357v6.05Z",clipRule:"evenodd"}),R=function(e){return o.a.createElement("svg",N({fill:"currentColor",viewBox:"0 0 18 18"},e),M)},L=n(109),D=n(175),F=n(143),z=n(181),B=function e(t){var n=t.songId,r=t.iconHeight,a=t.showReleaseDate,c=t.hidePyongButton,l=Object(i.a)().t,u=Object(S.a)(),s=Object(h.a)("songs",n),f=s.releaseDateWithAbbreviatedMonthForDisplay,d=s.stats,p=d.concurrents?d.concurrents+1:1,m=Object(k.a)({mobile:Object(P.d)(d.pageviews),desktop:l("song_page_header.metadata.views",{count:d.pageviews})}),g=Object(k.a)({mobile:Object(P.d)(p),desktop:l("song_page_header.metadata.viewers",{count:p})}),b=Object(A.a)();return o.a.createElement(o.a.Fragment,null,o.a.createElement(e.Container,null,a&&f&&o.a.createElement(e.LabelWithIcon,{icon:o.a.createElement(z.a,null),label:f,height:r,underline:!1}),o.a.createElement(e.LabelWithIcon,{icon:p>50?o.a.createElement(D.a,null):o.a.createElement(R,null),label:g,height:r,underline:!1}),Boolean(d.pageviews)&&o.a.createElement(e.LabelWithIcon,{icon:o.a.createElement(L.a,null),label:m,height:r,underline:!1}),u&&o.a.createElement(e.LabelWithIcon,{icon:o.a.createElement(F.a,null),label:d.contributors,height:r,onClick:b.open}),!c&&o.a.createElement(e.Pyong,{pyongableType:"songs",pyongableId:n,height:r})))};B.defaultProps={iconHeight:"1em",showReleaseDate:!1,hidePyongButton:!1};var V=o.a.memo(B);B.Container=c.f.div.withConfig({displayName:"MetadataStats__Container",componentId:"sc-1t7d8ac-0"})(["display:flex;column-gap:",";align-items:center;svg{fill:",";}"],(function(e){return e.theme.space.full}),(function(e){return e.theme.color.background.on})),B.ReleaseDate=c.f.div.withConfig({displayName:"MetadataStats__ReleaseDate",componentId:"sc-1t7d8ac-1"})(["font-size:",";"],(function(e){return e.theme.fontSize.reading})),B.Label=c.f.p.withConfig({displayName:"MetadataStats__Label",componentId:"sc-1t7d8ac-2"})(["display:block;line-height:1.2;font-size:",";color:",";"],(function(e){return e.theme.fontSize.smallReading}),(function(e){return e.theme.color.background.on})),B.LabelWithIcon=Object(c.f)((function(e){return o.a.createElement(T.a,e)})).withConfig({displayName:"MetadataStats__LabelWithIcon",componentId:"sc-1t7d8ac-3"})(["text-transform:capitalize;svg{height:",";}"],(function(e){return e.height})),B.Pyong=Object(c.f)((function(e){return o.a.createElement(u.a,e)})).withConfig({displayName:"MetadataStats__Pyong",componentId:"sc-1t7d8ac-4"})([""," svg{height:",";}"],T.a,(function(e){return e.height}));var H=n(636),q=n(601),W=n(9),U=n(986),$=n(225),Q=n(616),G=n(382),Y=function e(t){var n=t.iqEarners;return o.a.createElement(e.List,null,n.map((function(t,n){return o.a.createElement(e.ListItem,{key:t.user},o.a.createElement(e.Rank,null,n+1),o.a.createElement(G.a,{id:t.user,avatarSize:18}),o.a.createElement(e.AttributionValue,null,Math.round(t.attributionValue)))})))},K=Y;Y.List=c.f.ol.withConfig({displayName:"IqEarnersList__List",componentId:"sc-1ys0fvq-0"})([""]),Y.ListItem=c.f.li.withConfig({displayName:"IqEarnersList__ListItem",componentId:"sc-1ys0fvq-1"})(["position:relative;display:flex;align-items:center;justify-content:space-between;padding:"," ",";&:not(:last-child){border-bottom:1px solid ",";}"],(function(e){return e.theme.space.half}),(function(e){return e.theme.space.small}),(function(e){return e.theme.color.background.on})),Y.Rank=c.f.span.withConfig({displayName:"IqEarnersList__Rank",componentId:"sc-1ys0fvq-2"})(["font-size:",";font-weight:",";margin-right:",";width:calc("," * 1.5);"],(function(e){return e.theme.fontSize.smallReading}),(function(e){return e.theme.fontWeight.light}),(function(e){return e.theme.space.small}),(function(e){return e.theme.fontSize.smallReading})),Y.AttributionValue=c.f.span.withConfig({displayName:"IqEarnersList__AttributionValue",componentId:"sc-1ys0fvq-3"})(["font-size:",";font-weight:",";flex-grow:1;text-align:right;"],(function(e){return e.theme.fontSize.smallReading}),(function(e){return e.theme.fontWeight.light}));var Z=function e(t){var n=t.className,r=t.children,a=t.title;return o.a.createElement(e.Container,{className:n},o.a.createElement(e.Title,null,a),r)},X=Z;Z.Container=c.f.section.withConfig({displayName:"ContributionsScholarSection__Container",componentId:"sc-1gh8ncy-0"})([""]),Z.Title=c.f.h3.withConfig({displayName:"ContributionsScholarSection__Title",componentId:"sc-1gh8ncy-1"})(["font-size:",";font-weight:",";margin-bottom:",";text-align:center;"],(function(e){return e.theme.fontSize.smallReading}),(function(e){return e.theme.fontWeight.light}),(function(e){return e.theme.space.full}));var J=function e(t){var n=t.songId,c=Object(a.d)((function(e){return e.songPage})),l=c.loadingContributors,u=c.loadingMoreIqEarners,s=c.contributors,f=void 0===s?{}:s,d=c.hasMoreIqEarners,p=c.iqEarnersNextPage,m=f.iqEarners,h=void 0===m?[]:m,g=f.iqEarnersTotal,b=f.transcribers,y=void 0===b?[]:b,v=Object(i.a)().t,O=Object(a.c)(),w=Object(k.a)({mobile:"small",desktop:"xLarge"}),_=Object(r.useCallback)((function(){O(Object(q.j)(n)),O(Object(W.T)("song:contributions_load_more",{page:p}))}),[O,p,n]);return o.a.createElement(e.Container,{paddingHorizontalKey:w},o.a.createElement(e.Title,null,v("contributions.title")),l?o.a.createElement(e.Spinner,null):o.a.createElement(o.a.Fragment,null,Boolean(y.length)&&o.a.createElement(e.Section,{title:v("contributions.transcribed_by",{count:y.length})},o.a.createElement(Q.a,{contributors:y})),Boolean(h.length)&&o.a.createElement(e.Section,{title:v("contributions.annotated_by",{count:g})},o.a.createElement(K,{iqEarners:h}),d&&o.a.createElement(e.LoadMore,{disabled:u,showLoadingSpinner:u,onClick:_},v(u?"contributions.loading":"contributions.load_cta")))))},ee=J;J.Spinner=Object(c.f)((function(e){return o.a.createElement(U.a,e)})).withConfig({displayName:"ContributionsScholars__Spinner",componentId:"sc-1ocpw4t-0"})(["margin:"," 0;"],(function(e){return e.theme.space.xxxLarge})),J.Container=c.f.div.withConfig({displayName:"ContributionsScholars__Container",componentId:"sc-1ocpw4t-1"})(["background-image:",";padding:"," ",";color:",";"],(function(e){return"linear-gradient(".concat(e.theme.color.background.main,", ").concat(e.theme.color.background.variant,")")}),(function(e){return e.theme.space.xLarge}),(function(e){return e.theme.space[e.paddingHorizontalKey]}),(function(e){return e.theme.color.background.on})),J.Title=c.f.h2.withConfig({displayName:"ContributionsScholars__Title",componentId:"sc-1ocpw4t-2"})(["font-size:",";line-height:",";margin-bottom:",";text-align:center;"],(function(e){return e.theme.fontSize.medium}),(function(e){return e.theme.lineHeight.short}),(function(e){return e.theme.space.full})),J.Section=Object(c.f)(X).withConfig({displayName:"ContributionsScholars__Section",componentId:"sc-1ocpw4t-3"})(["margin:"," 0;&:last-child{margin-bottom:0;}"],(function(e){return e.theme.space.full})),J.LoadMore=Object(c.f)((function(e){return o.a.createElement($.a,e)})).withConfig({displayName:"ContributionsScholars__LoadMore",componentId:"sc-1ocpw4t-4"})(["margin-top:",";"],(function(e){return e.theme.space.full}));var te=n(981),ne=n(95),re=n(617),oe="contributions-activity",ae=function e(t){var n=t.songId,u=Object(i.a)().t,s=Object(c.h)(),f=Object(a.c)(),d=Object(k.a)({mobile:"0",desktop:s.space.xLarge}),p=Object(r.useCallback)((function(){f(Object(ne.T)(oe))}),[f]),m=Object(r.useCallback)((function(){f(Object(W.T)("song:contributions_activity_expand"))}),[f]);return Object(r.useEffect)((function(){f(Object(ne.U)(oe))}),[f]),o.a.createElement(c.c,{theme:l.f},o.a.createElement(e.Container,{paddingHorizontal:d},o.a.createElement(e.Title,null,u("contributions.recent_activity")),o.a.createElement(re.a,{id:oe,buttonText:"More",enableAutoExpand:!1,onExpand:m},o.a.createElement(te.a,{onLoad:p,src:"/songs/".concat(n,"/activity_stream_bagon")}))))},ie=ae;ae.Container=c.f.div.withConfig({displayName:"RecentActivity__Container",componentId:"d62qa5-0"})(["background-color:",";padding:"," ",";"],(function(e){return e.theme.color.background.variant}),(function(e){return e.theme.space.xLarge}),(function(e){return e.paddingHorizontal})),ae.Title=c.f.h2.withConfig({displayName:"RecentActivity__Title",componentId:"d62qa5-1"})(["font-size:",";line-height:",";margin-bottom:",";text-align:center;"],(function(e){return e.theme.fontSize.smallHeadline}),(function(e){return e.theme.lineHeight.short}),(function(e){return e.theme.space.full}));var ce=n(987),le=function(e){var t=e.onClose,n=e.show,i=e.songId,c=Object(a.c)(),l=Object(a.d)((function(e){return e.songPage||{}})).contributors;return Object(r.useEffect)((function(){n&&!l&&c(Object(q.i)(i))}),[c,n,i,l]),o.a.createElement(ce.a,{show:n,onClose:t,position:"top"},o.a.createElement(ee,{songId:i}),o.a.createElement(ie,{songId:i}))},ue=n(309),se=n(176),fe=n.n(se),de=n(292),pe=n(618),me=n(684),he=n(45);function ge(){return ge=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ge.apply(this,arguments)}var be=/,? +/,ye=function e(t){var n=t.className,c=t.href,l=t.longBio,u=t.text,s=t.descriptionAnnotationId,f=Object(i.a)().t,d=Object(a.c)(),p=Object(S.a)(),m=Object(me.a)(),g=Object(h.a)("annotations",s).state,b=Object(r.useCallback)((function(){d(Object(ne.U)("about")),d(Object(W.T)("song:click_header_cta",{section:"about"}))}),[d]),y=l?174:90;if(!p&&m&&"needs_exegesis"===g)return o.a.createElement(pe.a,{descriptionAnnotationId:s,color:"referent.onVariant"});if("accepted"!==g)return null;if(u.length<=y)return o.a.createElement(e.Container,{className:n,isMobile:p},o.a.createElement(e.Wrapper,{isMobile:p},u));var v=fe()(u,{length:p?100:y,separator:be,omission:"… "});return o.a.createElement(e.Container,{className:n,isMobile:p},o.a.createElement(e.Wrapper,{className:n,href:c,onClick:b,isMobile:p,showDownArrowForAnchor:!1},v,o.a.createElement(e.ViewBio,null,p&&o.a.createElement("br",null),f("song_page_header.section_cta"),(null==c?void 0:c.startsWith("#"))&&o.a.createElement(o.a.Fragment,null," ",o.a.createElement(de.a,{aspectRatio:.4125,lineHeight:1.33,svg:he.a})))))},ve=o.a.memo(ye);ye.Container=c.f.div.withConfig({displayName:"HeaderBio__Container",componentId:"oaxemt-0"})(["display:flex;align-items:flex-end;@media screen and (min-width:","){width:",";}"],(function(e){return e.theme.widths.largeTextBreakpoint}),(function(e){return"calc(6 * ".concat(e.theme.grid.columnWidth," + 2 * ").concat(e.theme.grid.gap,")}")})),ye.Wrapper=Object(c.f)((function(e){return o.a.createElement(v.a,ge({underline:!1,useBackgroundColor:!0},e))})).withConfig({displayName:"HeaderBio__Wrapper",componentId:"oaxemt-1"})(["font-size:",";font-weight:",";line-height:",";text-decoration:none;color:",";width:100%;&:hover{span{text-decoration:none;}}"],(function(e){return e.isMobile?e.theme.fontSize.smallReading:e.theme.fontSize.reading}),(function(e){return e.theme.fontWeight.light}),(function(e){return e.theme.lineHeight.medium}),(function(e){return e.theme.color.background.on})),ye.ViewBio=c.f.span.withConfig({displayName:"HeaderBio__ViewBio",componentId:"oaxemt-2"})(["text-decoration:underline;white-space:nowrap;svg{fill:",";}"],(function(e){return e.theme.color.background.on})),ye.StartSongBioLink=Object(c.f)((function(e){return o.a.createElement($.a,e)})).withConfig({displayName:"HeaderBio__StartSongBioLink",componentId:"oaxemt-3"})(["width:fit-content;& svg{fill:",";}"],(function(e){return e.theme.color.background.on})),ye.IQ=c.f.span.withConfig({displayName:"HeaderBio__IQ",componentId:"oaxemt-4"})(["margin-left:",";color:",";"],(function(e){return e.theme.space.quarter}),(function(e){return e.theme.color.referent.onVariant}));var Oe=n(390),we=n(67);function _e(){return _e=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_e.apply(this,arguments)}var je=o.a.createElement("path",{d:"M41.6 38.7c0 1-.5 1.8-1.3 2.3L29.2 48a2.7 2.7 0 01-2.7 0 2.7 2.7 0 01-1.4-2.3V32.3c0-1 .6-1.9 1.4-2.3.8-.5 1.8-.5 2.7 0l11 6.4c.9.5 1.3 1.4 1.4 2.3zM64 32c0 8.7 0 9.8-.2 13.2-.1 3.4-.7 5.7-1.5 7.8-.8 2-1.9 3.9-3.7 5.6a15.7 15.7 0 01-5.6 3.7c-2 .8-4.4 1.4-7.8 1.5-3.4.2-4.5.2-13.2.2s-9.8 0-13.2-.2c-3.4-.1-5.7-.7-7.8-1.5-2-.8-3.8-1.9-5.6-3.7A15.7 15.7 0 011.7 53C.9 51 .4 48.6.2 45.2 0 41.8 0 40.7 0 32s0-9.8.2-13.2c.1-3.4.7-5.7 1.5-7.8.8-2 1.9-3.8 3.7-5.6C7 3.6 8.9 2.5 11 1.7 13 .9 15.4.4 18.8.2 22.2 0 23.3 0 32 0s9.8 0 13.2.2c3.4.1 5.7.7 7.8 1.5 2 .8 3.8 1.9 5.6 3.7 1.8 1.7 2.9 3.5 3.7 5.6.8 2 1.3 4.4 1.5 7.8.2 3.4.2 4.5.2 13.2zM45 4.8l-4-.2 6.8 12H59c-.2-1.8-.6-3-1-3.9-.6-1.6-1.4-2.9-2.6-4-1.2-1.3-2.5-2.1-4-2.8-1.3-.4-3.1-1-6.4-1.1zm-13-.2H20.7l6.8 12h15l-6.8-12H32zm-27 12h17.2L15.7 5.1a16 16 0 00-3 .8c-1.6.7-2.9 1.5-4 2.7-1.3 1.2-2.1 2.5-2.8 4.1-.3.9-.7 2-1 3.9zM59.4 32V21.2H4.6a314.8 314.8 0 000 23.8A19 19 0 006 51.3c.7 1.6 1.5 2.9 2.7 4.1 1.2 1.2 2.5 2 4 2.7 1.3.4 3.1 1 6.4 1.1 3.4.2 4.4.2 13 .2s9.6 0 13-.2a19 19 0 006.3-1.1c1.6-.7 2.9-1.5 4-2.7 1.3-1.2 2.1-2.5 2.8-4 .4-1.3 1-3.1 1.1-6.4.2-3.4.2-4.4.2-13z"}),Ee=function(e){return o.a.createElement("svg",_e({viewBox:"0 0 64 64"},e),je)},Ce=n(487),xe=n(140);function Ie(){return Ie=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ie.apply(this,arguments)}var Se=o.a.createElement("path",{d:"M10.6562 6.8625C9.8312 4.7313 7.7687 3.2875 5.5 3.2188 3.2313 3.2875 1.1688 4.7313.3437 6.8624v.2062C1.1687 9.2 3.1625 10.6438 5.5 10.7126c2.2687-.0688 4.3313-1.5125 5.1562-3.6438v-.2062ZM5.5 10.0938c-1.8563 0-3.7125-1.375-4.4688-3.0938C1.7188 5.2812 3.6437 3.9062 5.5 3.9062S9.2125 5.2813 9.9688 7C9.2125 8.7188 7.2874 10.0938 5.5 10.0938Z"}),ke=o.a.createElement("path",{d:"M5.5 4.9375c-1.1688 0-2.0625.8937-2.0625 2.0625 0 1.1687.8937 2.0625 2.0625 2.0625S7.5625 8.1687 7.5625 7c0-1.1688-.8937-2.0625-2.0625-2.0625Zm0 3.4375c-.7562 0-1.375-.6188-1.375-1.375S4.7438 5.625 5.5 5.625 6.875 6.2438 6.875 7 6.2562 8.375 5.5 8.375Z"}),Ae=o.a.createElement("path",{d:"M1.7713 10.7126 8.795 2.5929l.605.5233-7.0235 8.1197-.605-.5233Z"}),Te=function(e){return o.a.createElement("svg",Ie({viewBox:"0 2 11 10"},e),Se,ke,Ae)},Pe=400,Ne=.85,Me=.63,Re=function(e){return e.length<22?"medium":e.length<38?"smallHeadline":"xSmallHeadline"},Le=function e(t){var n=t.songId,r=t.showStats,f=t.showPyong,p=Object(i.a)().t,m=Object(h.a)("songs",n),g=m.descriptionPreview,b=m.hasInstagramReelAnnotations,y=m.hidden,v=m.primaryArtist,w=m.songArtImageUrl,_=m.title,E=m.viewableByRoles,C=m.descriptionAnnotation,x=Object(h.a)("artists",v).name,S=O(n),k=Object(Oe.a)(),T=_.length<38,P=Object(a.d)((function(e){return e.session.showAds})),N=Object(A.a)();return o.a.createElement(c.c,{theme:l.c},o.a.createElement(e.Container,null,o.a.createElement(Ce.a,null),o.a.createElement(e.Left,null,f&&o.a.createElement(e.PyongWrapper,null,o.a.createElement(u.a,{pyongableType:"songs",pyongableId:n,vertical:!0,height:k.space.large})),o.a.createElement(e.CoverArtContainer,null,o.a.createElement(e.CoverArt,null,o.a.createElement(e.SizedImage,{src:w,aspectRatio:1,imageElement:!0,alt:p("song_page_header.cover_art_alt",{title:_,artistName:x}),showPlaceholder:!1})))),o.a.createElement(e.Right,null,o.a.createElement(e.Information,null,o.a.createElement(e.SongDetails,null,o.a.createElement(e.Title,{fontSize:Re(_)},o.a.createElement(e.HiddenMask,{hiddenSong:y},_),y&&o.a.createElement(s.a,{xAdjustment:"3px",yAdjustment:"-6px",content:o.a.createElement(d,{viewableByRoles:E})},o.a.createElement(e.HiddenMask,{hiddenSong:y},o.a.createElement(e.Hidden,{aspectRatio:1,lineHeight:.5,svg:Te,verticalAlign:"1px"}))),b&&o.a.createElement(e.InstagramReelsIcon,{aspectRatio:1,lineHeight:1,svg:Ee})),o.a.createElement(j,{songId:n}),o.a.createElement(I,{songId:n})),o.a.createElement(e.Bottom,null,o.a.createElement(e.HeaderBio,{href:"".concat(S,"#about"),text:g,longBio:T,descriptionAnnotationId:C}),r&&o.a.createElement(V,{songId:n,hidePyongButton:!0,showReleaseDate:!0}))),P&&o.a.createElement(e.PrimisContainer,null,o.a.createElement(H.a,{name:"primis_desktop_song_player",placement:"header"})))),o.a.createElement(le,{show:N.isVisible,songId:n,onClose:N.close}))};Le.defaultProps={showStats:!0,showPyong:!0};t.a=o.a.memo(Le);Le.Container=Object(c.f)((function(e){return o.a.createElement(ue.a,e)})).withConfig({displayName:"SongHeaderdesktop__Container",componentId:"sc-1effuo1-0"})([""," background-image:",";padding-top:",";padding-bottom:",";position:relative;color:",";"],Object(we.a)("songHeader"),(function(e){return"linear-gradient(".concat(e.theme.color.background.main,", ").concat(e.theme.color.background.variant,")")}),(function(e){return e.theme.space.small}),(function(e){return e.theme.space.xLarge}),(function(e){return e.theme.color.background.on})),Le.Left=c.f.div.withConfig({displayName:"SongHeaderdesktop__Left",componentId:"sc-1effuo1-1"})(["width:100%;height:100%;position:relative;grid-column:header-left-start / header-left-end;display:flex;flex-direction:column;justify-content:space-between;@media screen and (min-width:","){margin-bottom:-",";}"],(function(e){return e.theme.widths.largeTextBreakpoint}),(function(e){return e.theme.space.xxxLarge})),Le.Right=c.f.div.withConfig({displayName:"SongHeaderdesktop__Right",componentId:"sc-1effuo1-2"})(["grid-column:header-right-start / header-right-end;display:flex;justify-content:space-between;"]),Le.Bottom=c.f.div.withConfig({displayName:"SongHeaderdesktop__Bottom",componentId:"sc-1effuo1-3"})(["display:flex;flex-direction:column;row-gap:",";"],(function(e){return e.theme.space.full})),Le.Information=c.f.div.withConfig({displayName:"SongHeaderdesktop__Information",componentId:"sc-1effuo1-4"})(["display:flex;flex-direction:column;justify-content:space-between;max-width:32rem;width:100%;row-gap:",";"],(function(e){return e.theme.space.full})),Le.SongDetails=c.f.div.withConfig({displayName:"SongHeaderdesktop__SongDetails",componentId:"sc-1effuo1-5"})(["display:flex;flex-direction:column;row-gap:",";"],(function(e){return e.theme.space.half})),Le.CoverArtContainer=c.f.div.withConfig({displayName:"SongHeaderdesktop__CoverArtContainer",componentId:"sc-1effuo1-6"})(["align-self:flex-end;width:100%;@media screen and (min-width:","){max-height:",";}"],(function(e){return e.theme.widths.largeTextBreakpoint}),(function(e){return"calc(100% + ".concat(e.theme.space.small,")")})),Le.CoverArt=c.f.div.withConfig({displayName:"SongHeaderdesktop__CoverArt",componentId:"sc-1effuo1-7"})(["line-height:0;img{display:inline-block;box-shadow:",";}"],(function(e){return"0 0 ".concat(e.theme.space.small," 0 rgba(0, 0, 0, 0.05)")})),Le.Title=c.f.h1.withConfig({displayName:"SongHeaderdesktop__Title",componentId:"sc-1effuo1-8"})(["display:flex;font-size:",";font-weight:",";font-feature-settings:",";color:",";line-height:",";word-wrap:break-word;"],(function(e){return e.theme.fontSize[e.fontSize]}),(function(e){return e.theme.fontWeight.normal}),(function(e){return e.theme.font.programmeAlternates}),(function(e){return e.theme.color.background.on}),(function(e){return e.theme.lineHeight.short})),Le.InstagramReelsIcon=Object(c.f)((function(e){return o.a.createElement(de.a,e)})).withConfig({displayName:"SongHeaderdesktop__InstagramReelsIcon",componentId:"sc-1effuo1-9"})(["margin-left:",";svg{vertical-align:-5px !important;fill:currentColor;}"],(function(e){return e.theme.space.half})),Le.Hidden=Object(c.f)((function(e){return o.a.createElement(de.a,e)})).withConfig({displayName:"SongHeaderdesktop__Hidden",componentId:"sc-1effuo1-10"})(["margin-left:",";svg{fill:currentColor;}"],(function(e){return e.theme.space.half})),Le.HiddenMask=c.f.span.withConfig({displayName:"SongHeaderdesktop__HiddenMask",componentId:"sc-1effuo1-11"})(["opacity:",";"],(function(e){return e.hiddenSong?.6:1})),Le.PyongWrapper=c.f.div.withConfig({displayName:"SongHeaderdesktop__PyongWrapper",componentId:"sc-1effuo1-12"})(["position:absolute;right:calc(100% + ",");top:",";"],(function(e){return e.theme.space.full}),(function(e){return e.theme.space.small})),Le.SizedImage=Object(c.f)((function(e){return o.a.createElement(xe.a,e)})).withConfig({displayName:"SongHeaderdesktop__SizedImage",componentId:"sc-1effuo1-13"})(["height:100%;width:100%;@media screen and (min-width:","){height:","px;width:","px;}@media screen and (min-width:","){height:","px;width:","px;}"],(function(e){return e.theme.widths.fixedWidthBreakpoint}),Pe*Me,Pe*Me,(function(e){return e.theme.widths.largeTextBreakpoint}),Pe*Ne,Pe*Ne),Le.HeaderBio=Object(c.f)((function(e){return o.a.createElement(ve,e)})).withConfig({displayName:"SongHeaderdesktop__HeaderBio",componentId:"sc-1effuo1-14"})(["width:100%;"]),Le.PrimisContainer=c.f.div.withConfig({displayName:"SongHeaderdesktop__PrimisContainer",componentId:"sc-1effuo1-15"})(["max-width:","px;height:calc((","px / ",") + ","px + ","px);width:","px;min-width:","px;margin-left:",";"],Pe,Pe,16/9,59,7,Pe,Pe,(function(e){return e.theme.space.xLarge}))},,function(e,t,n){"use strict";var r=n(5),o=n.n(r),a=n(0),i=n.n(a),c=(n(3),n(1)),l=n(2),u=n(44),s=n.n(u),f=n(13),d=n(4),p=n(27),m=n(57);function h(e,t,n,r,o,a,i){try{var c=e[a](i),l=c.value}catch(e){return void n(e)}c.done?t(l):Promise.resolve(l).then(r,o)}function g(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){h(a,r,o,i,c,"next",e)}function c(e){h(a,r,o,i,c,"throw",e)}i(void 0)}))}}function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach((function(t){w(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function v(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function O(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function w(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var _=function(){function e(t){var n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=r.baseTargeting,a=void 0===o?{}:o,i=r.disablePrebid,c=void 0!==i&&i;v(this,e),w(this,"getPrimisTargeting",(function(){if(!n.firstAuctionStarted||n.disablePrebid)return n.baseTargeting;var e=n.invalidateBid();return e?Object(p.a)("ads.primis_targeting.with_bid",{source:n.name}):Object(p.a)("ads.primis_targeting.without_bid",{source:n.name}),n.cacheNewBid({reason:"get_targeting"}),y(y({},n.baseTargeting),e)})),this.name=t,this.targetingFromReact=a,this.baseTargeting=a,this.disablePrebid=c,this.currentlyCachedBid=null,this.firstAuctionStarted=!1,this.bidInProgress=!1,this.index=0}var t,n,r,a,i;return t=e,n=[{key:"fetchBaseTargeting",value:(i=g(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=y,e.t1=y({},this.targetingFromReact),e.next=4,Object(m.d)(this.name);case 4:e.t2=e.sent,this.baseTargeting=(0,e.t0)(e.t1,e.t2);case 6:case"end":return e.stop()}}),e,this)}))),function(){return i.apply(this,arguments)})},{key:"auctionStart",value:function(){this.firstAuctionStarted=!0,this.cacheNewBid({reason:"auction_start"})}},{key:"cacheNewBid",value:(a=g(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.reason,!this.disablePrebid){e.next=3;break}return e.abrupt("return");case 3:if(!this.bidInProgress){e.next=7;break}Object(p.a)("ads.primis_".concat(n,".bid_in_progress"),{source:this.name}),e.next=20;break;case 7:if(this.currentlyCachedBid){e.next=19;break}return Object(p.a)("ads.primis_".concat(n,".fetch_new_bid"),{source:this.name}),this.bidInProgress=!0,e.prev=10,e.next=13,Object(m.c)(this.name,this.index++);case 13:this.currentlyCachedBid=e.sent;case 14:return e.prev=14,this.bidInProgress=!1,e.finish(14);case 17:e.next=20;break;case 19:Object(p.a)("ads.primis_".concat(n,".use_cached_bid"),{source:this.name});case 20:case"end":return e.stop()}}),e,this,[[10,,14,17]])}))),function(e){return a.apply(this,arguments)})},{key:"invalidateBid",value:function(){var e=this.currentlyCachedBid;return this.currentlyCachedBid=null,e}}],n&&O(t.prototype,n),r&&O(t,r),e}();function j(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,a=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){c=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(c)throw o}}return a}(e,t)||E(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function E(e,t){if(e){if("string"==typeof e)return C(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?C(e,t):void 0}}function C(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var x=0,I=function(e){var t=Object(a.useRef)();t.current||(t.current="geniusPrimisPlayer".concat(x++));var n=Object(a.useRef)(),r=Object(a.useRef)({});Object(a.useEffect)((function(){var e=function(e){var o=e.detail;o.playerApiId===t.current&&(n.current=o,Object.entries(r.current).forEach((function(e){var t=j(e,2),n=t[0],r=t[1];r.registeredObject||(r.registeredObject=o.addEventListener(n,r.handler))})))};return window.addEventListener("primisPlayerInit",e),function(){window.removeEventListener("primisPlayerInit",e),n.current&&(Object.values(r.current).forEach((function(e){e.registeredObject&&(n.current.removeEventListener(e.registeredObject),e.registeredObject=null)})),n.current=null)}}),[]);for(var o=new Set(Object.keys(e)),i=0,c=Object.entries(r.current);i<c.length;i++){var l=j(c[i],2),u=l[0],s=l[1],f=s.handler,d=s.registeredObject;e[u]!==f?n.current&&n.current.removeEventListener(d):o.delete(u)}var p,m=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=E(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){c=!0,a=e},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw a}}}}(o);try{for(m.s();!(p=m.n()).done;){var h=p.value,g=void 0;n.current&&(g=n.current.addEventListener(h,e[h])),r.current[h]={handler:e[h],registeredObject:g}}}catch(e){m.e(e)}finally{m.f()}return t.current},S=n(381),k=n(66);function A(e,t,n,r,o,a,i){try{var c=e[a](i),l=c.value}catch(e){return void n(e)}c.done?t(l):Promise.resolve(l).then(r,o)}function T(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,a=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){c=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(c)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return P(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return P(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function P(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var N={header:{desktop:{control:"112411",primis:"112329",assembly:"112410"}},inread:{desktop:{control:"102664",primis:"112035",assembly:"112037"},mobile:{control:"109112",primis:"112035",assembly:"112037"}}},M=function(e,t,n){var r=document.createElement("script");r.src="https://live.primis.tech/live/liveView.php?s=".concat(t,"&playerApiId=").concat(n),e.appendChild(r)},R=s()((function(){var e=Math.random()<f.a.primisDemandTestFraction,t=document.location.search.match(/demand_test=(\w+)/);return t?t[1]:e?Math.random()<.5?"control":"assembly":"primis"})),L=function e(t){var n=t.className,r=t.name,c=t.hidden,u=t.placement,s=Object(l.c)(),f=Object(l.d)((function(e){return e.deviceType})),p=Object(a.useRef)(!1);Object(a.useEffect)((function(){if("desktop"===f&&"inread"===u){var e=document.createElement("div");e.id="primis-reparent-container",document.body.appendChild(e);var t=new MutationObserver((function(t){var n=T(t,1)[0].target;"fixed"!==n.style.position||p.current?"fixed"!==n.style.position&&p.current&&(document.getElementById("primis_container_div").appendChild(n),p.current=!1):(e.appendChild(n),p.current=!0)})),n='#primis_container_div > [id^="primis_player"]';return Object(d.s)((function(){return null!==document.querySelector(n)})).then((function(){t.observe(document.querySelector(n),{attributes:!0,attributeFilter:["style"]})})),function(){t.disconnect(),document.body.removeChild(e)}}}),[f,u]);var m=Object(a.useRef)(),h=I({floatStatusChange:Object(a.useCallback)((function(e){s(Object(k.g)(1!==e))}),[s]),auctionStart:Object(a.useCallback)((function(){m.current.auctionStart()}),[])}),g=Object(a.useCallback)(function(){var e,t=(e=o.a.mark((function e(t){var n,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===t){e.next=8;break}return n=R(),a=N[u][f][n],m.current=new _(r,{baseTargeting:{primis_demand_test:n},disablePrebid:"primis"===n}),e.next=6,Promise.all([m.current.fetchBaseTargeting(),m.current.cacheNewBid({reason:"initial_bid"})]);case 6:window.getPrimisTargeting=m.current.getPrimisTargeting,M(t,a,h);case 8:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){A(a,r,o,i,c,"next",e)}function c(e){A(a,r,o,i,c,"throw",e)}i(void 0)}))});return function(e){return t.apply(this,arguments)}}(),[r,h,f,u]);return"mobile"===f?i.a.createElement(e.InreadContainer,{className:n,hidden:c},i.a.createElement(e.Container,{ref:g})):i.a.createElement(e.Container,{className:n,ref:g})};L.defaultProps={hidden:!1,placement:"inread"};t.a=i.a.memo(L);L.InreadContainer=Object(c.f)(S.a).withConfig({displayName:"PrimisPlayer__InreadContainer",componentId:"sc-1tvdtf7-0"})(["min-height:calc((100vw - ("," * 2)) * ",");& .primisslate{max-width:",";margin:0 auto;}"],(function(e){return e.theme.grid.gap}),.8,(function(e){return"calc((".concat(e.theme.grid.columnWidth," * 7) + (").concat(e.theme.grid.gap," * 6))")})),L.Container=c.f.div.withConfig({displayName:"PrimisPlayer__Container",componentId:"sc-1tvdtf7-1"})(["width:100%;"])},function(e,t,n){"use strict";var r=n(0),o=n.n(r),a=(n(3),n(1)),i=n(2),c=n(21),l=n(96),u=n(7),s=n.n(u),f=n(22),d=n(611),p=n(612),m=n(684),h=n(228),g=n(1005),b=n(84),y=n(123),v=n(389),O=n(610),w=n(488),_=n(412),j=n(190),E=n(613),C=n(609),x=n(67),I=n(69),S=n(51),k=n(4);function A(){return A=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},A.apply(this,arguments)}var T=o.a.createElement("path",{d:"M0 7l6.16-7 3.3 7H6.89S5.5 12.1 5.5 12.17h5.87L6.09 22l.66-7H.88l2.89-8z"}),P=function(e){return o.a.createElement("svg",A({viewBox:"0 0 11.37 22"},e),T)};function N(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,a=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){c=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(c)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return M(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return M(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function M(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var R=function e(t){var n=t.className,u=t.pyongableId,j=t.pyongableType,x=t.height,A=t.onLoggedOutPyongAttempt,T=t.vertical,M=Object(i.c)(),R=Object(l.a)().t,L=Object(m.a)(),D=Object(h.a)(),F=Object(g.a)(),z=Object(b.a)(j,u),B=Object(y.a)("song:pyong",{pyongableType:j,pyongableId:u}),V=N(Object(r.useState)(!1),2),H=V[0],q=V[1],W=Object(r.useCallback)((function(){return q(!1)}),[]),U=Object(r.useRef)(null);Object(v.a)({element:U,onClickOutside:W});var $=Object(r.useCallback)((function(){G?(M(Object(C.d)({pyongableType:j,pyongableId:u},{optimisticOnSuccess:function(){return q(!0)}})),B()):M(Object(C.f)({pyongableType:j,pyongableId:u}))}),[M,j,u,B,G]),Q=s()(z,"currentUserMetadata.interactions.pyong",!1),G=Object(k.f)("create_pyong_with_note",F),Y=Object(r.useCallback)((function(e){Q||(!L&&A?A():!L||D?Object(I.c)(e):$())}),[Q,L,D,$,A]),K=Object(O.a)("success",R("pyong.pyong_note_success")),Z=Object(y.a)("song:pyong_note",{pyongableType:j,pyongableId:u}),X=Object(r.useCallback)((function(){W(),K(),Z()}),[W,K,Z]),J=Object(w.a)({submitAction:C.e,extraValues:{pyongableId:u,pyongableType:j},useFormOptions:{mode:"onChange"},onSuccess:X}),ee=J.methods,te=J.onSubmit,ne=J.isSubmitting,re=Object(r.useCallback)((function(){W(),M(Object(C.e)({pyongableId:u,pyongableType:j,pyongNote:null}))}),[M,u,j,W]),oe=o.a.createElement(a.c,{theme:f.f},o.a.createElement(c.b,ee,o.a.createElement(e.Form,{onSubmit:te,ref:U,vertical:T},o.a.createElement(d.a,{name:"pyongNote",rules:{maxLength:Object(S.a)(250),required:{value:!0,message:R("pyong.form.pyong_note.required")}},defaultValue:"",hideLabel:!0},o.a.createElement(p.a,{placeholder:R("pyong.form.pyong_note.placeholder")})),o.a.createElement("div",null,o.a.createElement(e.Button,{type:"submit",disabled:ne,isLoading:ne},R("pyong.form.".concat(ne?"submitting":"submit"))),!ne&&o.a.createElement(e.Button,{onClick:re,secondary:!0},R("pyong.form.cancel")))))),ae=!H&&!D,ie=ae?E.a:e.Flex,ce=ae?{width:"12rem",position:T?"right":"bottom",content:o.a.createElement(e.Tooltip,null,R("pyong.tooltip.".concat(Q?"has_pyonged":"new_pyong")))}:{};return o.a.createElement(e.Container,{className:n},o.a.createElement(ie,ce,o.a.createElement(_.a,{icon:o.a.createElement(P,null),label:z.pyongsCount,showZero:!1,underline:!1,onClick:Y,height:x,vertical:T})),H&&oe)};R.defaultProps={height:"1em",vertical:!1};t.a=o.a.memo(R);R.Container=a.f.div.withConfig({displayName:"Pyong__Container",componentId:"yq95kq-0"})(["position:relative;"]),R.Flex=a.f.div.withConfig({displayName:"Pyong__Flex",componentId:"yq95kq-1"})(["height:100%;display:flex;"]),R.Tooltip=a.f.span.withConfig({displayName:"Pyong__Tooltip",componentId:"yq95kq-2"})(["color:black !important;"]),R.Form=a.f.form.withConfig({displayName:"Pyong__Form",componentId:"yq95kq-3"})(["display:grid;text-align:center;background:white;border:1px solid black;"," position:absolute;"," padding:",";padding-bottom:",";textarea{border:1px solid black;color:black;width:17rem;&::placeholder{color:rgba(0,0,0,.5);}}",""],(function(e){return e.vertical?Object(a.e)(["top:3rem;left:0;"]):Object(a.e)(["top:2rem;left:-6rem;"])}),Object(x.a)("tooltip"),(function(e){return e.theme.space.full}),(function(e){return e.theme.space.half}),(function(e){return!e.vertical&&Object(a.e)(["@media screen and (min-width:","){left:-8rem;}"],e.theme.widths.largeTextBreakpoint)})),R.Button=Object(a.f)((function(e){return o.a.createElement(j.a,e)})).withConfig({displayName:"Pyong__Button",componentId:"yq95kq-4"})(["display:inline-flex;margin:",";&:hover{mix-blend-mode:unset;}"],(function(e){return e.theme.space.half}))},,,,,,,,,,,,function(e,t,n){!function(){"use strict";e.exports={polyfill:function(){var e=window,t=document;if(!("scrollBehavior"in t.documentElement.style)||!0===e.__forceSmoothScrollPolyfill__){var n,r=e.HTMLElement||e.Element,o={scroll:e.scroll||e.scrollTo,scrollBy:e.scrollBy,elementScroll:r.prototype.scroll||c,scrollIntoView:r.prototype.scrollIntoView},a=e.performance&&e.performance.now?e.performance.now.bind(e.performance):Date.now,i=(n=e.navigator.userAgent,new RegExp(["MSIE ","Trident/","Edge/"].join("|")).test(n)?1:0);e.scroll=e.scrollTo=function(){void 0!==arguments[0]&&(!0!==l(arguments[0])?m.call(e,t.body,void 0!==arguments[0].left?~~arguments[0].left:e.scrollX||e.pageXOffset,void 0!==arguments[0].top?~~arguments[0].top:e.scrollY||e.pageYOffset):o.scroll.call(e,void 0!==arguments[0].left?arguments[0].left:"object"!=typeof arguments[0]?arguments[0]:e.scrollX||e.pageXOffset,void 0!==arguments[0].top?arguments[0].top:void 0!==arguments[1]?arguments[1]:e.scrollY||e.pageYOffset))},e.scrollBy=function(){void 0!==arguments[0]&&(l(arguments[0])?o.scrollBy.call(e,void 0!==arguments[0].left?arguments[0].left:"object"!=typeof arguments[0]?arguments[0]:0,void 0!==arguments[0].top?arguments[0].top:void 0!==arguments[1]?arguments[1]:0):m.call(e,t.body,~~arguments[0].left+(e.scrollX||e.pageXOffset),~~arguments[0].top+(e.scrollY||e.pageYOffset)))},r.prototype.scroll=r.prototype.scrollTo=function(){if(void 0!==arguments[0])if(!0!==l(arguments[0])){var e=arguments[0].left,t=arguments[0].top;m.call(this,this,void 0===e?this.scrollLeft:~~e,void 0===t?this.scrollTop:~~t)}else{if("number"==typeof arguments[0]&&void 0===arguments[1])throw new SyntaxError("Value could not be converted");o.elementScroll.call(this,void 0!==arguments[0].left?~~arguments[0].left:"object"!=typeof arguments[0]?~~arguments[0]:this.scrollLeft,void 0!==arguments[0].top?~~arguments[0].top:void 0!==arguments[1]?~~arguments[1]:this.scrollTop)}},r.prototype.scrollBy=function(){void 0!==arguments[0]&&(!0!==l(arguments[0])?this.scroll({left:~~arguments[0].left+this.scrollLeft,top:~~arguments[0].top+this.scrollTop,behavior:arguments[0].behavior}):o.elementScroll.call(this,void 0!==arguments[0].left?~~arguments[0].left+this.scrollLeft:~~arguments[0]+this.scrollLeft,void 0!==arguments[0].top?~~arguments[0].top+this.scrollTop:~~arguments[1]+this.scrollTop))},r.prototype.scrollIntoView=function(){if(!0!==l(arguments[0])){var n=d(this),r=n.getBoundingClientRect(),a=this.getBoundingClientRect();n!==t.body?(m.call(this,n,n.scrollLeft+a.left-r.left,n.scrollTop+a.top-r.top),"fixed"!==e.getComputedStyle(n).position&&e.scrollBy({left:r.left,top:r.top,behavior:"smooth"})):e.scrollBy({left:a.left,top:a.top,behavior:"smooth"})}else o.scrollIntoView.call(this,void 0===arguments[0]||arguments[0])}}function c(e,t){this.scrollLeft=e,this.scrollTop=t}function l(e){if(null===e||"object"!=typeof e||void 0===e.behavior||"auto"===e.behavior||"instant"===e.behavior)return!0;if("object"==typeof e&&"smooth"===e.behavior)return!1;throw new TypeError("behavior member of ScrollOptions "+e.behavior+" is not a valid value for enumeration ScrollBehavior.")}function u(e,t){return"Y"===t?e.clientHeight+i<e.scrollHeight:"X"===t?e.clientWidth+i<e.scrollWidth:void 0}function s(t,n){var r=e.getComputedStyle(t,null)["overflow"+n];return"auto"===r||"scroll"===r}function f(e){var t=u(e,"Y")&&s(e,"Y"),n=u(e,"X")&&s(e,"X");return t||n}function d(e){for(;e!==t.body&&!1===f(e);)e=e.parentNode||e.host;return e}function p(t){var n,r,o,i,c=(a()-t.startTime)/468;i=c=c>1?1:c,n=.5*(1-Math.cos(Math.PI*i)),r=t.startX+(t.x-t.startX)*n,o=t.startY+(t.y-t.startY)*n,t.method.call(t.scrollable,r,o),r===t.x&&o===t.y||e.requestAnimationFrame(p.bind(e,t))}function m(n,r,i){var l,u,s,f,d=a();n===t.body?(l=e,u=e.scrollX||e.pageXOffset,s=e.scrollY||e.pageYOffset,f=o.scroll):(l=n,u=n.scrollLeft,s=n.scrollTop,f=c),p({scrollable:l,method:f,startTime:d,startX:u,startY:s,x:r,y:i})}}}}()},,,,function(e,t){function n(t){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?(e.exports=n=function(e){return typeof e},e.exports.default=e.exports,e.exports.__esModule=!0):(e.exports=n=function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.default=e.exports,e.exports.__esModule=!0),n(t)}e.exports=n,e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,n){var r=n(207),o=n(80),a=n(913),i=n(141),c=n(99),l=o((function(e){var t=c(e);return t="function"==typeof t?t:void 0,a(r(e,i),void 0,t)}));e.exports=l},function(e,t,n){var r=n(164),o=n(192),a=n(80),i=n(141),c=a((function(e,t){return i(e)?r(e,o(t,1,i,!0)):[]}));e.exports=c},function(e,t,n){var r=n(502),o=n(41),a=n(916);e.exports=function(e,t){return e&&e.length?r(e,o(t,2),a):void 0}},function(e,t,n){var r=n(64),o=n(78);e.exports=function(e,t,n){var a=!0,i=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return o(n)&&(a="leading"in n?!!n.leading:a,i="trailing"in n?!!n.trailing:i),r(e,t,{leading:a,maxWait:t,trailing:i})}},function(e,t,n){var r=n(97),o=n(918),a=/&(?:amp|lt|gt|quot|#39);/g,i=RegExp(a.source);e.exports=function(e){return(e=r(e))&&i.test(e)?e.replace(a,o):e}},function(e,t,n){var r=n(60),o=n(920),a=n(503),i=n(414),c=n(209),l=n(236),u=c((function(e,t){var n=null==e?0:e.length,c=o(e,t);return a(e,r(t,(function(e){return l(e,n)?+e:e})).sort(i)),c}));e.exports=u},function(e,t,n){var r=n(921),o=n(216),a=n(88),i=n(97),c=Math.ceil,l=Math.floor;e.exports=function(e,t,n){e=i(e);var u=(t=a(t))?o(e):0;if(!t||u>=t)return e;var s=(t-u)/2;return r(l(s),n)+e+r(c(s),n)}},function(e,t,n){var r=n(204),o=n(232),a=n(147),i=n(148),c=n(239),l=n(234),u=n(97);e.exports=function(e,t,n){return n&&"number"!=typeof n&&i(e,t,n)&&(t=n=void 0),(n=void 0===n?4294967295:n>>>0)?(e=u(e))&&("string"==typeof t||null!=t&&!c(t))&&!(t=r(t))&&a(e)?o(l(e),0,n):e.split(t,n):[]}},function(e,t,n){var r=n(233),o=n(148),a=n(88);e.exports=function(e,t,n){var i=null==e?0:e.length;return i?(n&&"number"!=typeof n&&o(e,t,n)?(t=0,n=i):(t=null==t?0:a(t),n=void 0===n?i:a(n)),r(e,t,n)):[]}},function(e,t){var n=Array.prototype.join;e.exports=function(e,t){return null==e?"":n.call(e,t)}},function(e,t,n){var r;!function(){"use strict";var n={}.hasOwnProperty;function o(){for(var e=[],t=0;t<arguments.length;t++){var r=arguments[t];if(r){var a=typeof r;if("string"===a||"number"===a)e.push(r);else if(Array.isArray(r))e.push(o.apply(null,r));else if("object"===a)for(var i in r)n.call(r,i)&&r[i]&&e.push(i)}}return e.join(" ")}e.exports?e.exports=o:void 0===(r=function(){return o}.apply(t,[]))||(e.exports=r)}()},function(e,t){var n=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'],r=n.join(","),o="undefined"==typeof Element?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector;function a(e,t){t=t||{};var n,a,c,l=[],f=[],d=e.querySelectorAll(r);for(t.includeContainer&&o.call(e,r)&&(d=Array.prototype.slice.apply(d)).unshift(e),n=0;n<d.length;n++)i(a=d[n])&&(0===(c=u(a))?l.push(a):f.push({documentOrder:n,tabIndex:c,node:a}));return f.sort(s).map((function(e){return e.node})).concat(l)}function i(e){return!(!c(e)||function(e){return function(e){return f(e)&&"radio"===e.type}(e)&&!function(e){if(!e.name)return!0;var t=function(e){for(var t=0;t<e.length;t++)if(e[t].checked)return e[t]}(e.ownerDocument.querySelectorAll('input[type="radio"][name="'+e.name+'"]'));return!t||t===e}(e)}(e)||u(e)<0)}function c(e){return!(e.disabled||function(e){return f(e)&&"hidden"===e.type}(e)||function(e){return null===e.offsetParent||"hidden"===getComputedStyle(e).visibility}(e))}a.isTabbable=function(e){if(!e)throw new Error("No node provided");return!1!==o.call(e,r)&&i(e)},a.isFocusable=function(e){if(!e)throw new Error("No node provided");return!1!==o.call(e,l)&&c(e)};var l=n.concat("iframe").join(",");function u(e){var t=parseInt(e.getAttribute("tabindex"),10);return isNaN(t)?function(e){return"true"===e.contentEditable}(e)?0:e.tabIndex:t}function s(e,t){return e.tabIndex===t.tabIndex?e.documentOrder-t.documentOrder:e.tabIndex-t.tabIndex}function f(e){return"INPUT"===e.tagName}e.exports=a},function(e,t,n){var r=n(580),o=n(415),a=n(88),i=4294967295,c=Math.min;e.exports=function(e,t){if((e=a(e))<1||e>9007199254740991)return[];var n=i,l=c(e,i);t=o(t),e-=i;for(var u=r(l,t);++n<e;)t(n);return u}},function(e,t,n){var r=n(327)((function(e,t,n){return e+(n?" ":"")+t.toLowerCase()}));e.exports=r},function(e,t){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},n.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/dist/",n(n.s=1)}([function(e,t,n){"use strict";n.r(t);var r=0,o=1,a=2,i=3,c=4;class l{constructor(e,t,n){this.startInOld=e,this.startInNew=t,this.size=n}get endInOld(){return this.startInOld+this.size}get endInNew(){return this.startInNew+this.size}}class u{constructor(){this.blockSize=0,this.repeatingWordsAccuracy=0,this.ignoreWhitespaceDifferences=!1}}const s=/^\s*<\/?[^>]+>\s*$/,f=/<[^\s>]+/,d=/^(\s|&nbsp;)+$/,p=/[\w\#@]+/,m=["<img"];function h(e){return!m.some((t=>null!==e&&e.startsWith(t)))&&s.test(e)}function g(e,t,n){return["<",t,' class="',n,'">',e,"</",t,">"].join("")}function b(e){return"<"===e}function y(e){return"&"===e}function v(e){return";"===e}function O(e){return d.test(e)}function w(e){return p.test(e)}function _(e,t,n){return e.push(t),e.length>n&&e.shift(),e.length!==n?null:e.join("")}class j{constructor(e,t,n,r,o,a,i){this.oldWords=e,this.newWords=t,this.startInOld=n,this.endInOld=r,this.startInNew=o,this.endInNew=a,this.options=i}indexNewWords(){this.wordIndices=new Map;let e=[];for(let t=this.startInNew;t<this.endInNew;t++){let n=_(e,this.normalizeForIndex(this.newWords[t]),this.options.blockSize);null!==n&&(this.wordIndices.has(n)?this.wordIndices.get(n).push(t):this.wordIndices.set(n,[t]))}}normalizeForIndex(e){return e=function(e){return h(e)?function(e){return f.exec(e)[0]+(e.endsWith("/>")?"/>":">")}(e):e}(e),this.options.IgnoreWhiteSpaceDifferences&&O(e)?" ":e}findMatch(){if(this.indexNewWords(),this.removeRepeatingWords(),0===this.wordIndices.length)return null;let e=this.startInOld,t=this.startInNew,n=0,r=new Map;const o=this.options.blockSize;let a=[];for(let i=this.startInOld;i<this.endInOld;i++){let c=_(a,this.normalizeForIndex(this.oldWords[i]),o);if(null===c)continue;let l=new Map;if(this.wordIndices.has(c)){for(let a of this.wordIndices.get(c)){let c=(r.has(a-1)?r.get(a-1):0)+1;l.set(a,c),c>n&&(e=i-c-o+2,t=a-c-o+2,n=c)}r=l}else r=l}return 0!==n?new l(e,t,n+o-1):null}removeRepeatingWords(){let e=this.newWords.length+this.options.repeatingWordsAccuracy,t=Array.from(this.wordIndices.entries()).filter((t=>t[1].length>e)).map((e=>e[0]));for(let e of t)this.wordIndices.delete(e)}}class E{constructor(e,t,n,r,o){this.action=e,this.startInOld=t,this.endInOld=n,this.startInNew=r,this.endInNew=o}}var C=0,x=1,I=2,S=3;function k(e,t){let n={mode:C,currentWord:[],words:[]},r=function(e,t){let n=new Map;if(null===t)return n;for(let r of t){let t;for(;null!==(t=r.exec(e));){if(n.has(t.index))throw new Error("One or more block expressions result in a text sequence that overlaps. Current expression: "+r.toString());n.set(t.index,t.index+t[0].length)}}return n}(e,t),o=!!r.size,a=!1,i=-1;for(let t=0;t<e.length;t++){var c=e[t];if(o){i===index&&(i=-1,a=!1);let e=0;if(r.has(index)&&(a=!0,i=e=r.get(index)),a){n.currentWord.push(c),n.mode=C;continue}}switch(n.mode){case C:b(c)?A(n,"<",x):y(c)?A(n,c,S):O(c)?A(n,c,I):w(c)&&(0===n.currentWord.length||w(n.currentWord[n.currentWord.length-1]))?n.currentWord.push(c):A(n,c,C);break;case x:">"===c?(n.currentWord.push(c),n.words.push(n.currentWord.join("")),n.currentWord=[],n.mode=O(c)?I:C):n.currentWord.push(c);break;case I:b(c)?A(n,c,x):y(c)?A(n,c,S):O(c)?n.currentWord.push(c):A(n,c,C);break;case S:if(b(c))A(n,c,x);else if(O(c))A(n,c,I);else if(v(c)){let e=!0;if(0!==n.currentWord.length&&(n.currentWord.push(c),n.words.push(n.currentWord.join("")),n.words.length>2&&O(n.words[n.words.length-2])&&O(n.words[n.words.length-1]))){let t=n.words[n.words.length-2],r=n.words[n.words.length-1];n.words.splice(n.words.length-2,2),n.currentWord=[(t+r).split()],n.mode=I,e=!1}e&&(n.currentWord=[],n.mode=C)}else w(c)?n.currentWord.push(c):A(n,c,C)}}return 0!==n.currentWord.length&&n.words.push(n.currentWord.join("")),n.words}function A(e,t,n){0!==e.currentWord.length&&e.words.push(e.currentWord.join("")),e.currentWord=[t],e.mode=n}const T=new Map([["</strong>",0],["</em>",0],["</b>",0],["</i>",0],["</big>",0],["</small>",0],["</u>",0],["</sub>",0],["</strike>",0],["</s>",0]]),P=/<((strong)|(b)|(i)|(em)|(big)|(small)|(u)|(sub)|(sup)|(strike)|(s))[\>\s]+/gi;class N{constructor(e,t){this.content=[],this.newText=t,this.oldText=e,this.specialTagDiffStack=[],this.newWords=[],this.oldWords=[],this.matchGranularity=0,this.blockExpressions=[],this.repeatingWordsAccuracy=1,this.ignoreWhiteSpaceDifferences=!1,this.orphanMatchThreshold=0}build(){if(this.oldText===this.newText)return this.newText;this.splitInputsIntoWords(),this.matchGranularity=Math.min(4,this.oldWords.length,this.newWords.length);let e=this.operations();for(let t of e)this.performOperation(t);return this.content.join("")}addBlockExpression(e){this.blockExpressions.push(e)}splitInputsIntoWords(){this.oldWords=k(this.oldText,this.blockExpressions),this.oldText=null,this.newWords=k(this.newText,this.blockExpressions),this.newText=null}performOperation(e){switch(e.action){case r:this.processEqualOperation(e);break;case o:this.processDeleteOperation(e,"diffdel");break;case a:this.processInsertOperation(e,"diffins");break;case i:break;case c:this.processReplaceOperation(e)}}processReplaceOperation(e){this.processDeleteOperation(e,"diffmod"),this.processInsertOperation(e,"diffmod")}processInsertOperation(e,t){let n=this.newWords.filter(((t,n)=>n>=e.startInNew&&n<e.endInNew));this.insertTag("ins",t,n)}processDeleteOperation(e,t){let n=this.oldWords.filter(((t,n)=>n>=e.startInOld&&n<e.endInOld));this.insertTag("del",t,n)}processEqualOperation(e){let t=this.newWords.filter(((t,n)=>n>=e.startInNew&&n<e.endInNew));this.content.push(t.join(""))}insertTag(e,t,n){for(;n.length;){let r=this.extractConsecutiveWords(n,(e=>!h(e))),o="",a=!1;if(0!==r.length){let n=g(r.join(""),e,t);this.content.push(n)}else{if(P.test(n[0])){if(this.specialTagDiffStack.push(n[0]),o='<ins class="mod">',"del"===e)for(n.shift();n.length>0&&P.test(n[0]);)n.shift()}else if(T.has(n[0])){let t=0===this.specialTagDiffStack.length?null:this.specialTagDiffStack.pop();if(null!==t&&t===n[0].replace(/\//g,"")&&(o="</ins>",a=!0),"del"===e)for(n.shift();n.length>0&&T.has(n[0]);)n.shift()}if(0===n.length&&0===o.length)break;a?this.content.push(o+this.extractConsecutiveWords(n,h).join("")):this.content.push(this.extractConsecutiveWords(n,h).join("")+o)}}}extractConsecutiveWords(e,t){let n=null;for(let r=0;r<e.length;r++){let o=e[r];if(0===r&&" "===o&&(e[r]="&nbsp;"),!t(o)){n=r;break}}if(null!==n){let t=e.filter(((e,t)=>t>=0&&t<n));return n>0&&e.splice(0,n),t}{let t=e.filter(((t,n)=>n>=0&&n<e.length));return e.splice(0,e.length),t}}operations(){let e=0,t=0,n=[],u=this.matchingBlocks();u.push(new l(this.oldWords.length,this.newWords.length,0));let s=this.removeOrphans(u);for(let l of s){let u,s=e===l.startInOld,f=t===l.startInNew;(u=s||f?s&&!f?a:s?i:o:c)!==i&&n.push(new E(u,e,l.startInOld,t,l.startInNew)),0!==l.length&&n.push(new E(r,l.startInOld,l.endInOld,l.startInNew,l.endInNew)),e=l.endInOld,t=l.endInNew}return n}*removeOrphans(e){let t=null,n=null;for(let r of e){if(null===n){t=new l(0,0,0),n=r;continue}if(t.endInOld===n.startInOld&&t.endInNew===n.startInNew||n.endInOld===r.startInOld&&n.endInNew===r.startInNew){yield n,t=n,n=r;continue}let e=(e,t)=>e+t.length,o=this.oldWords.slice(t.endInOld,r.startInOld).reduce(e,0),a=this.newWords.slice(t.endInNew,r.startInNew).reduce(e,0);this.newWords.slice(n.startInNew,n.endInNew).reduce(e,0)>Math.max(o,a)*this.orphanMatchThreshold&&(yield n),t=n,n=r}yield n}matchingBlocks(){let e=[];return this.findMatchingBlocks(0,this.oldWords.length,0,this.newWords.length,e),e}findMatchingBlocks(e,t,n,r,o){let a=this.findMatch(e,t,n,r);null!==a&&(e<a.startInOld&&n<a.startInNew&&this.findMatchingBlocks(e,a.startInOld,n,a.startInNew,o),o.push(a),a.endInOld<t&&a.endInNew<r&&this.findMatchingBlocks(a.endInOld,t,a.endInNew,r,o))}findMatch(e,t,n,r){for(let o=this.matchGranularity;o>0;o--){let a=new u;a.blockSize=o,a.repeatingWordsAccuracy=this.repeatingWordsAccuracy,a.ignoreWhitespaceDifferences=this.ignoreWhiteSpaceDifferences;let i=new j(this.oldWords,this.newWords,e,t,n,r,a).findMatch();if(null!==i)return i}return null}}N.execute=function(e,t){return new N(e,t).build()},t.default=N},function(e,t,n){e.exports=n(0)}])},function(e,t,n){e.exports=n(924)},function(e,t,n){var r=n(926),o=n(403),a=n(404);e.exports=function(e,t,n){return t=o(t),void 0===n?(n=t,t=0):n=o(n),e=a(e),r(e,t,n)}},function(e,t,n){var r=n(308)("reverse",n(418));r.placeholder=n(282),e.exports=r},function(e,t,n){var r=n(115),o=n(457),a=n(158),i=o((function(e,t){r(t,a(t),e)}));e.exports=i},function(e,t,n){"use strict";var r=n(953),o=n(954),a=Object.prototype.hasOwnProperty;function i(e){return e&&"EPROMISERETRY"===e.code&&a.call(e,"retried")}e.exports=function(e,t){var n,a;return"object"==typeof e&&"function"==typeof t&&(n=t,t=e,e=n),a=o.operation(t),new Promise((function(t,n){a.attempt((function(o){Promise.resolve().then((function(){return e((function(e){throw i(e)&&(e=e.retried),r("Retrying","EPROMISERETRY",{retried:e})}),o)})).then(t,(function(e){i(e)&&(e=e.retried,a.retry(e||new Error))||n(e)}))}))}))}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";var r=n(0),o=n.n(r),a=(n(3),n(1)),i=n(49),c=n(4),l=function e(t){var n=t.className,a=t.as,i=t.html,l=Object(r.useCallback)((function(e){var t=e.target.closest("a");!t||t.target||t.href.startsWith("".concat(location.origin,"/"))||(t.target="_blank")}),[]),u=Object(r.useCallback)((function(e){if(e){var t=document.createRange();t.selectNode(e),e.innerHTML="",e.appendChild(t.createContextualFragment(i))}}),[i]);return c.l?o.a.createElement(e.Container,{className:n,as:a,onClick:l,dangerouslySetInnerHTML:{__html:i}}):o.a.createElement(e.Container,{className:n,as:a,onClick:l,ref:u})};t.a=o.a.memo(l);l.Container=a.f.div.withConfig({displayName:"RichText__Container",componentId:"oz284w-0"})([""," font:100 ","/"," ",";h1{font-size:",";}h2{font-size:",";}h3{font-size:",";}h4,h5,h6{font-size:",";}h1,h2,h3,h4,h5,h6{font-family:",";font-weight:600;margin:"," 0 0;}a{color:",";text-decoration:underline;}p{margin:"," 0;}p:empty{display:none;}small{font-size:",";}img{display:block;height:auto;margin-left:auto;margin-right:auto;max-height:325px;width:auto;}blockquote{","}pre{font-family:inherit;margin:"," 0;}code{font-family:",";font-size:",";}table{margin:"," 0;width:100%;}th,td{padding:"," "," 0;}th{border-bottom:1px solid ",";font-weight:bold;text-align:left;}ul,ol{list-style-type:none;margin:"," 0;padding:0;ul,ol{margin:0;padding:0 0 0 ",";}li{padding-left:",";position:relative;}}ul li:before{content:'\\2022';left:calc("," / 2.5);position:absolute;}ol{counter-reset:ordered_list_counter;li:before{font-feature-settings:'tnum';content:counter(ordered_list_counter) '. ';counter-increment:ordered_list_counter;left:-",";position:absolute;text-align:right;width:",";}}dd{margin:0 0 0 ",";}hr{border:1px solid ",";border-width:1px 0 0;}iframe{max-width:100%}ins,ins > *{text-decoration:none;background:inherit !important;color:",";img{border:2px solid ",";}}del,del > *{background:inherit !important;color:",";img{border:2px solid ",";}}.embedly_preview{font-size:1rem;margin-top:",";margin-bottom:",";a{font-weight:bold;}iframe{display:block;margin:auto;width:100%;}}.embedly_preview--video,.embedly_preview--vertical-video{position:relative;width:100%;height:0;iframe{position:absolute;top:0;left:0;width:100%;height:100%;}}.embedly_preview--vertical-video{padding-bottom:","%;}.embedly_preview--video{padding-bottom:","%;}.embedly_preview-thumb{position:relative;height:0;width:100%;padding-bottom:50%;overflow:hidden;border-bottom:1px solid ",";img{position:absolute;top:0;left:0;min-width:100%;min-height:100%;}}.embedly_preview .gray_container{display:flex;flex-direction:column;border:1px solid ",";font-weight:",";color:inherit;",";&:hover{background-color:",";color:",";}}.embedly_preview > a{text-decoration:none;}.embedly_preview .gray_container .embedly_preview-text{display:flex;flex-direction:column;padding:",";font-weight:",";.embedly_preview-provider{order:1;font-size:",";margin-bottom:",";}.embedly_preview-dash{display:none;}.embedly_preview-title{order:2;margin-bottom:",";line-height:",";}.embedly_preview-description{order:3;font-size:",";line-height:",";",";}}"],i.c,(function(e){return e.theme.fontSize.reading}),(function(e){return e.theme.lineHeight.reading}),(function(e){return e.theme.font.reading}),(function(e){return e.theme.fontSize.smallHeadline}),(function(e){return e.theme.fontSize.xSmallHeadline}),(function(e){return e.theme.fontSize.largeReading}),(function(e){return e.theme.fontSize.reading}),(function(e){return e.theme.font.accent}),(function(e){return e.theme.fontSize.reading}),(function(e){return e.theme.color.background.on}),(function(e){return e.theme.space.full}),(function(e){return e.theme.fontSize.smallReading}),i.a,(function(e){return e.theme.space.full}),(function(e){return e.theme.font.monospace}),(function(e){return e.theme.fontSize.smallReading}),(function(e){return e.theme.space.full}),(function(e){return e.theme.space.half}),(function(e){return e.theme.space.half}),(function(e){return e.theme.color.background.variant}),(function(e){return e.theme.space.full}),(function(e){return e.theme.space.full}),(function(e){return e.theme.listIndentationWidth}),(function(e){return e.theme.listIndentationWidth}),(function(e){return e.theme.space.half}),(function(e){return e.theme.listIndentationWidth}),(function(e){return e.theme.space.full}),(function(e){return e.theme.color.background.variant}),(function(e){return e.theme.color.diff.insert}),(function(e){return e.theme.color.diff.insert}),(function(e){return e.theme.color.diff.delete}),(function(e){return e.theme.color.diff.delete}),(function(e){return e.theme.space.full}),(function(e){return e.theme.space.full}),16/9*100,56.25,(function(e){return e.theme.color.background.on}),(function(e){return e.theme.color.background.on}),(function(e){return e.theme.fontWeight.normal}),i.c,(function(e){return e.theme.color.background.on}),(function(e){return e.theme.color.background.main}),(function(e){return e.theme.space.small}),(function(e){return e.theme.fontWeight.light}),(function(e){return e.theme.fontSize.smallReading}),(function(e){return e.theme.space.quarter}),(function(e){return e.theme.space.quarter}),(function(e){return e.theme.lineHeight.medium}),(function(e){return e.theme.fontSize.smallReading}),(function(e){return e.theme.lineHeight.reading}),Object(i.j)(3,"reading"))},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";var r=n(0),o=n.n(r),a=n(1),i=n(118),c=n(13),l=n(33),u=n.n(l);function s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,a=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){c=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(c)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return f(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var d="solidarity_flag_".concat(c.a.solidarityText,"_").concat(c.a.solidarityUrl),p=function e(){var t=s(Object(r.useState)(!1),2),n=t[0],a=t[1],l=Object(r.useCallback)((function(){a(!1),u.a.set(d,Date.now(),{path:"/"})}),[]);if(Object(r.useEffect)((function(){u.a.get(d)||a(!0)}),[]),!c.a.solidarityText||!n)return null;var f={href:c.a.solidarityUrl};return new URL(c.a.solidarityUrl).host!==c.a.canonicalDomain&&(f.target="_blank"),o.a.createElement(e.Main,null,o.a.createElement(e.Text,{"data-nosnippet":!0},c.a.solidarityText," ",o.a.createElement(e.LearnLink,f,"Learn More")),o.a.createElement(e.Close,{onClick:l},o.a.createElement(i.a,null)))};p.Main=a.f.div.withConfig({displayName:"SolidarityBanner__Main",componentId:"sc-17c7mcb-0"})(["position:relative;border-top:1px solid ",";border-bottom:1px solid ",";background-color:",";padding:16px;"],(function(e){return e.theme.color.background.variant}),(function(e){return e.theme.color.background.variant}),(function(e){return e.theme.color.background.on})),p.Text=a.f.div.withConfig({displayName:"SolidarityBanner__Text",componentId:"sc-17c7mcb-1"})(["text-align:left;color:white;font-weight:",";font-size:12px;margin-right:26px;@media screen and (min-width:540px){text-align:center;font-size:14px;}"],(function(e){return e.theme.fontWeight.light})),p.LearnLink=a.f.a.withConfig({displayName:"SolidarityBanner__LearnLink",componentId:"sc-17c7mcb-2"})(["color:",";text-transform:uppercase;text-decoration:underline;"],(function(e){return e.theme.color.brandPrimary.main})),p.Close=a.f.a.withConfig({displayName:"SolidarityBanner__Close",componentId:"sc-17c7mcb-3"})(["position:absolute;padding:16px;right:0;top:0;svg{cursor:pointer;display:block;fill:white;width:10px;height:10px;}"]),t.a=p},function(e,t,n){"use strict";n.d(t,"b",(function(){return u})),n.d(t,"c",(function(){return s})),n.d(t,"a",(function(){return f})),n.d(t,"d",(function(){return d}));var r=n(5),o=n.n(r),a=n(14),i=n(11);function c(e,t,n,r,o,a,i){try{var c=e[a](i),l=c.value}catch(e){return void n(e)}c.done?t(l):Promise.resolve(l).then(r,o)}function l(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){c(a,r,o,i,l,"next",e)}function l(e){c(a,r,o,i,l,"throw",e)}i(void 0)}))}}var u=function(){var e=l(o.a.mark((function e(t){var n,r,c,l,u,s,f,d,p,m,h;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.chartType,r=void 0===n?"songs":n,c=t.chartGenre,l=void 0===c?"all":c,u=t.timePeriod,s=void 0===u?"day":u,f=t.page,d=void 0===f?1:f,p=t.perPage,m=void 0===p?10:p,e.next=3,Object(a.d)("/".concat(r,"/chart"),{time_period:s,chart_genre:l,page:d,per_page:m});case 3:return h=e.sent,e.abrupt("return",Object(i.p)(h,{chartItems:[i.f]}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),s=function(){var e=l(o.a.mark((function e(t){var n,r,i,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.chartType,r=void 0===n?"songs":n,i=t.id,e.next=3,Object(a.d)("/".concat(r,"/").concat(i,"/charts/state"));case 3:return c=e.sent,e.abrupt("return",c);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),f=function(){var e=l(o.a.mark((function e(t){var n,r,c,l,u;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.chartType,r=void 0===n?"songs":n,c=t.id,e.next=3,Object(a.f)("/".concat(r,"/").concat(c,"/charts/exclude"));case 3:return l=e.sent,u=l.chart_item,e.abrupt("return",Object(i.p)(u,i.f));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),d=function(){var e=l(o.a.mark((function e(t){var n,r,c,l,u;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.chartType,r=void 0===n?"songs":n,c=t.id,e.next=3,Object(a.f)("/".concat(r,"/").concat(c,"/charts/unexclude"));case 3:return l=e.sent,u=l.chart_item,e.abrupt("return",Object(i.p)(u,i.f));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},function(e,t,n){"use strict";var r=n(7),o=n.n(r),a=n(370),i=n.n(a),c=n(2);t.a=function(e){var t=Object(c.d)((function(e){return e.stickyNav.stickySectionVisibility}));return i()(e,(function(e){return o()(t,e)}))}},,,,,,,,,,,,function(e,t,n){"use strict";var r=n(0),o=n.n(r),a=(n(3),n(1)),i=function e(t){var n=t.section,a=t.label,i=t.onClick,c=t.active,l="#".concat(n),u=Object(r.useCallback)((function(e){var t;e.preventDefault(),i&&i(),null===(t=document.querySelector(l))||void 0===t||t.scrollIntoView({behavior:"smooth"})}),[l,i]);return o.a.createElement(e.StyledLink,{href:l,onClick:u,active:c},a)};i.defaultProps={active:!1},i.StyledLink=a.f.a.withConfig({displayName:"StickyNavSectionLink__StyledLink",componentId:"sc-1kb26nw-0"})(["font-size:",";font-weight:",";color:inherit;border:1px solid ",";svg{fill:",";}"],(function(e){return e.theme.fontSize[e.fontSize]}),(function(e){return e.theme.fontWeight[e.fontWeight]}),(function(e){return e.active?e.theme.color.background.on:"transparent"}),(function(e){return e.theme.color.background.on})),t.a=i},function(e,t,n){"use strict";var r=n(0),o=n.n(r),a=(n(3),n(1)),i=n(2),c=n(66),l=n(230),u=n(67),s=n(4);function f(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,a=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){c=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(c)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return d(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var p=function e(t){var n=t.section,a=t.children,u=Object(i.c)(),d=Object(r.useRef)(null),p=Object(r.useMemo)((function(){return new s.b((function(e){var t=f(e,1)[0];u(Object(c.e)(n,t.isIntersecting||t.boundingClientRect.bottom<0))}),{threshold:0})}),[n,u]);Object(r.useEffect)((function(){return p.observe(d.current),function(){return p.disconnect()}}),[p,d]);var m=Object(l.a)("bottomStickyNav");return o.a.createElement(e.Container,null,o.a.createElement(e.Element,{ref:d,distanceAboveBottomStickyNav:m}),o.a.createElement(e.SectionAnchor,{id:n,distanceAboveBottomStickyNav:m}),a)};p.Container=a.f.div.withConfig({displayName:"SectionScrollSentinel__Container",componentId:"eoe1bv-0"})(["position:relative;"]),p.Element=a.f.div.withConfig({displayName:"SectionScrollSentinel__Element",componentId:"eoe1bv-1"})(["position:absolute;top:",";bottom:",";width:100%;",""],(function(e){return"calc(100vh - (".concat(e.distanceAboveBottomStickyNav,"))")}),(function(e){return"calc(".concat(e.distanceAboveBottomStickyNav,")")}),Object(u.a)("sentinel")),p.SectionAnchor=a.f.div.withConfig({displayName:"SectionScrollSentinel__SectionAnchor",componentId:"eoe1bv-2"})(["position:absolute;top:",";"],(function(e){return"calc(1px - (".concat(e.distanceAboveBottomStickyNav,"))")})),t.a=o.a.memo(p)},function(e,t,n){"use strict";var r=n(0),o=n.n(r),a=(n(3),n(1)),i=n(389);function c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,a=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){c=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(c)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return l(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var u=function e(t){var n=t.children,a=t.renderToggle,l=t.hover,u=c(Object(r.useState)(!1),2),s=u[0],f=u[1],d=c(Object(r.useState)(!1),2),p=d[0],m=d[1],h=Object(r.useRef)(null),g=Object(r.useCallback)((function(){return f(!0)}),[]),b=Object(r.useCallback)((function(){f(!1),m(!1)}),[]),y=Object(r.useCallback)((function(){m(!0),l&&g()}),[g,l]),v=Object(r.useCallback)((function(){m(!1),l&&b()}),[b,l]),O=Object(r.useCallback)((function(){return!l&&f((function(e){return!e}))}),[l]);return Object(i.a)({element:h,onClickOutside:function(){s&&f(!1)}}),o.a.createElement(e.Container,{ref:h,onMouseEnter:y,onMouseLeave:v},o.a.createElement(e.Toggle,{onClick:O},a({isVisible:s,hovering:p})),o.a.createElement(e.ContentContainer,{show:s},n({onClose:b})))};t.a=o.a.memo(u),u.defaultProps={hover:!1},u.Container=a.f.div.withConfig({displayName:"Dropdown__Container",componentId:"ugfjuc-0"})(["position:relative;height:100%;"]),u.ContentContainer=a.f.div.withConfig({displayName:"Dropdown__ContentContainer",componentId:"ugfjuc-1"})(["display:",";"],(function(e){return e.show?"block":"none"})),u.Toggle=a.f.button.withConfig({displayName:"Dropdown__Toggle",componentId:"ugfjuc-2"})(["display:block;height:100%;"])},function(e,t,n){"use strict";var r=n(0),o={};t.a=function(e){return o[e]=o[e]||[],Object(r.useMemo)((function(){return{subscribe:function(t){return o[e].push(t)},unsubscribe:function(t){return o[e]=o[e].filter((function(e){return e!==t}))},callSubscribers:function(){return o[e].forEach((function(e){return e()}))}}}),[e])}},function(e,t){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}e.exports=function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,n){var r=n(912);e.exports=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&r(e,t)},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){function n(t,r){return e.exports=n=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},e.exports.default=e.exports,e.exports.__esModule=!0,n(t,r)}e.exports=n,e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,n){var r=n(164),o=n(192),a=n(163);e.exports=function(e,t,n){var i=e.length;if(i<2)return i?a(e[0]):[];for(var c=-1,l=Array(i);++c<i;)for(var u=e[c],s=-1;++s<i;)s!=c&&(l[c]=r(l[c]||u,e[s],t,n));return a(o(l,1),t,n)}},function(e,t,n){var r=n(93),o=n(88),a=n(404),i=n(97),c=r.isFinite,l=Math.min;e.exports=function(e){var t=Math[e];return function(e,n){if(e=a(e),(n=null==n?0:l(o(n),292))&&c(e)){var r=(i(e)+"e").split("e"),u=t(r[0]+"e"+(+r[1]+n));return+((r=(i(u)+"e").split("e"))[0]+"e"+(+r[1]-n))}return t(e)}}},function(e,t,n){"use strict";var r=n(0),o=n.n(r),a=(n(3),n(1)),i=n(15),c=n(310),l=n(251),u=n.n(l),s=n(90),f=n.n(s),d=n(285),p=n(121);function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){g(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function b(e){return b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},b(e)}function y(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,a=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){c=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(c)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return v(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return v(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var O=function(e){return o.a.createElement(i.m.DropdownIndicator,e,o.a.createElement(d.a,null))},w=function e(t){var n=t.className,i=t.dataTestId,l=t.defaultValue,s=t.disabled,d=t.isClearable,m=t.onChange,g=t.options,v=t.placeholder,w=t.value,_=t.customStyles,j=Object(a.h)(),E=y(Object(r.useState)(l),2),C=E[0],x=E[1],I=Object(r.useCallback)((function(e){x(e),m&&m(e)}),[m]);Object(r.useEffect)((function(){void 0===b(w)||u()(C,w)||x(w)}),[C,w]);var S=Object(r.useMemo)((function(){return f()(g,"label")}),[g]),k=Object(r.useCallback)((function(e){var t=e.target.value;S[t]&&I(S[t])}),[S,I]),A=Object(r.useMemo)((function(){return Object(p.b)(j)}),[j]);return o.a.createElement(e.Container,{className:n,"data-testid":i},o.a.createElement(c.a,{placeholder:v,theme:Object(p.d)(j),isMulti:!1,isClearable:d,isDisabled:s,value:C,styles:h(h({},A),_),options:g,components:{DropdownIndicator:O,ClearIndicator:p.a},onChange:I,onBlur:k}))};w.defaultProps={isClearable:!1,disabled:!1},t.a=w,w.Container=a.f.div.withConfig({displayName:"SelectInput__Container",componentId:"nlp9j-0"})(["color:",";font-family:",";svg{fill:black;height:11px;}"],(function(e){return e.theme.color.background.on}),(function(e){return e.theme.font.alternate}))},function(e,t){e.exports=function(e,t){return e<t}},function(e,t,n){var r=n(71);e.exports=function(e,t){var n;return r(e,(function(e,r,o){return!(n=t(e,r,o))})),!!n}},function(e,t,n){var r=n(571)({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});e.exports=r},function(e,t){e.exports=function(e,t,n){return e==e&&(void 0!==n&&(e=e<=n?e:n),void 0!==t&&(e=e>=t?e:t)),e}},function(e,t,n){var r=n(7);e.exports=function(e,t){for(var n=-1,o=t.length,a=Array(o),i=null==e;++n<o;)a[n]=i?void 0:r(e,t[n]);return a}},function(e,t,n){var r=n(922),o=n(204),a=n(232),i=n(147),c=n(216),l=n(234),u=Math.ceil;e.exports=function(e,t){var n=(t=void 0===t?" ":o(t)).length;if(n<2)return n?r(t,e):t;var s=r(t,u(e/c(t)));return i(t)?a(l(s),0,e).join(""):s.slice(0,e)}},function(e,t){var n=Math.floor;e.exports=function(e,t){var r="";if(!e||t<1||t>9007199254740991)return r;do{t%2&&(r+=e),(t=n(t/2))&&(e+=e)}while(t);return r}},function(e,t,n){"use strict";var r=n(1),o=n(3),a=n.n(o),i=r.f.button.withConfig({displayName:"LinkButton",componentId:"sc-5hinmk-0"})(["border:none;background:none;color:inherit;cursor:pointer;text-decoration:underline;font-family:inherit;font-size:",";font-weight:",";&:hover{text-decoration:none;}"],(function(e){return"inherit"===e.fontSize?e.fontSize:e.theme.fontSize[e.fontSize]}),(function(e){return"inherit"===e.fontSize?e.fontSize:e.theme.fontWeight[e.fontWeight]}));i.propTypes={fontSize:a.a.string,fontWeight:a.a.string},i.defaultProps={fontSize:"reading",fontWeight:"normal"},t.a=i},function(e,t){e.exports=function(e){return e&&e.length?e[0]:void 0}},function(e,t,n){"use strict";n(3);var r=n(0),o=n.n(r),a=n(2),i=n(1),c=n(86),l=n(436);function u(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,a=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){c=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(c)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var f=function e(t){var n=t.mixpanelPagePrefix,r=t.questionIds,i=t.questionTextTag,c=Object(a.d)((function(e){return r.map((function(t){return e.entities.metadataQuestions[t]}))}),a.b),s=Object(l.a)("".concat(n,":click_question_page"));return o.a.createElement(o.a.Fragment,null,c.map((function(t){return o.a.createElement(e.ItemContainer,{key:t.id,href:t.path,onClick:function(e){return function(e,t){var n=u(t.split(":"),3),r=n[0],o=n[1],a=n[2];s(e,{related_question_slug:r,related_questionable_type:o,related_questionable_id:a})}(e,t.id)}},o.a.createElement(e.ItemQuestion,{as:i,dangerouslySetInnerHTML:{__html:t.question}}),o.a.createElement(e.Icon,null))})))};t.a=o.a.memo(f),f.ItemContainer=i.f.a.withConfig({displayName:"MetadataQuestionList__ItemContainer",componentId:"vhwrm0-0"})(["display:flex;justify-content:space-between;align-items:center;gap:",";color:",";cursor:pointer;padding:",";border:1px solid ",";&:not(:last-child){border-bottom:none;}"],(function(e){return e.theme.space.full}),(function(e){return e.theme.color.background.on}),(function(e){return e.theme.space.small}),(function(e){return e.theme.color.background.blockOnColor})),f.ItemQuestion=i.f.div.withConfig({displayName:"MetadataQuestionList__ItemQuestion",componentId:"vhwrm0-1"})(["font-size:",";font-weight:",";line-height:",";"],(function(e){return e.theme.fontSize.reading}),(function(e){return e.theme.fontWeight.light}),(function(e){return e.theme.lineHeight.medium})),f.Icon=Object(i.f)((function(e){return o.a.createElement(c.a,e)})).withConfig({displayName:"MetadataQuestionList__Icon",componentId:"vhwrm0-2"})(["flex-shrink:0;height:.75rem;"])},function(e,t){var n=Math.max,r=Math.min;e.exports=function(e,t,o){return e>=r(t,o)&&e<n(t,o)}},function(e,t,n){var r=n(201),o=n(460);e.exports=function(e,t,n,a){return o(e,t,n(r(e,t)),a)}},function(e,t,n){var r=n(929),o=n(282),a=Array.prototype.push;function i(e,t){return 2==t?function(t,n){return e(t,n)}:function(t){return e(t)}}function c(e){for(var t=e?e.length:0,n=Array(t);t--;)n[t]=e[t];return n}function l(e,t){return function(){var n=arguments.length;if(n){for(var r=Array(n);n--;)r[n]=arguments[n];var o=r[0]=t.apply(void 0,r);return e.apply(void 0,r),o}}}e.exports=function e(t,n,u,s){var f="function"==typeof n,d=n===Object(n);if(d&&(s=u,u=n,n=void 0),null==u)throw new TypeError;s||(s={});var p=!("cap"in s)||s.cap,m=!("curry"in s)||s.curry,h=!("fixed"in s)||s.fixed,g=!("immutable"in s)||s.immutable,b=!("rearg"in s)||s.rearg,y=f?u:o,v="curry"in s&&s.curry,O="fixed"in s&&s.fixed,w="rearg"in s&&s.rearg,_=f?u.runInContext():void 0,j=f?u:{ary:t.ary,assign:t.assign,clone:t.clone,curry:t.curry,forEach:t.forEach,isArray:t.isArray,isError:t.isError,isFunction:t.isFunction,isWeakMap:t.isWeakMap,iteratee:t.iteratee,keys:t.keys,rearg:t.rearg,toInteger:t.toInteger,toPath:t.toPath},E=j.ary,C=j.assign,x=j.clone,I=j.curry,S=j.forEach,k=j.isArray,A=j.isError,T=j.isFunction,P=j.isWeakMap,N=j.keys,M=j.rearg,R=j.toInteger,L=j.toPath,D=N(r.aryMethod),F={castArray:function(e){return function(){var t=arguments[0];return k(t)?e(c(t)):e.apply(void 0,arguments)}},iteratee:function(e){return function(){var t=arguments[0],n=arguments[1],r=e(t,n),o=r.length;return p&&"number"==typeof n?(n=n>2?n-2:1,o&&o<=n?r:i(r,n)):r}},mixin:function(e){return function(t){var n=this;if(!T(n))return e(n,Object(t));var r=[];return S(N(t),(function(e){T(t[e])&&r.push([e,n.prototype[e]])})),e(n,Object(t)),S(r,(function(e){var t=e[1];T(t)?n.prototype[e[0]]=t:delete n.prototype[e[0]]})),n}},nthArg:function(e){return function(t){var n=t<0?1:R(t)+1;return I(e(t),n)}},rearg:function(e){return function(t,n){var r=n?n.length:0;return I(e(t,n),r)}},runInContext:function(n){return function(r){return e(t,n(r),s)}}};function z(e,t){if(p){var n=r.iterateeRearg[e];if(n)return function(e,t){return W(e,(function(e){var n=t.length;return function(e,t){return 2==t?function(t,n){return e.apply(void 0,arguments)}:function(t){return e.apply(void 0,arguments)}}(M(i(e,n),t),n)}))}(t,n);var o=!f&&r.iterateeAry[e];if(o)return function(e,t){return W(e,(function(e){return"function"==typeof e?i(e,t):e}))}(t,o)}return t}function B(e,t,n){if(h&&(O||!r.skipFixed[e])){var o=r.methodSpread[e],i=o&&o.start;return void 0===i?E(t,n):function(e,t){return function(){for(var n=arguments.length,r=n-1,o=Array(n);n--;)o[n]=arguments[n];var i=o[t],c=o.slice(0,t);return i&&a.apply(c,i),t!=r&&a.apply(c,o.slice(t+1)),e.apply(this,c)}}(t,i)}return t}function V(e,t,n){return b&&n>1&&(w||!r.skipRearg[e])?M(t,r.methodRearg[e]||r.aryRearg[n]):t}function H(e,t){for(var n=-1,r=(t=L(t)).length,o=r-1,a=x(Object(e)),i=a;null!=i&&++n<r;){var c=t[n],l=i[c];null==l||T(l)||A(l)||P(l)||(i[c]=x(n==o?l:Object(l))),i=i[c]}return a}function q(t,n){var o=r.aliasToReal[t]||t,a=r.remap[o]||o,i=s;return function(t){var r=f?_:j,c=f?_[a]:n,l=C(C({},i),t);return e(r,o,c,l)}}function W(e,t){return function(){var n=arguments.length;if(!n)return e();for(var r=Array(n);n--;)r[n]=arguments[n];var o=b?0:n-1;return r[o]=t(r[o]),e.apply(void 0,r)}}function U(e,t,n){var o,a=r.aliasToReal[e]||e,i=t,u=F[a];return u?i=u(t):g&&(r.mutate.array[a]?i=l(t,c):r.mutate.object[a]?i=l(t,function(e){return function(t){return e({},t)}}(t)):r.mutate.set[a]&&(i=l(t,H))),S(D,(function(e){return S(r.aryMethod[e],(function(t){if(a==t){var n=r.methodSpread[a],c=n&&n.afterRearg;return o=c?B(a,V(a,i,e),e):V(a,B(a,i,e),e),o=function(e,t,n){return v||m&&n>1?I(t,n):t}(0,o=z(a,o),e),!1}})),!o})),o||(o=i),o==t&&(o=v?I(o,1):function(){return t.apply(this,arguments)}),o.convert=q(a,t),o.placeholder=t.placeholder=n,o}if(!d)return U(n,u,y);var $=u,Q=[];return S(D,(function(e){S(r.aryMethod[e],(function(e){var t=$[r.remap[e]||e];t&&Q.push([e,U(e,t,$)])}))})),S(N($),(function(e){var t=$[e];if("function"==typeof t){for(var n=Q.length;n--;)if(Q[n][0]==e)return;t.convert=q(e,t),Q.push([e,t])}})),S(Q,(function(e){$[e[0]]=e[1]})),$.convert=function(e){return $.runInContext.convert(e)(void 0)},$.placeholder=$,S(N($),(function(e){S(r.realToAlias[e]||[],(function(t){$[t]=$[e]}))})),$}},function(e,t){t.aliasToReal={each:"forEach",eachRight:"forEachRight",entries:"toPairs",entriesIn:"toPairsIn",extend:"assignIn",extendAll:"assignInAll",extendAllWith:"assignInAllWith",extendWith:"assignInWith",first:"head",conforms:"conformsTo",matches:"isMatch",property:"get",__:"placeholder",F:"stubFalse",T:"stubTrue",all:"every",allPass:"overEvery",always:"constant",any:"some",anyPass:"overSome",apply:"spread",assoc:"set",assocPath:"set",complement:"negate",compose:"flowRight",contains:"includes",dissoc:"unset",dissocPath:"unset",dropLast:"dropRight",dropLastWhile:"dropRightWhile",equals:"isEqual",identical:"eq",indexBy:"keyBy",init:"initial",invertObj:"invert",juxt:"over",omitAll:"omit",nAry:"ary",path:"get",pathEq:"matchesProperty",pathOr:"getOr",paths:"at",pickAll:"pick",pipe:"flow",pluck:"map",prop:"get",propEq:"matchesProperty",propOr:"getOr",props:"at",symmetricDifference:"xor",symmetricDifferenceBy:"xorBy",symmetricDifferenceWith:"xorWith",takeLast:"takeRight",takeLastWhile:"takeRightWhile",unapply:"rest",unnest:"flatten",useWith:"overArgs",where:"conformsTo",whereEq:"isMatch",zipObj:"zipObject"},t.aryMethod={1:["assignAll","assignInAll","attempt","castArray","ceil","create","curry","curryRight","defaultsAll","defaultsDeepAll","floor","flow","flowRight","fromPairs","invert","iteratee","memoize","method","mergeAll","methodOf","mixin","nthArg","over","overEvery","overSome","rest","reverse","round","runInContext","spread","template","trim","trimEnd","trimStart","uniqueId","words","zipAll"],2:["add","after","ary","assign","assignAllWith","assignIn","assignInAllWith","at","before","bind","bindAll","bindKey","chunk","cloneDeepWith","cloneWith","concat","conformsTo","countBy","curryN","curryRightN","debounce","defaults","defaultsDeep","defaultTo","delay","difference","divide","drop","dropRight","dropRightWhile","dropWhile","endsWith","eq","every","filter","find","findIndex","findKey","findLast","findLastIndex","findLastKey","flatMap","flatMapDeep","flattenDepth","forEach","forEachRight","forIn","forInRight","forOwn","forOwnRight","get","groupBy","gt","gte","has","hasIn","includes","indexOf","intersection","invertBy","invoke","invokeMap","isEqual","isMatch","join","keyBy","lastIndexOf","lt","lte","map","mapKeys","mapValues","matchesProperty","maxBy","meanBy","merge","mergeAllWith","minBy","multiply","nth","omit","omitBy","overArgs","pad","padEnd","padStart","parseInt","partial","partialRight","partition","pick","pickBy","propertyOf","pull","pullAll","pullAt","random","range","rangeRight","rearg","reject","remove","repeat","restFrom","result","sampleSize","some","sortBy","sortedIndex","sortedIndexOf","sortedLastIndex","sortedLastIndexOf","sortedUniqBy","split","spreadFrom","startsWith","subtract","sumBy","take","takeRight","takeRightWhile","takeWhile","tap","throttle","thru","times","trimChars","trimCharsEnd","trimCharsStart","truncate","union","uniqBy","uniqWith","unset","unzipWith","without","wrap","xor","zip","zipObject","zipObjectDeep"],3:["assignInWith","assignWith","clamp","differenceBy","differenceWith","findFrom","findIndexFrom","findLastFrom","findLastIndexFrom","getOr","includesFrom","indexOfFrom","inRange","intersectionBy","intersectionWith","invokeArgs","invokeArgsMap","isEqualWith","isMatchWith","flatMapDepth","lastIndexOfFrom","mergeWith","orderBy","padChars","padCharsEnd","padCharsStart","pullAllBy","pullAllWith","rangeStep","rangeStepRight","reduce","reduceRight","replace","set","slice","sortedIndexBy","sortedLastIndexBy","transform","unionBy","unionWith","update","xorBy","xorWith","zipWith"],4:["fill","setWith","updateWith"]},t.aryRearg={2:[1,0],3:[2,0,1],4:[3,2,0,1]},t.iterateeAry={dropRightWhile:1,dropWhile:1,every:1,filter:1,find:1,findFrom:1,findIndex:1,findIndexFrom:1,findKey:1,findLast:1,findLastFrom:1,findLastIndex:1,findLastIndexFrom:1,findLastKey:1,flatMap:1,flatMapDeep:1,flatMapDepth:1,forEach:1,forEachRight:1,forIn:1,forInRight:1,forOwn:1,forOwnRight:1,map:1,mapKeys:1,mapValues:1,partition:1,reduce:2,reduceRight:2,reject:1,remove:1,some:1,takeRightWhile:1,takeWhile:1,times:1,transform:2},t.iterateeRearg={mapKeys:[1],reduceRight:[1,0]},t.methodRearg={assignInAllWith:[1,0],assignInWith:[1,2,0],assignAllWith:[1,0],assignWith:[1,2,0],differenceBy:[1,2,0],differenceWith:[1,2,0],getOr:[2,1,0],intersectionBy:[1,2,0],intersectionWith:[1,2,0],isEqualWith:[1,2,0],isMatchWith:[2,1,0],mergeAllWith:[1,0],mergeWith:[1,2,0],padChars:[2,1,0],padCharsEnd:[2,1,0],padCharsStart:[2,1,0],pullAllBy:[2,1,0],pullAllWith:[2,1,0],rangeStep:[1,2,0],rangeStepRight:[1,2,0],setWith:[3,1,2,0],sortedIndexBy:[2,1,0],sortedLastIndexBy:[2,1,0],unionBy:[1,2,0],unionWith:[1,2,0],updateWith:[3,1,2,0],xorBy:[1,2,0],xorWith:[1,2,0],zipWith:[1,2,0]},t.methodSpread={assignAll:{start:0},assignAllWith:{start:0},assignInAll:{start:0},assignInAllWith:{start:0},defaultsAll:{start:0},defaultsDeepAll:{start:0},invokeArgs:{start:2},invokeArgsMap:{start:2},mergeAll:{start:0},mergeAllWith:{start:0},partial:{start:1},partialRight:{start:1},without:{start:1},zipAll:{start:0}},t.mutate={array:{fill:!0,pull:!0,pullAll:!0,pullAllBy:!0,pullAllWith:!0,pullAt:!0,remove:!0,reverse:!0},object:{assign:!0,assignAll:!0,assignAllWith:!0,assignIn:!0,assignInAll:!0,assignInAllWith:!0,assignInWith:!0,assignWith:!0,defaults:!0,defaultsAll:!0,defaultsDeep:!0,defaultsDeepAll:!0,merge:!0,mergeAll:!0,mergeAllWith:!0,mergeWith:!0},set:{set:!0,setWith:!0,unset:!0,update:!0,updateWith:!0}},t.realToAlias=function(){var e=Object.prototype.hasOwnProperty,n=t.aliasToReal,r={};for(var o in n){var a=n[o];e.call(r,a)?r[a].push(o):r[a]=[o]}return r}(),t.remap={assignAll:"assign",assignAllWith:"assignWith",assignInAll:"assignIn",assignInAllWith:"assignInWith",curryN:"curry",curryRightN:"curryRight",defaultsAll:"defaults",defaultsDeepAll:"defaultsDeep",findFrom:"find",findIndexFrom:"findIndex",findLastFrom:"findLast",findLastIndexFrom:"findLastIndex",getOr:"get",includesFrom:"includes",indexOfFrom:"indexOf",invokeArgs:"invoke",invokeArgsMap:"invokeMap",lastIndexOfFrom:"lastIndexOf",mergeAll:"merge",mergeAllWith:"mergeWith",padChars:"pad",padCharsEnd:"padEnd",padCharsStart:"padStart",propertyOf:"get",rangeStep:"range",rangeStepRight:"rangeRight",restFrom:"rest",spreadFrom:"spread",trimChars:"trim",trimCharsEnd:"trimEnd",trimCharsStart:"trimStart",zipAll:"zip"},t.skipFixed={castArray:!0,flow:!0,flowRight:!0,iteratee:!0,mixin:!0,rearg:!0,runInContext:!0},t.skipRearg={add:!0,assign:!0,assignIn:!0,bind:!0,bindKey:!0,concat:!0,difference:!0,divide:!0,eq:!0,gt:!0,gte:!0,isEqual:!0,lt:!0,lte:!0,matchesProperty:!0,merge:!0,multiply:!0,overArgs:!0,partial:!0,partialRight:!0,propertyOf:!0,random:!0,range:!0,rangeRight:!0,subtract:!0,zip:!0,zipObject:!0,zipObjectDeep:!0}},function(e,t,n){e.exports={ary:n(931),assign:n(405),clone:n(305),curry:n(944),forEach:n(298),isArray:n(34),isError:n(222),isFunction:n(172),isWeakMap:n(945),iteratee:n(946),keys:n(400),rearg:n(947),toInteger:n(88),toPath:n(948)}},function(e,t,n){var r=n(508);e.exports=function(e,t,n){return t=n?void 0:t,t=e&&null==t?e.length:t,r(e,128,void 0,void 0,void 0,void 0,t)}},function(e,t,n){var r=n(417),o=n(93);e.exports=function(e,t,n){var a=1&t,i=r(e);return function t(){var r=this&&this!==o&&this instanceof t?i:e;return r.apply(a?n:this,arguments)}}},function(e,t,n){var r=n(458),o=n(417),a=n(625),i=n(628),c=n(633),l=n(513),u=n(93);e.exports=function(e,t,n){var s=o(e);return function o(){for(var f=arguments.length,d=Array(f),p=f,m=c(o);p--;)d[p]=arguments[p];var h=f<3&&d[0]!==m&&d[f-1]!==m?[]:l(d,m);if((f-=h.length)<n)return i(e,t,a,o.placeholder,void 0,d,h,void 0,void 0,n-f);var g=this&&this!==u&&this instanceof o?s:e;return r(g,this,d)}}},function(e,t){e.exports=function(e,t){for(var n=e.length,r=0;n--;)e[n]===t&&++r;return r}},function(e,t){e.exports={}},function(e,t,n){var r=n(509),o=n(512),a=n(510),i=n(34),c=n(55),l=n(937),u=Object.prototype.hasOwnProperty;function s(e){if(c(e)&&!i(e)&&!(e instanceof r)){if(e instanceof o)return e;if(u.call(e,"__wrapped__"))return l(e)}return new o(e)}s.prototype=a.prototype,s.prototype.constructor=s,e.exports=s},function(e,t,n){var r=n(509),o=n(512),a=n(265);e.exports=function(e){if(e instanceof r)return e.clone();var t=new o(e.__wrapped__,e.__chain__);return t.__actions__=a(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}},function(e,t){var n=/\{\n\/\* \[wrapped with (.+)\] \*/,r=/,? & /;e.exports=function(e){var t=e.match(n);return t?t[1].split(r):[]}},function(e,t){var n=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/;e.exports=function(e,t){var r=t.length;if(!r)return e;var o=r-1;return t[o]=(r>1?"& ":"")+t[o],t=t.join(r>2?", ":" "),e.replace(n,"{\n/* [wrapped with "+t+"] */\n")}},function(e,t,n){var r=n(298),o=n(98),a=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]];e.exports=function(e,t){return r(a,(function(n){var r="_."+n[0];t&n[1]&&!o(e,r)&&e.push(r)})),e.sort()}},function(e,t,n){var r=n(265),o=n(236),a=Math.min;e.exports=function(e,t){for(var n=e.length,i=a(t.length,n),c=r(e);i--;){var l=t[i];e[i]=o(l,n)?c[l]:void 0}return e}},function(e,t,n){var r=n(458),o=n(417),a=n(93);e.exports=function(e,t,n,i){var c=1&t,l=o(e);return function t(){for(var o=-1,u=arguments.length,s=-1,f=i.length,d=Array(f+u),p=this&&this!==a&&this instanceof t?l:e;++s<f;)d[s]=i[s];for(;u--;)d[s++]=arguments[++o];return r(p,c?n:this,d)}}},function(e,t,n){var r=n(626),o=n(627),a=n(513),i="__lodash_placeholder__",c=128,l=Math.min;e.exports=function(e,t){var n=e[1],u=t[1],s=n|u,f=s<131,d=u==c&&8==n||u==c&&256==n&&e[7].length<=t[8]||384==u&&t[7].length<=t[8]&&8==n;if(!f&&!d)return e;1&u&&(e[2]=t[2],s|=1&n?0:4);var p=t[3];if(p){var m=e[3];e[3]=m?r(m,p,t[4]):p,e[4]=m?a(e[3],i):t[4]}return(p=t[5])&&(m=e[5],e[5]=m?o(m,p,t[6]):p,e[6]=m?a(e[5],i):t[6]),(p=t[7])&&(e[7]=p),u&c&&(e[8]=null==e[8]?t[8]:l(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=s,e}},function(e,t,n){var r=n(508);function o(e,t,n){var a=r(e,8,void 0,void 0,void 0,void 0,void 0,t=n?void 0:t);return a.placeholder=o.placeholder,a}o.placeholder={},e.exports=o},function(e,t,n){var r=n(191),o=n(55);e.exports=function(e){return o(e)&&"[object WeakMap]"==r(e)}},function(e,t,n){var r=n(151),o=n(41);e.exports=function(e){return o("function"==typeof e?e:r(e,1))}},function(e,t,n){var r=n(508),o=n(209),a=o((function(e,t){return r(e,256,void 0,void 0,void 0,t)}));e.exports=a},function(e,t,n){var r=n(60),o=n(265),a=n(34),i=n(202),c=n(568),l=n(157),u=n(97);e.exports=function(e){return a(e)?r(e,l):i(e)?[e]:o(c(u(e)))}},function(e,t,n){var r=n(950)();e.exports=r},function(e,t,n){var r=n(512),o=n(209),a=n(511),i=n(630),c=n(34),l=n(629);e.exports=function(e){return o((function(t){var n=t.length,o=n,u=r.prototype.thru;for(e&&t.reverse();o--;){var s=t[o];if("function"!=typeof s)throw new TypeError("Expected a function");if(u&&!f&&"wrapper"==i(s))var f=new r([],!0)}for(o=f?o:n;++o<n;){s=t[o];var d=i(s),p="wrapper"==d?a(s):void 0;f=p&&l(p[0])&&424==p[1]&&!p[4].length&&1==p[9]?f[i(p[0])].apply(f,p[3]):1==s.length&&l(s)?f[d]():f.thru(s)}return function(){var e=arguments,r=e[0];if(f&&1==e.length&&c(r))return f.plant(r).value();for(var o=0,a=n?t[o].apply(this,e):r;++o<n;)a=t[o].call(this,a);return a}}))}},function(e,t,n){var r=n(233),o=n(88);e.exports=function(e,t,n){return e&&e.length?(t=n||void 0===t?1:o(t),r(e,0,t<0?0:t)):[]}},function(e,t){e.exports=function(e,t){return t(e)}},function(e,t,n){"use strict";e.exports=function(e,t,n){var r,o=e instanceof Error?e:new Error(e);if("object"==typeof t?n=t:null!=t&&(o.code=t),n)for(r in n)o[r]=n[r];return o}},function(e,t,n){e.exports=n(955)},function(e,t,n){var r=n(956);t.operation=function(e){var n=t.timeouts(e);return new r(n,{forever:e&&e.forever,unref:e&&e.unref})},t.timeouts=function(e){if(e instanceof Array)return[].concat(e);var t={retries:10,factor:2,minTimeout:1e3,maxTimeout:1/0,randomize:!1};for(var n in e)t[n]=e[n];if(t.minTimeout>t.maxTimeout)throw new Error("minTimeout is greater than maxTimeout");for(var r=[],o=0;o<t.retries;o++)r.push(this.createTimeout(o,t));return e&&e.forever&&!r.length&&r.push(this.createTimeout(o,t)),r.sort((function(e,t){return e-t})),r},t.createTimeout=function(e,t){var n=t.randomize?Math.random()+1:1,r=Math.round(n*t.minTimeout*Math.pow(t.factor,e));return r=Math.min(r,t.maxTimeout)},t.wrap=function(e,n,r){if(n instanceof Array&&(r=n,n=null),!r)for(var o in r=[],e)"function"==typeof e[o]&&r.push(o);for(var a=0;a<r.length;a++){var i=r[a],c=e[i];e[i]=function(){var r=t.operation(n),o=Array.prototype.slice.call(arguments),a=o.pop();o.push((function(e){r.retry(e)||(e&&(arguments[0]=r.mainError()),a.apply(this,arguments))})),r.attempt((function(){c.apply(e,o)}))},e[i].options=n}}},function(e,t){function n(e,t){"boolean"==typeof t&&(t={forever:t}),this._timeouts=e,this._options=t||{},this._fn=null,this._errors=[],this._attempts=1,this._operationTimeout=null,this._operationTimeoutCb=null,this._timeout=null,this._options.forever&&(this._cachedTimeouts=this._timeouts.slice(0))}e.exports=n,n.prototype.stop=function(){this._timeout&&clearTimeout(this._timeout),this._timeouts=[],this._cachedTimeouts=null},n.prototype.retry=function(e){if(this._timeout&&clearTimeout(this._timeout),!e)return!1;this._errors.push(e);var t=this._timeouts.shift();if(void 0===t){if(!this._cachedTimeouts)return!1;this._errors.splice(this._errors.length-1,this._errors.length),this._timeouts=this._cachedTimeouts.slice(0),t=this._timeouts.shift()}var n=this,r=setTimeout((function(){n._attempts++,n._operationTimeoutCb&&(n._timeout=setTimeout((function(){n._operationTimeoutCb(n._attempts)}),n._operationTimeout),this._options.unref&&n._timeout.unref()),n._fn(n._attempts)}),t);return this._options.unref&&r.unref(),!0},n.prototype.attempt=function(e,t){this._fn=e,t&&(t.timeout&&(this._operationTimeout=t.timeout),t.cb&&(this._operationTimeoutCb=t.cb));var n=this;this._operationTimeoutCb&&(this._timeout=setTimeout((function(){n._operationTimeoutCb()}),n._operationTimeout)),this._fn(this._attempts)},n.prototype.try=function(e){console.log("Using RetryOperation.try() is deprecated"),this.attempt(e)},n.prototype.start=function(e){console.log("Using RetryOperation.start() is deprecated"),this.attempt(e)},n.prototype.start=n.prototype.try,n.prototype.errors=function(){return this._errors},n.prototype.attempts=function(){return this._attempts},n.prototype.mainError=function(){if(0===this._errors.length)return null;for(var e={},t=null,n=0,r=0;r<this._errors.length;r++){var o=this._errors[r],a=o.message,i=(e[a]||0)+1;e[a]=i,i>=n&&(t=o,n=i)}return t}},,,,,,,,,,,,,,,,,function(e,t,n){"use strict";n.r(t);n(59),n(199),n(200);var r=n(0),o=n.n(r),a=n(649),i=n(2),c=n(1),l=n(46),u=n.n(l),s=n(602),f=n(603),d=n(3),p=n.n(d),m=n(96),h=n(22),g=n(9),b=n(84),y=n(123),v=n(893),O=n(4),w=n(180),_=n(241),j=n(292),E=n(905),C=n(529),x=["lyrics","about","questions","comments"],I=function e(t){var n=t.songId,a=Object(m.a)().t,c=Object(i.c)(),l=Object(r.useMemo)((function(){return x.map((function(e){return{section:e,onClick:function(){c(Object(g.T)("song:click_section_link",{section:e}))}}}))}),[c]),u=Object(b.a)("songs",n),s=u.title,f=u.primaryArtist,d=Object(b.a)("artists",f).name,p=Object(y.a)("song:scroll_top_clicked"),C=Object(r.useCallback)((function(e){p(),Object(O.p)(e)}),[p]),I=Object(v.a)(x);return o.a.createElement(_.a,{theme:h.c},o.a.createElement(o.a.Fragment,null,o.a.createElement(e.ScrollTop,{onClick:C},o.a.createElement(e.SongByArtist,null,s," - ",d," ",o.a.createElement(e.UpArrow,null,o.a.createElement(j.a,{aspectRatio:.4125,lineHeight:2,svg:w.a})))),o.a.createElement(e.Container,null,l.map((function(e){var t=e.section,n=e.onClick;return o.a.createElement(E.a,{key:t,section:t,label:a("song_page_header.nav.".concat(t)),onClick:n,active:I===t})})))))},S=o.a.memo(I);I.Container=c.f.div.withConfig({displayName:"SongNav__Container",componentId:"sc-1ycjvu8-0"})(["display:flex;font-size:",";margin-left:",";color:",";& > *{padding:",";}"],(function(e){return e.theme.fontSize.smallReading}),(function(e){return"-".concat(e.theme.space.small)}),(function(e){return e.theme.color.background.on}),(function(e){return"".concat(e.theme.space.quarter," ").concat(e.theme.space.small)})),I.Link=Object(c.f)((function(e){return o.a.createElement(C.a,e)})).withConfig({displayName:"SongNav__Link",componentId:"sc-1ycjvu8-1"})(["border:1px solid ",";"],(function(e){return e.isActive?e.theme.color.background.on:"transparent"})),I.SongByArtist=c.f.div.withConfig({displayName:"SongNav__SongByArtist",componentId:"sc-1ycjvu8-2"})(["display:flex;cursor:pointer;align-items:center;margin-right:",";line-height:1;"],(function(e){return"calc(2 * ".concat(e.theme.space.full," - 2px)")})),I.ScrollTop=c.f.div.withConfig({displayName:"SongNav__ScrollTop",componentId:"sc-1ycjvu8-3"})(["color:inherit;display:flex;align-items:center;svg{fill:",";}"],(function(e){return e.theme.color.background.on})),I.UpArrow=c.f.div.withConfig({displayName:"SongNav__UpArrow",componentId:"sc-1ycjvu8-4"})(["margin-top:-5px;"]);var k=n(634),A=n(113),T=n(67),P=n(49),N=n(907),M=n(259),R=n(391),L=n(225),D=n(253),F=n(5),z=n.n(F),B=["children","onClick","onClose","isLoading"];function V(){return V=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},V.apply(this,arguments)}function H(e,t,n,r,o,a,i){try{var c=e[a](i),l=c.value}catch(e){return void n(e)}c.done?t(l):Promise.resolve(l).then(r,o)}function q(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){H(a,r,o,i,c,"next",e)}function c(e){H(a,r,o,i,c,"throw",e)}i(void 0)}))}}function W(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var U=function e(t){var n=t.children,a=t.onClick,i=t.onClose,c=t.isLoading,l=W(t,B),u=Object(r.useCallback)(q(z.a.mark((function e(){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a();case 2:i&&i();case 3:case"end":return e.stop()}}),e)}))),[a,i]);return o.a.createElement(e.Container,null,o.a.createElement(e.TextButton,V({onClick:u},l),n,c&&o.a.createElement(e.Spinner,null)))};U.defaultProps={isLoading:!1};var $=o.a.memo(U);U.Container=c.f.li.withConfig({displayName:"AdminMenuItem__Container",componentId:"xv5nzv-0"})(["&:hover{background-color:#000;color:#fff;&:first-child:before{background-color:#000;color:#fff;}}&:first-child:before{"," left:80%;}"],Object(P.b)({direction:"top",size:"8px",color:"#fff",borderColor:"#000"})),U.TextButton=Object(c.f)((function(e){return o.a.createElement(M.a,e)})).withConfig({displayName:"AdminMenuItem__TextButton",componentId:"xv5nzv-1"})(["width:100%;padding:"," ",";text-align:left;display:flex;justify-content:space-between;",":hover &{color:#fff;}"],(function(e){return e.theme.space.xSmall}),(function(e){return e.theme.space.half}),U.Container),U.Spinner=Object(c.f)((function(e){return o.a.createElement(R.a,e)})).withConfig({displayName:"AdminMenuItem__Spinner",componentId:"xv5nzv-2"})(["fill:none !important;vertical-align:-2px;stroke:#000;",":hover &{stroke:#fff;}"],U.Container);var Q=n(95),G=n(987);function Y(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,a=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){c=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(c)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return K(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return K(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function K(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Z=function e(t){var n=t.songId,a=t.onClose,c=Object(i.c)(),l=Object(m.a)().t,u=Y(Object(r.useState)(!1),2),s=u[0],f=u[1],d=Y(Object(r.useState)(!1),2),p=d[0],h=d[1],g=Object(i.d)((function(e){return e.songPage.lyricsExportPreview})),b=Object(r.useCallback)((function(){h(!0),void 0===g&&(f(!0),c(Object(Q.pb)(n,{onDone:function(){return f(!1)},onError:function(e){c(Object(D.c)({status:"error",message:e.message})),a()}})))}),[c,g,a,n]),y=Object(r.useCallback)((function(){h(!1),a()}),[a]);return o.a.createElement($,{onClick:b,isLoading:s},o.a.createElement(G.a,{onClose:y,show:!s&&p},o.a.createElement(e.Modal,null,o.a.createElement(e.Export,null,g))),l("song.actions.lyrics_export_preview"))},X=o.a.memo(Z);Z.Modal=c.f.div.withConfig({displayName:"LyricsExportPreview__Modal",componentId:"th8ju7-0"})(["padding:",";background-color:#fff;"],(function(e){return e.theme.space.full})),Z.Export=c.f.div.withConfig({displayName:"LyricsExportPreview__Export",componentId:"th8ju7-1"})(["white-space:pre-line;font-weight:",";width:100%;"],(function(e){return e.theme.fontWeight.light}));var J=n(28),ee=n(48),te=function e(){var t=Object(m.a)().t,n=Object(i.c)(),a=Object(i.d)((function(e){return e.songMetadata.updateStatus})),c=Object(y.a)("song:metadata:open"),l=Object(r.useCallback)((function(){n(Object(ee.f)(!0)),c()}),[n,c]);return o.a.createElement(e.SmallButton,{disabled:a===J.c,onClick:l},t("song_page_header.metadata.edit"))},ne=o.a.memo(te);te.SmallButton=Object(c.f)((function(e){return o.a.createElement(L.a,e)})).withConfig({displayName:"EditMetadataButton__SmallButton",componentId:"sc-1qc4gah-0"})(["white-space:nowrap;"]);var re=n(21),oe=n(184),ae=n.n(oe),ie=n(228),ce=n(155),le=n(908),ue=n(488),se=void 0,fe=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return e.map((function(e,n){var r=e.key,o=e.shortcut;return Object(A.a)(o.keys,o.callback.bind(se,n,r),t)}))},de=n(410),pe=n(656),me=n.n(pe),he=n(657),ge=n.n(he),be=n(117),ye=n.n(be);function ve(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,a=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){c=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(c)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Oe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Oe(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Oe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var we=function e(t){var n=t.activeSectionTriggerOffset,a=t.initialActiveSectionIndex,i=t.postNavDisplay,c=t.onTabClick,l=t.scrollingElementId,u=t.scrollOffset,s=t.showShortcuts,f=t.tabs,d=Object(r.useRef)(null),p=Object(ie.a)(),m=Object(r.useMemo)((function(){return Array(f.length).fill(0).map((function(e){return o.a.createRef()}))}),[f.length]),h=ve(Object(r.useState)(a),2),g=h[0],b=h[1],y=Object(r.useCallback)((function(){return document.getElementById(l)||window}),[l]),v=Object(r.useCallback)((function(){return document.getElementById(l)?document.getElementById(l).getBoundingClientRect():{height:window.innerHeight,width:window.innerWidth,top:0,left:0,bottom:window.innerHeight,right:window.innerWidth}}),[l]);Object(r.useEffect)((function(){a>=0&&w(a)}),[a,w]);var w=Object(r.useCallback)((function(e){var t=m[e].current.offsetTop-d.current.offsetHeight-u;y().scrollTo({top:Math.max(0,t),behavior:"smooth"})}),[m,u,y]),_=Object(r.useCallback)((function(e,t,n){e.preventDefault(),w(t),c&&c(t,n)}),[c,w]);return Object(r.useEffect)((function(){var e=ge()((function(){var e=me()(ye()(m,(function(e){var t=e.current.getBoundingClientRect(),r={height:t.height,width:t.width,top:t.top-d.current.offsetHeight-n,left:t.left,bottom:t.bottom-d.current.offsetHeight-n,right:t.right};return Object(O.h)(r,v())>0})),(function(e){return parseInt(e.current.dataset.sectionIndex,10)})),t=m[m.length-1].current.getBoundingClientRect(),r=1===Object(O.h)(v(),t);b(r?m.length-1:parseInt(e.current.dataset.sectionIndex,10))}),100),t=y();return t.addEventListener("scroll",e),function(){return t.removeEventListener("scroll",e)}}),[n,y,v,m]),o.a.createElement(e.Container,null,o.a.createElement(e.TabNavContainer,{ref:d},o.a.createElement("nav",null,o.a.createElement(e.TabNavList,{isMobile:p},f.map((function(t,n){var r=t.key,a=t.name;return o.a.createElement(e.TabNavItem,{key:a},o.a.createElement(e.TabButton,{key:a,isMobile:p,active:g===n,onClick:function(e){return _(e,n,r)}},a))})))),i),o.a.createElement(e.ContentArea,null,f.map((function(t,n){var r=t.name,a=t.section,i=t.shortcut;return o.a.createElement(e.Section,{key:r,ref:m[n],"data-section-index":n},o.a.createElement(e.SectionTitle,null,r),i&&s&&o.a.createElement(e.ShortcutDisplay,null,i.display),a)}))))};we.defaultProps={activeSectionTriggerOffset:48,initialActiveSectionIndex:0,scrollOffset:16,showShortcuts:!0};var _e=o.a.memo(we);we.Container=c.f.div.withConfig({displayName:"ScrollableTabs__Container",componentId:"sc-179ldtd-0"})(["position:relative;"]),we.TabNavContainer=c.f.div.withConfig({displayName:"ScrollableTabs__TabNavContainer",componentId:"sc-179ldtd-1"})(["background:",";border-bottom:1px solid ",";padding:"," ",";position:sticky;top:0;",""],(function(e){return e.theme.color.background.variant}),(function(e){return e.theme.color.background.on}),(function(e){return e.theme.space.half}),(function(e){return e.theme.space.full}),Object(T.a)("modalUpper")),we.TabNavList=c.f.ul.withConfig({displayName:"ScrollableTabs__TabNavList",componentId:"sc-179ldtd-2"})(["",""],(function(e){return e.isMobile&&"\n    display: grid;\n    grid-template-columns: auto auto;\n  "})),we.TabNavItem=c.f.li.withConfig({displayName:"ScrollableTabs__TabNavItem",componentId:"sc-179ldtd-3"})(["display:inline-block;"]),we.TabButton=c.f.button.attrs({type:"button"}).withConfig({displayName:"ScrollableTabs__TabButton",componentId:"sc-179ldtd-4"})(["display:inline-block;"," cursor:pointer;font-family:",";font-size:",";border:1px solid transparent;padding:"," ",";margin-top:",";margin-bottom:",";",""],(function(e){return!e.isMobile&&"margin-right: ".concat(e.theme.space.full,";")}),(function(e){return e.theme.font.alternate}),(function(e){return e.theme.fontSize.smallReading}),(function(e){return e.theme.space.quarter}),(function(e){return e.theme.space.half}),(function(e){return e.theme.space.quarter}),(function(e){return e.theme.space.quarter}),(function(e){return e.active?"\n    border-color: ".concat(e.theme.color.background.on,";\n    border-radius: ").concat(e.theme.borderRadius,";\n  "):"\n    text-decoration: underline;\n  "})),we.ContentArea=c.f.div.withConfig({displayName:"ScrollableTabs__ContentArea",componentId:"sc-179ldtd-5"})(["padding:0 ",";background-color:",";"],(function(e){return e.theme.space.full}),(function(e){return e.theme.color.background.main})),we.Section=c.f.section.withConfig({displayName:"ScrollableTabs__Section",componentId:"sc-179ldtd-6"})(["position:relative;padding:"," 0;&:not(:last-child){border-bottom:1px solid ",";}"],(function(e){return e.theme.space.full}),(function(e){return e.theme.color.background.on})),we.ShortcutDisplay=c.f.div.withConfig({displayName:"ScrollableTabs__ShortcutDisplay",componentId:"sc-179ldtd-7"})(["position:absolute;right:0;top:",";line-height:1;font-family:",";font-size:",";color:",";text-transform:capitalize;"],(function(e){return e.theme.space.large}),(function(e){return e.theme.font.alternate}),(function(e){return e.theme.fontSize.smallReading}),(function(e){return e.theme.color.background.onVariant})),we.SectionTitle=c.f.h3.withConfig({displayName:"ScrollableTabs__SectionTitle",componentId:"sc-179ldtd-8"})(["text-align:center;font-family:",";font-size:",";margin-bottom:",";color:",";line-height:1;"],(function(e){return e.theme.font.accent}),(function(e){return e.theme.fontSize.smallHeadline}),(function(e){return e.theme.space.large}),(function(e){return e.theme.color.background.on}));var je=n(243),Ee=n(15),Ce=n(17),xe=n(77),Ie=n(65),Se=n(61),ke=n(62),Ae=n(63),Te=n(73),Pe=n(185),Ne=(n(306),n(307),n(193),n(43)),Me=(n(366),{cacheOptions:!1,defaultOptions:!1,filterOption:null,isLoading:!1}),Re=function(e){var t,n;return n=t=function(t){Object(Ae.a)(r,t);var n=Object(Ee.j)(r);function r(e){var t;return Object(Se.a)(this,r),(t=n.call(this)).select=void 0,t.lastRequest=void 0,t.mounted=!1,t.handleInputChange=function(e,n){var r=t.props,o=r.cacheOptions,a=r.onInputChange,i=Object(Ee.h)(e,n,a);if(!i)return delete t.lastRequest,void t.setState({inputValue:"",loadedInputValue:"",loadedOptions:[],isLoading:!1,passEmptyOptions:!1});if(o&&t.state.optionsCache[i])t.setState({inputValue:i,loadedInputValue:i,loadedOptions:t.state.optionsCache[i],isLoading:!1,passEmptyOptions:!1});else{var c=t.lastRequest={};t.setState({inputValue:i,isLoading:!0,passEmptyOptions:!t.state.loadedInputValue},(function(){t.loadOptions(i,(function(e){t.mounted&&c===t.lastRequest&&(delete t.lastRequest,t.setState((function(t){return{isLoading:!1,loadedInputValue:i,loadedOptions:e||[],passEmptyOptions:!1,optionsCache:e?Object(Ee.k)(Object(Ee.k)({},t.optionsCache),{},Object(Ie.a)({},i,e)):t.optionsCache}})))}))}))}return i},t.state={defaultOptions:Array.isArray(e.defaultOptions)?e.defaultOptions:void 0,inputValue:void 0!==e.inputValue?e.inputValue:"",isLoading:!0===e.defaultOptions,loadedOptions:[],passEmptyOptions:!1,optionsCache:{},prevDefaultOptions:void 0,prevCacheOptions:void 0},t}return Object(ke.a)(r,[{key:"componentDidMount",value:function(){var e=this;this.mounted=!0;var t=this.props.defaultOptions,n=this.state.inputValue;!0===t&&this.loadOptions(n,(function(t){if(e.mounted){var n=!!e.lastRequest;e.setState({defaultOptions:t||[],isLoading:n})}}))}},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"focus",value:function(){this.select.focus()}},{key:"blur",value:function(){this.select.blur()}},{key:"loadOptions",value:function(e,t){var n=this.props.loadOptions;if(!n)return t();var r=n(e,t);r&&"function"==typeof r.then&&r.then(t,(function(){return t()}))}},{key:"render",value:function(){var t=this,n=this.props;n.loadOptions;var r=n.isLoading,a=Object(xe.a)(n,["loadOptions","isLoading"]),i=this.state,c=i.defaultOptions,l=i.inputValue,u=i.isLoading,s=i.loadedInputValue,f=i.loadedOptions,d=i.passEmptyOptions?[]:l&&s?f:c||[];return o.a.createElement(e,Object(Ce.a)({},a,{ref:function(e){t.select=e},options:d,isLoading:u||r,onInputChange:this.handleInputChange}))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n=e.cacheOptions!==t.prevCacheOptions?{prevCacheOptions:e.cacheOptions,optionsCache:{}}:{},r=e.defaultOptions!==t.prevDefaultOptions?{prevDefaultOptions:e.defaultOptions,defaultOptions:Array.isArray(e.defaultOptions)?e.defaultOptions:void 0}:{};return Object(Ee.k)(Object(Ee.k)({},n),r)}}]),r}(r.Component),t.defaultProps=Me,n},Le=Re(Object(Pe.a)(Te.a)),De=n(186),Fe=(n(368),n(369),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,r=String(e).toLowerCase(),o=String(n.getOptionValue(t)).toLowerCase(),a=String(n.getOptionLabel(t)).toLowerCase();return o===r||a===r}),ze={formatCreateLabel:function(e){return'Create "'.concat(e,'"')},isValidNewOption:function(e,t,n,r){return!(!e||t.some((function(t){return Fe(e,t,r)}))||n.some((function(t){return Fe(e,t,r)})))},getNewOptionData:function(e,t){return{label:t,value:e,__isNew__:!0}},getOptionValue:Te.c,getOptionLabel:Te.b},Be=Object(Ee.k)({allowCreateWhileLoading:!1,createOptionPosition:"last"},ze),Ve=function(e){var t,n;return n=t=function(t){Object(Ae.a)(r,t);var n=Object(Ee.j)(r);function r(e){var t;Object(Se.a)(this,r),(t=n.call(this,e)).select=void 0,t.onChange=function(e,n){var r=t.props,o=r.getNewOptionData,a=r.inputValue,i=r.isMulti,c=r.onChange,l=r.onCreateOption,u=r.value,s=r.name;if("select-option"!==n.action)return c(e,n);var f=t.state.newOption,d=Array.isArray(e)?e:[e];if(d[d.length-1]!==f)c(e,n);else if(l)l(a);else{var p=o(a,a),m={action:"create-option",name:s,option:p};c(i?[].concat(Object(De.a)(Object(Ee.e)(u)),[p]):p,m)}};var o=e.options||[];return t.state={newOption:void 0,options:o},t}return Object(ke.a)(r,[{key:"focus",value:function(){this.select.focus()}},{key:"blur",value:function(){this.select.blur()}},{key:"render",value:function(){var t=this,n=this.state.options;return o.a.createElement(e,Object(Ce.a)({},this.props,{ref:function(e){t.select=e},options:n,onChange:this.onChange}))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n=e.allowCreateWhileLoading,r=e.createOptionPosition,o=e.formatCreateLabel,a=e.getNewOptionData,i=e.inputValue,c=e.isLoading,l=e.isValidNewOption,u=e.value,s=e.getOptionValue,f=e.getOptionLabel,d=e.options||[],p=t.newOption;return{newOption:p=l(i,Object(Ee.e)(u),d,{getOptionValue:s,getOptionLabel:f})?a(i,o(i)):void 0,options:!n&&c||!p?d:"first"===r?[p].concat(Object(De.a)(d)):[].concat(Object(De.a)(d),[p])}}}]),r}(r.Component),t.defaultProps=Be,n},He=Ve(Te.a),qe=(Object(Pe.a)(He),n(413),n(909),n(910),n(911),Ve(Te.a)),We=Re(Object(Pe.a)(qe)),Ue=n(72),$e=n.n(Ue);function Qe(){return Qe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Qe.apply(this,arguments)}function Ge(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ye(e,t){if(e){if("string"==typeof e)return Ge(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ge(e,t):void 0}}function Ke(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){c=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(c)throw o}}return a}}(e,t)||Ye(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ze(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Xe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?Object(arguments[t]):{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Ze(e,t,n[t])}))}return e}function Je(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function et(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function tt(e,t,n){return t&&et(e.prototype,t),n&&et(e,n),e}var nt=n(653),rt=n.n(nt);function ot(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function at(e,t){return!t||"object"!==rt()(t)&&"function"!=typeof t?ot(e):t}function it(e){return it=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},it(e)}function ct(e,t){return ct=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},ct(e,t)}function lt(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ct(e,t)}var ut=n(258),st=n.n(ut);function ft(e){return function(e){if(Array.isArray(e))return Ge(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Ye(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var dt=function(){function e(){Je(this,e),Ze(this,"refs",{})}return tt(e,[{key:"add",value:function(e,t){this.refs[e]||(this.refs[e]=[]),this.refs[e].push(t)}},{key:"remove",value:function(e,t){var n=this.getIndex(e,t);-1!==n&&this.refs[e].splice(n,1)}},{key:"isActive",value:function(){return this.active}},{key:"getActive",value:function(){var e=this;return this.refs[this.active.collection].find((function(t){return t.node.sortableInfo.index==e.active.index}))}},{key:"getIndex",value:function(e,t){return this.refs[e].indexOf(t)}},{key:"getOrderedRefs",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.active.collection;return this.refs[e].sort(pt)}}]),e}();function pt(e,t){return e.node.sortableInfo.index-t.node.sortableInfo.index}function mt(e,t){return Object.keys(e).reduce((function(n,r){return-1===t.indexOf(r)&&(n[r]=e[r]),n}),{})}var ht={end:["touchend","touchcancel","mouseup"],move:["touchmove","mousemove"],start:["touchstart","mousedown"]},gt=function(){if("undefined"==typeof window||"undefined"==typeof document)return"";var e=window.getComputedStyle(document.documentElement,"")||["-moz-hidden-iframe"],t=(Array.prototype.slice.call(e).join("").match(/-(moz|webkit|ms)-/)||""===e.OLink&&["","o"])[1];return"ms"===t?"ms":t&&t.length?t[0].toUpperCase()+t.substr(1):""}();function bt(e,t){Object.keys(t).forEach((function(n){e.style[n]=t[n]}))}function yt(e,t){e.style["".concat(gt,"Transform")]=null==t?"":"translate3d(".concat(t.x,"px,").concat(t.y,"px,0)")}function vt(e,t){e.style["".concat(gt,"TransitionDuration")]=null==t?"":"".concat(t,"ms")}function Ot(e,t){for(;e;){if(t(e))return e;e=e.parentNode}return null}function wt(e,t,n){return Math.max(e,Math.min(n,t))}function _t(e){return"px"===e.substr(-2)?parseFloat(e):0}function jt(e){var t=window.getComputedStyle(e);return{bottom:_t(t.marginBottom),left:_t(t.marginLeft),right:_t(t.marginRight),top:_t(t.marginTop)}}function Et(e,t){var n=t.displayName||t.name;return n?"".concat(e,"(").concat(n,")"):e}function Ct(e,t){var n=e.getBoundingClientRect();return{top:n.top+t.top,left:n.left+t.left}}function xt(e){return e.touches&&e.touches.length?{x:e.touches[0].pageX,y:e.touches[0].pageY}:e.changedTouches&&e.changedTouches.length?{x:e.changedTouches[0].pageX,y:e.changedTouches[0].pageY}:{x:e.pageX,y:e.pageY}}function It(e){return e.touches&&e.touches.length||e.changedTouches&&e.changedTouches.length}function St(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{left:0,top:0};if(e){var r={left:n.left+e.offsetLeft,top:n.top+e.offsetTop};return e.parentNode===t?r:St(e.parentNode,t,r)}}function kt(e,t,n){return e<n&&e>t?e-1:e>n&&e<t?e+1:e}function At(e){var t=e.lockOffset,n=e.width,r=e.height,o=t,a=t,i="px";if("string"==typeof t){var c=/^[+-]?\d*(?:\.\d*)?(px|%)$/.exec(t);st()(null!==c,'lockOffset value should be a number or a string of a number followed by "px" or "%". Given %s',t),o=parseFloat(t),a=parseFloat(t),i=c[1]}return st()(isFinite(o)&&isFinite(a),"lockOffset value should be a finite. Given %s",t),"%"===i&&(o=o*n/100,a=a*r/100),{x:o,y:a}}function Tt(e){var t=e.height,n=e.width,r=e.lockOffset,o=Array.isArray(r)?r:[r,r];st()(2===o.length,"lockOffset prop of SortableContainer should be a single value or an array of exactly two values. Given %s",r);var a=Ke(o,2),i=a[0],c=a[1];return[At({height:t,lockOffset:i,width:n}),At({height:t,lockOffset:c,width:n})]}function Pt(e){return e instanceof HTMLElement?function(e){var t=window.getComputedStyle(e),n=/(auto|scroll)/;return["overflow","overflowX","overflowY"].find((function(e){return n.test(t[e])}))}(e)?e:Pt(e.parentNode):null}function Nt(e){var t=window.getComputedStyle(e);return"grid"===t.display?{x:_t(t.gridColumnGap),y:_t(t.gridRowGap)}:{x:0,y:0}}var Mt=27,Rt=32,Lt=37,Dt=38,Ft=39,zt=40,Bt="A",Vt="BUTTON",Ht="CANVAS",qt="INPUT",Wt="OPTION",Ut="TEXTAREA",$t="SELECT";function Qt(e){var t="input, textarea, select, canvas, [contenteditable]",n=e.querySelectorAll(t),r=e.cloneNode(!0);return ft(r.querySelectorAll(t)).forEach((function(e,t){("file"!==e.type&&(e.value=n[t].value),"radio"===e.type&&e.name&&(e.name="__sortableClone__".concat(e.name)),e.tagName===Ht&&n[t].width>0&&n[t].height>0)&&e.getContext("2d").drawImage(n[t],0,0)})),r}function Gt(e){return null!=e.sortableHandle}var Yt=function(){function e(t,n){Je(this,e),this.container=t,this.onScrollCallback=n}return tt(e,[{key:"clear",value:function(){null!=this.interval&&(clearInterval(this.interval),this.interval=null)}},{key:"update",value:function(e){var t=this,n=e.translate,r=e.minTranslate,o=e.maxTranslate,a=e.width,i=e.height,c={x:0,y:0},l={x:1,y:1},u=10,s=10,f=this.container,d=f.scrollTop,p=f.scrollLeft,m=f.scrollHeight,h=f.scrollWidth,g=0===d,b=m-d-f.clientHeight==0,y=0===p,v=h-p-f.clientWidth==0;n.y>=o.y-i/2&&!b?(c.y=1,l.y=s*Math.abs((o.y-i/2-n.y)/i)):n.x>=o.x-a/2&&!v?(c.x=1,l.x=u*Math.abs((o.x-a/2-n.x)/a)):n.y<=r.y+i/2&&!g?(c.y=-1,l.y=s*Math.abs((n.y-i/2-r.y)/i)):n.x<=r.x+a/2&&!y&&(c.x=-1,l.x=u*Math.abs((n.x-a/2-r.x)/a)),this.interval&&(this.clear(),this.isAutoScrolling=!1),0===c.x&&0===c.y||(this.interval=setInterval((function(){t.isAutoScrolling=!0;var e={left:l.x*c.x,top:l.y*c.y};t.container.scrollTop+=e.top,t.container.scrollLeft+=e.left,t.onScrollCallback(e)}),5))}}]),e}();var Kt={axis:p.a.oneOf(["x","y","xy"]),contentWindow:p.a.any,disableAutoscroll:p.a.bool,distance:p.a.number,getContainer:p.a.func,getHelperDimensions:p.a.func,helperClass:p.a.string,helperContainer:p.a.oneOfType([p.a.func,"undefined"==typeof HTMLElement?p.a.any:p.a.instanceOf(HTMLElement)]),hideSortableGhost:p.a.bool,keyboardSortingTransitionDuration:p.a.number,lockAxis:p.a.string,lockOffset:p.a.oneOfType([p.a.number,p.a.string,p.a.arrayOf(p.a.oneOfType([p.a.number,p.a.string]))]),lockToContainerEdges:p.a.bool,onSortEnd:p.a.func,onSortMove:p.a.func,onSortOver:p.a.func,onSortStart:p.a.func,pressDelay:p.a.number,pressThreshold:p.a.number,keyCodes:p.a.shape({lift:p.a.arrayOf(p.a.number),drop:p.a.arrayOf(p.a.number),cancel:p.a.arrayOf(p.a.number),up:p.a.arrayOf(p.a.number),down:p.a.arrayOf(p.a.number)}),shouldCancelStart:p.a.func,transitionDuration:p.a.number,updateBeforeSortStart:p.a.func,useDragHandle:p.a.bool,useWindowAsScrollContainer:p.a.bool},Zt={lift:[Rt],drop:[Rt],cancel:[Mt],up:[Dt,Lt],down:[zt,Ft]},Xt={axis:"y",disableAutoscroll:!1,distance:0,getHelperDimensions:function(e){var t=e.node;return{height:t.offsetHeight,width:t.offsetWidth}},hideSortableGhost:!0,lockOffset:"50%",lockToContainerEdges:!1,pressDelay:0,pressThreshold:5,keyCodes:Zt,shouldCancelStart:function(e){return-1!==[qt,Ut,$t,Wt,Vt].indexOf(e.target.tagName)||!!Ot(e.target,(function(e){return"true"===e.contentEditable}))},transitionDuration:300,useWindowAsScrollContainer:!1},Jt=Object.keys(Kt);function en(e){st()(!(e.distance&&e.pressDelay),"Attempted to set both `pressDelay` and `distance` on SortableContainer, you may only use one or the other, not both at the same time.")}function tn(e,t){try{var n=e()}catch(e){return t(!0,e)}return n&&n.then?n.then(t.bind(null,!1),t.bind(null,!0)):t(!1,value)}var nn=Object(r.createContext)({manager:{}});var rn={index:p.a.number.isRequired,collection:p.a.oneOfType([p.a.number,p.a.string]),disabled:p.a.bool},on=Object.keys(rn);var an=n(251),cn=n.n(an),ln=n(654),un=n.n(ln);function sn(){return sn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},sn.apply(this,arguments)}var fn=o.a.createElement("path",{d:"M0 0h22v2H0zm0 6h22v2H0zm0 6h22v2H0z"}),dn=function(e){return o.a.createElement("svg",sn({viewBox:"0 0 22 16"},e),fn)},pn=n(89),mn=n(56),hn=n(121),gn=["children"];function bn(e){return function(e){if(Array.isArray(e))return On(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||vn(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function yn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,a=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){c=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(c)throw o}}return a}(e,t)||vn(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function vn(e,t){if(e){if("string"==typeof e)return On(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?On(e,t):void 0}}function On(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function wn(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function _n(){return _n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_n.apply(this,arguments)}function jn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function En(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?jn(Object(n),!0).forEach((function(t){Cn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Cn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var xn=function(e){var t=e.primary,n=e.secondary,r=e.secondaryPrefix;return o.a.createElement(o.a.Fragment,null,t," ",o.a.createElement(Fn.SecondaryLabel,null,r,n))},In=function(e){var t=En(En({},e.innerProps),{},{onMouseDown:function(e){e.preventDefault(),e.stopPropagation()}}),n=$e()(e.children)?o.a.createElement(Ee.m.MultiValue,_n({},e,{innerProps:t}),o.a.createElement(xn,_n({secondaryPrefix:e.selectProps.secondaryPrefix},e.children))):o.a.createElement(Ee.m.MultiValue,_n({},e,{innerProps:t}));return o.a.createElement(Fn.MultiValueWrapper,null,n)},Sn=function(e){var t,n,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{withRef:!1};return n=t=function(t){function n(){var e,t;Je(this,n);for(var o=arguments.length,a=new Array(o),i=0;i<o;i++)a[i]=arguments[i];return Ze(ot(ot(t=at(this,(e=it(n)).call.apply(e,[this].concat(a))))),"wrappedInstance",Object(r.createRef)()),t}return lt(n,t),tt(n,[{key:"componentDidMount",value:function(){this.register()}},{key:"componentDidUpdate",value:function(e){this.node&&(e.index!==this.props.index&&(this.node.sortableInfo.index=this.props.index),e.disabled!==this.props.disabled&&(this.node.sortableInfo.disabled=this.props.disabled)),e.collection!==this.props.collection&&(this.unregister(e.collection),this.register())}},{key:"componentWillUnmount",value:function(){this.unregister()}},{key:"register",value:function(){var e=this.props,t=e.collection,n=e.disabled,r=e.index,o=Object(Ne.findDOMNode)(this);o.sortableInfo={collection:t,disabled:n,index:r,manager:this.context.manager},this.node=o,this.ref={node:o},this.context.manager.add(t,this.ref)}},{key:"unregister",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props.collection;this.context.manager.remove(e,this.ref)}},{key:"getWrappedInstance",value:function(){return st()(o.withRef,"To access the wrapped instance, you need to pass in {withRef: true} as the second argument of the SortableElement() call"),this.wrappedInstance.current}},{key:"render",value:function(){var t=o.withRef?this.wrappedInstance:null;return Object(r.createElement)(e,Qe({ref:t},mt(this.props,on)))}}]),n}(r.Component),Ze(t,"displayName",Et("sortableElement",e)),Ze(t,"contextType",nn),Ze(t,"propTypes",rn),Ze(t,"defaultProps",{collection:0}),n}(In),kn=function(e){var t,n,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{withRef:!1};return n=t=function(t){function n(){var e,t;Je(this,n);for(var o=arguments.length,a=new Array(o),i=0;i<o;i++)a[i]=arguments[i];return Ze(ot(ot(t=at(this,(e=it(n)).call.apply(e,[this].concat(a))))),"wrappedInstance",Object(r.createRef)()),t}return lt(n,t),tt(n,[{key:"componentDidMount",value:function(){Object(Ne.findDOMNode)(this).sortableHandle=!0}},{key:"getWrappedInstance",value:function(){return st()(o.withRef,"To access the wrapped instance, you need to pass in {withRef: true} as the second argument of the SortableHandle() call"),this.wrappedInstance.current}},{key:"render",value:function(){var t=o.withRef?this.wrappedInstance:null;return Object(r.createElement)(e,Qe({ref:t},this.props))}}]),n}(r.Component),Ze(t,"displayName",Et("sortableHandle",e)),n}((function(e){var t=e.children,n=wn(e,gn).selectProps.value.length>1;return o.a.createElement(Fn.MultiValueLabel,{sortable:!0},n&&o.a.createElement(j.a,{aspectRatio:14.6/22,lineHeight:.6,svg:dn,verticalAlign:0}),t)})),An=function(e){return e.selectProps.isDisabled?null:o.a.createElement(Ee.m.MultiValueRemove,e,o.a.createElement(mn.a,null))},Tn=function(e){return $e()(e.label)?o.a.createElement(Ee.m.Option,e,o.a.createElement(xn,e.label)):o.a.createElement(Ee.m.Option,e)},Pn=function(e,t){if(!e.value||!t.value)return!1;var n=un()(e.value,t.value,cn.a);return e.value.length===t.value.length&&0===n.length},Nn=o.a.memo(Le,Pn),Mn=o.a.memo(We,Pn),Rn=function(e){var t,n,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{withRef:!1};return n=t=function(t){function n(e){var t;Je(this,n),Ze(ot(ot(t=at(this,it(n).call(this,e)))),"state",{}),Ze(ot(ot(t)),"handleStart",(function(e){var n=t.props,r=n.distance,o=n.shouldCancelStart;if(2!==e.button&&!o(e)){t.touched=!0,t.position=xt(e);var a=Ot(e.target,(function(e){return null!=e.sortableInfo}));if(a&&a.sortableInfo&&t.nodeIsChild(a)&&!t.state.sorting){var i=t.props.useDragHandle,c=a.sortableInfo,l=c.index,u=c.collection;if(c.disabled)return;if(i&&!Ot(e.target,Gt))return;t.manager.active={collection:u,index:l},It(e)||e.target.tagName!==Bt||e.preventDefault(),r||(0===t.props.pressDelay?t.handlePress(e):t.pressTimer=setTimeout((function(){return t.handlePress(e)}),t.props.pressDelay))}}})),Ze(ot(ot(t)),"nodeIsChild",(function(e){return e.sortableInfo.manager===t.manager})),Ze(ot(ot(t)),"handleMove",(function(e){var n=t.props,r=n.distance,o=n.pressThreshold;if(!t.state.sorting&&t.touched&&!t._awaitingUpdateBeforeSortStart){var a=xt(e),i={x:t.position.x-a.x,y:t.position.y-a.y},c=Math.abs(i.x)+Math.abs(i.y);t.delta=i,r||o&&!(c>=o)?r&&c>=r&&t.manager.isActive()&&t.handlePress(e):(clearTimeout(t.cancelTimer),t.cancelTimer=setTimeout(t.cancel,0))}})),Ze(ot(ot(t)),"handleEnd",(function(){t.touched=!1,t.cancel()})),Ze(ot(ot(t)),"cancel",(function(){var e=t.props.distance;t.state.sorting||(e||clearTimeout(t.pressTimer),t.manager.active=null)})),Ze(ot(ot(t)),"handlePress",(function(e){try{var n=t.manager.getActive(),r=function(){if(n){var r=function(){var n=d.sortableInfo.index,r=jt(d),o=Nt(t.container),u=t.scrollContainer.getBoundingClientRect(),h=i({index:n,node:d,collection:p});if(t.node=d,t.margin=r,t.gridGap=o,t.width=h.width,t.height=h.height,t.marginOffset={x:t.margin.left+t.margin.right+t.gridGap.x,y:Math.max(t.margin.top,t.margin.bottom,t.gridGap.y)},t.boundingClientRect=d.getBoundingClientRect(),t.containerBoundingRect=u,t.index=n,t.newIndex=n,t.axis={x:a.indexOf("x")>=0,y:a.indexOf("y")>=0},t.offsetEdge=St(d,t.container),t.initialOffset=xt(m?Xe({},e,{pageX:t.boundingClientRect.left,pageY:t.boundingClientRect.top}):e),t.initialScroll={left:t.scrollContainer.scrollLeft,top:t.scrollContainer.scrollTop},t.initialWindowScroll={left:window.pageXOffset,top:window.pageYOffset},t.helper=t.helperContainer.appendChild(Qt(d)),bt(t.helper,{boxSizing:"border-box",height:"".concat(t.height,"px"),left:"".concat(t.boundingClientRect.left-r.left,"px"),pointerEvents:"none",position:"fixed",top:"".concat(t.boundingClientRect.top-r.top,"px"),width:"".concat(t.width,"px")}),m&&t.helper.focus(),l&&(t.sortableGhost=d,bt(d,{opacity:0,visibility:"hidden"})),t.minTranslate={},t.maxTranslate={},m){var g=f?{top:0,left:0,width:t.contentWindow.innerWidth,height:t.contentWindow.innerHeight}:t.containerBoundingRect,b=g.top,y=g.left,v=g.width,O=b+g.height,w=y+v;t.axis.x&&(t.minTranslate.x=y-t.boundingClientRect.left,t.maxTranslate.x=w-(t.boundingClientRect.left+t.width)),t.axis.y&&(t.minTranslate.y=b-t.boundingClientRect.top,t.maxTranslate.y=O-(t.boundingClientRect.top+t.height))}else t.axis.x&&(t.minTranslate.x=(f?0:u.left)-t.boundingClientRect.left-t.width/2,t.maxTranslate.x=(f?t.contentWindow.innerWidth:u.left+u.width)-t.boundingClientRect.left-t.width/2),t.axis.y&&(t.minTranslate.y=(f?0:u.top)-t.boundingClientRect.top-t.height/2,t.maxTranslate.y=(f?t.contentWindow.innerHeight:u.top+u.height)-t.boundingClientRect.top-t.height/2);c&&c.split(" ").forEach((function(e){return t.helper.classList.add(e)})),t.listenerNode=e.touches?e.target:t.contentWindow,m?(t.listenerNode.addEventListener("wheel",t.handleKeyEnd,!0),t.listenerNode.addEventListener("mousedown",t.handleKeyEnd,!0),t.listenerNode.addEventListener("keydown",t.handleKeyDown)):(ht.move.forEach((function(e){return t.listenerNode.addEventListener(e,t.handleSortMove,!1)})),ht.end.forEach((function(e){return t.listenerNode.addEventListener(e,t.handleSortEnd,!1)}))),t.setState({sorting:!0,sortingIndex:n}),s&&s({node:d,index:n,collection:p,isKeySorting:m,nodes:t.manager.getOrderedRefs(),helper:t.helper},e),m&&t.keyMove(0)},o=t.props,a=o.axis,i=o.getHelperDimensions,c=o.helperClass,l=o.hideSortableGhost,u=o.updateBeforeSortStart,s=o.onSortStart,f=o.useWindowAsScrollContainer,d=n.node,p=n.collection,m=t.manager.isKeySorting,h=function(){if("function"==typeof u){t._awaitingUpdateBeforeSortStart=!0;var n=tn((function(){var t=d.sortableInfo.index;return Promise.resolve(u({collection:p,index:t,node:d,isKeySorting:m},e)).then((function(){}))}),(function(e,n){if(t._awaitingUpdateBeforeSortStart=!1,e)throw n;return n}));if(n&&n.then)return n.then((function(){}))}}();return h&&h.then?h.then(r):r()}}();return Promise.resolve(r&&r.then?r.then((function(){})):void 0)}catch(e){return Promise.reject(e)}})),Ze(ot(ot(t)),"handleSortMove",(function(e){var n=t.props.onSortMove;"function"==typeof e.preventDefault&&e.cancelable&&e.preventDefault(),t.updateHelperPosition(e),t.animateNodes(),t.autoscroll(),n&&n(e)})),Ze(ot(ot(t)),"handleSortEnd",(function(e){var n=t.props,r=n.hideSortableGhost,o=n.onSortEnd,a=t.manager,i=a.active.collection,c=a.isKeySorting,l=t.manager.getOrderedRefs();t.listenerNode&&(c?(t.listenerNode.removeEventListener("wheel",t.handleKeyEnd,!0),t.listenerNode.removeEventListener("mousedown",t.handleKeyEnd,!0),t.listenerNode.removeEventListener("keydown",t.handleKeyDown)):(ht.move.forEach((function(e){return t.listenerNode.removeEventListener(e,t.handleSortMove)})),ht.end.forEach((function(e){return t.listenerNode.removeEventListener(e,t.handleSortEnd)})))),t.helper.parentNode.removeChild(t.helper),r&&t.sortableGhost&&bt(t.sortableGhost,{opacity:"",visibility:""});for(var u=0,s=l.length;u<s;u++){var f=l[u],d=f.node;f.edgeOffset=null,f.boundingClientRect=null,yt(d,null),vt(d,null),f.translate=null}t.autoScroller.clear(),t.manager.active=null,t.manager.isKeySorting=!1,t.setState({sorting:!1,sortingIndex:null}),"function"==typeof o&&o({collection:i,newIndex:t.newIndex,oldIndex:t.index,isKeySorting:c,nodes:l},e),t.touched=!1})),Ze(ot(ot(t)),"autoscroll",(function(){var e=t.props.disableAutoscroll,n=t.manager.isKeySorting;if(e)t.autoScroller.clear();else{if(n){var r=Xe({},t.translate),o=0,a=0;return t.axis.x&&(r.x=Math.min(t.maxTranslate.x,Math.max(t.minTranslate.x,t.translate.x)),o=t.translate.x-r.x),t.axis.y&&(r.y=Math.min(t.maxTranslate.y,Math.max(t.minTranslate.y,t.translate.y)),a=t.translate.y-r.y),t.translate=r,yt(t.helper,t.translate),t.scrollContainer.scrollLeft+=o,void(t.scrollContainer.scrollTop+=a)}t.autoScroller.update({height:t.height,maxTranslate:t.maxTranslate,minTranslate:t.minTranslate,translate:t.translate,width:t.width})}})),Ze(ot(ot(t)),"onAutoScroll",(function(e){t.translate.x+=e.left,t.translate.y+=e.top,t.animateNodes()})),Ze(ot(ot(t)),"handleKeyDown",(function(e){var n=e.keyCode,r=t.props,o=r.shouldCancelStart,a=r.keyCodes,i=Xe({},Zt,void 0===a?{}:a);t.manager.active&&!t.manager.isKeySorting||!(t.manager.active||i.lift.includes(n)&&!o(e)&&t.isValidSortingTarget(e))||(e.stopPropagation(),e.preventDefault(),i.lift.includes(n)&&!t.manager.active?t.keyLift(e):i.drop.includes(n)&&t.manager.active?t.keyDrop(e):i.cancel.includes(n)?(t.newIndex=t.manager.active.index,t.keyDrop(e)):i.up.includes(n)?t.keyMove(-1):i.down.includes(n)&&t.keyMove(1))})),Ze(ot(ot(t)),"keyLift",(function(e){var n=e.target,r=Ot(n,(function(e){return null!=e.sortableInfo})).sortableInfo,o=r.index,a=r.collection;t.initialFocusedNode=n,t.manager.isKeySorting=!0,t.manager.active={index:o,collection:a},t.handlePress(e)})),Ze(ot(ot(t)),"keyMove",(function(e){var n=t.manager.getOrderedRefs(),r=n[n.length-1].node.sortableInfo.index,o=t.newIndex+e,a=t.newIndex;if(!(o<0||o>r)){t.prevIndex=a,t.newIndex=o;var i=kt(t.newIndex,t.prevIndex,t.index),c=n.find((function(e){return e.node.sortableInfo.index===i})),l=c.node,u=t.containerScrollDelta,s=c.boundingClientRect||Ct(l,u),f=c.translate||{x:0,y:0},d=s.top+f.y-u.top,p=s.left+f.x-u.left,m=a<o,h=m&&t.axis.x?l.offsetWidth-t.width:0,g=m&&t.axis.y?l.offsetHeight-t.height:0;t.handleSortMove({pageX:p+h,pageY:d+g,ignoreTransition:0===e})}})),Ze(ot(ot(t)),"keyDrop",(function(e){t.handleSortEnd(e),t.initialFocusedNode&&t.initialFocusedNode.focus()})),Ze(ot(ot(t)),"handleKeyEnd",(function(e){t.manager.active&&t.keyDrop(e)})),Ze(ot(ot(t)),"isValidSortingTarget",(function(e){var n=t.props.useDragHandle,r=e.target,o=Ot(r,(function(e){return null!=e.sortableInfo}));return o&&o.sortableInfo&&!o.sortableInfo.disabled&&(n?Gt(r):r.sortableInfo)}));var o=new dt;return en(e),t.manager=o,t.wrappedInstance=Object(r.createRef)(),t.sortableContextValue={manager:o},t.events={end:t.handleEnd,move:t.handleMove,start:t.handleStart},t}return lt(n,t),tt(n,[{key:"componentDidMount",value:function(){var e=this,t=this.props.useWindowAsScrollContainer,n=this.getContainer();Promise.resolve(n).then((function(n){e.container=n,e.document=e.container.ownerDocument||document;var r=e.props.contentWindow||e.document.defaultView||window;e.contentWindow="function"==typeof r?r():r,e.scrollContainer=t?e.document.scrollingElement||e.document.documentElement:Pt(e.container)||e.container,e.autoScroller=new Yt(e.scrollContainer,e.onAutoScroll),Object.keys(e.events).forEach((function(t){return ht[t].forEach((function(n){return e.container.addEventListener(n,e.events[t],!1)}))})),e.container.addEventListener("keydown",e.handleKeyDown)}))}},{key:"componentWillUnmount",value:function(){var e=this;this.helper&&this.helper.parentNode&&this.helper.parentNode.removeChild(this.helper),this.container&&(Object.keys(this.events).forEach((function(t){return ht[t].forEach((function(n){return e.container.removeEventListener(n,e.events[t])}))})),this.container.removeEventListener("keydown",this.handleKeyDown))}},{key:"updateHelperPosition",value:function(e){var t=this.props,n=t.lockAxis,r=t.lockOffset,o=t.lockToContainerEdges,a=t.transitionDuration,i=t.keyboardSortingTransitionDuration,c=void 0===i?a:i,l=this.manager.isKeySorting,u=e.ignoreTransition,s=xt(e),f={x:s.x-this.initialOffset.x,y:s.y-this.initialOffset.y};if(f.y-=window.pageYOffset-this.initialWindowScroll.top,f.x-=window.pageXOffset-this.initialWindowScroll.left,this.translate=f,o){var d=Ke(Tt({height:this.height,lockOffset:r,width:this.width}),2),p=d[0],m=d[1],h={x:this.width/2-p.x,y:this.height/2-p.y},g={x:this.width/2-m.x,y:this.height/2-m.y};f.x=wt(this.minTranslate.x+h.x,this.maxTranslate.x-g.x,f.x),f.y=wt(this.minTranslate.y+h.y,this.maxTranslate.y-g.y,f.y)}"x"===n?f.y=0:"y"===n&&(f.x=0),l&&c&&!u&&vt(this.helper,c),yt(this.helper,f)}},{key:"animateNodes",value:function(){var e=this.props,t=e.transitionDuration,n=e.hideSortableGhost,r=e.onSortOver,o=this.containerScrollDelta,a=this.windowScrollDelta,i=this.manager.getOrderedRefs(),c=this.offsetEdge.left+this.translate.x+o.left,l=this.offsetEdge.top+this.translate.y+o.top,u=this.manager.isKeySorting,s=this.newIndex;this.newIndex=null;for(var f=0,d=i.length;f<d;f++){var p=i[f].node,m=p.sortableInfo.index,h=p.offsetWidth,g=p.offsetHeight,b={height:this.height>g?g/2:this.height/2,width:this.width>h?h/2:this.width/2},y=u&&m>this.index&&m<=s,v=u&&m<this.index&&m>=s,O={x:0,y:0},w=i[f].edgeOffset;w||(w=St(p,this.container),i[f].edgeOffset=w,u&&(i[f].boundingClientRect=Ct(p,o)));var _=f<i.length-1&&i[f+1],j=f>0&&i[f-1];_&&!_.edgeOffset&&(_.edgeOffset=St(_.node,this.container),u&&(_.boundingClientRect=Ct(_.node,o))),m!==this.index?(t&&vt(p,t),this.axis.x?this.axis.y?v||m<this.index&&(c+a.left-b.width<=w.left&&l+a.top<=w.top+b.height||l+a.top+b.height<=w.top)?(O.x=this.width+this.marginOffset.x,w.left+O.x>this.containerBoundingRect.width-b.width&&_&&(O.x=_.edgeOffset.left-w.left,O.y=_.edgeOffset.top-w.top),null===this.newIndex&&(this.newIndex=m)):(y||m>this.index&&(c+a.left+b.width>=w.left&&l+a.top+b.height>=w.top||l+a.top+b.height>=w.top+g))&&(O.x=-(this.width+this.marginOffset.x),w.left+O.x<this.containerBoundingRect.left+b.width&&j&&(O.x=j.edgeOffset.left-w.left,O.y=j.edgeOffset.top-w.top),this.newIndex=m):y||m>this.index&&c+a.left+b.width>=w.left?(O.x=-(this.width+this.marginOffset.x),this.newIndex=m):(v||m<this.index&&c+a.left<=w.left+b.width)&&(O.x=this.width+this.marginOffset.x,null==this.newIndex&&(this.newIndex=m)):this.axis.y&&(y||m>this.index&&l+a.top+b.height>=w.top?(O.y=-(this.height+this.marginOffset.y),this.newIndex=m):(v||m<this.index&&l+a.top<=w.top+b.height)&&(O.y=this.height+this.marginOffset.y,null==this.newIndex&&(this.newIndex=m))),yt(p,O),i[f].translate=O):n&&(this.sortableGhost=p,bt(p,{opacity:0,visibility:"hidden"}))}null==this.newIndex&&(this.newIndex=this.index),u&&(this.newIndex=s);var E=u?this.prevIndex:s;r&&this.newIndex!==E&&r({collection:this.manager.active.collection,index:this.index,newIndex:this.newIndex,oldIndex:E,isKeySorting:u,nodes:i,helper:this.helper})}},{key:"getWrappedInstance",value:function(){return st()(o.withRef,"To access the wrapped instance, you need to pass in {withRef: true} as the second argument of the SortableContainer() call"),this.wrappedInstance.current}},{key:"getContainer",value:function(){var e=this.props.getContainer;return"function"!=typeof e?Object(Ne.findDOMNode)(this):e(o.withRef?this.getWrappedInstance():void 0)}},{key:"render",value:function(){var t=o.withRef?this.wrappedInstance:null;return Object(r.createElement)(nn.Provider,{value:this.sortableContextValue},Object(r.createElement)(e,Qe({ref:t},mt(this.props,Jt))))}},{key:"helperContainer",get:function(){var e=this.props.helperContainer;return"function"==typeof e?e():this.props.helperContainer||this.document.body}},{key:"containerScrollDelta",get:function(){return this.props.useWindowAsScrollContainer?{left:0,top:0}:{left:this.scrollContainer.scrollLeft-this.initialScroll.left,top:this.scrollContainer.scrollTop-this.initialScroll.top}}},{key:"windowScrollDelta",get:function(){return{left:this.contentWindow.pageXOffset-this.initialWindowScroll.left,top:this.contentWindow.pageYOffset-this.initialWindowScroll.top}}}]),n}(r.Component),Ze(t,"displayName",Et("sortableList",e)),Ze(t,"defaultProps",Xt),Ze(t,"propTypes",Kt),n}(o.a.memo(We,(function(e,t){return!(!e.value||!t.value)&&(e.value.length===t.value.length&&e.value.every((function(e,n){return cn()(e,t.value[n])})))}))),Ln={IndicatorsContainer:function(){return null},MultiValue:Sn,MultiValueLabel:kn,MultiValueRemove:An,Option:Tn},Dn={IndicatorSeparator:function(){return null},IndicatorsContainer:function(e){return e.selectProps.isDisabled?o.a.createElement(Fn.DisabledIcon,null,o.a.createElement(pn.a,null)):null},DropdownIndicator:function(){return null},ClearIndicator:hn.a,MultiValue:In,MultiValueLabel:function(e){var t=e.children;return o.a.createElement(Fn.MultiValueLabel,null,t)},MultiValueRemove:An,Option:Tn},Fn=function e(t){var n=t.creatablePreservesOnBlur,a=t.dataTestId,i=t.defaultValue,l=t.disabled,u=t.isCreatable,s=t.isMulti,f=t.isSortable,d=t.loadOptions,p=t.onChange,m=t.placeholder,h=t.promptMessage,g=t.secondaryPrefix,b=t.valueBackgroundKey,y=t.customStyles,v=Object(r.useRef)(),O=Object(r.useRef)(),w=Object(c.h)(),_=yn(Object(r.useState)(i),2),j=_[0],E=_[1],C=!s&&j&&1===j.length,x=Object(r.useCallback)((function(e,t){var n=t.action;!C||"remove-value"!==n&&"pop-value"!==n||setTimeout((function(){return v.current.focus()}),0),E(e),p&&p(e,n),O.current=n,s||"select-option"!==n||v.current.blur()}),[p,s,C]),I=Object(le.a)("clearSidebarContributorMetadataForm");Object(r.useEffect)((function(){var e=function(){E(null)};return I.subscribe(e),function(){I.unsubscribe(e)}}),[I]);var S=Object(r.useCallback)((function(e){var t=e.oldIndex,n=e.newIndex,r=j.slice(),o=r.splice(t,1)[0];r.splice(n<0?r.length+n:n,0,o),x(r,{action:"set-value-on-sort"})}),[x,j]),k=Object(r.useCallback)((function(e){"Escape"===e.key&&(e.target.blur(),e.stopPropagation())}),[]),A=Object(r.useCallback)((function(){return h}),[h]),T=Object(r.useMemo)((function(){return Object(hn.c)(w)}),[w]),P=Object(r.useMemo)((function(){return Object(hn.d)(w)}),[w]),N={isDisabled:l,isMulti:!0,isSearchable:!C,loadOptions:d,styles:En(En({},T),y),noOptionsMessage:A,onBlur:function(){if(u&&n&&(s||"select-option"!==O.current)){var e=v.current.state.inputValue,t=null==e?void 0:e.trim();if(t){var r={label:t,value:t,__isNew__:!0},o=[].concat(bn(j||[]),[r]);x(o,{action:"set-value-on-blur"})}}},onChange:x,onKeyDown:k,openMenuOnFocus:!C,tabSelectsValue:!1,placeholder:m,ref:v,theme:P,value:j,secondaryPrefix:g,valueBackgroundKey:b};C&&(N.menuIsOpen=!1);var M=u?Mn:Nn;return o.a.createElement(e.Container,{"data-testid":a},f?o.a.createElement(Rn,_n({isClearable:!0,useDragHandle:!0,axis:"xy",onSortEnd:S,distance:4,helperClass:"helper-dragging",getHelperDimensions:function(e){var t=e.node.getBoundingClientRect();return{height:Math.ceil(t.height),width:Math.ceil(t.width)}},components:Ln},N)):o.a.createElement(M,_n({components:Dn},N)))};Fn.defaultProps={creatablePreservesOnBlur:!0,disabled:!1,isCreatable:!0,isMulti:!0,isSortable:!1};var zn=Fn;Fn.Container=c.f.div.withConfig({displayName:"TagInput__Container",componentId:"sc-17py0eg-0"})(["font-family:",";"],(function(e){return e.theme.font.alternate})),Fn.DisabledIcon=c.f.div.withConfig({displayName:"TagInput__DisabledIcon",componentId:"sc-17py0eg-1"})(["display:flex;align-self:center;width:",";margin-right:",";"],(function(e){return e.theme.fontSize.xSmallReading}),(function(e){return e.theme.space.half})),Fn.MultiValueLabel=c.f.div.withConfig({displayName:"TagInput__MultiValueLabel",componentId:"sc-17py0eg-2"})(["color:",";font-size:",";padding:"," ",";"," overflow:hidden;svg{margin-right:",";}",""],(function(e){return e.theme.color.background.on}),(function(e){return e.theme.fontSize.smallReading}),(function(e){return e.theme.space.hair}),(function(e){return e.theme.space.half}),P.c,(function(e){return e.theme.space.xSmall}),(function(e){return e.sortable?"cursor: move;":""})),Fn.SecondaryLabel=c.f.span.withConfig({displayName:"TagInput__SecondaryLabel",componentId:"sc-17py0eg-3"})(["color:",";&:before{content:'\\2014';margin-right:",";}"],(function(e){return e.theme.color.background.onVariant}),(function(e){return e.theme.space.hair})),Fn.MultiValueWrapper=c.f.div.withConfig({displayName:"TagInput__MultiValueWrapper",componentId:"sc-17py0eg-4"})(["&.helper-dragging{","}"],Object(T.a)("draggingValue"));var Bn=n(190),Vn=n(45),Hn=n(64),qn=n.n(Hn),Wn=n(14),Un=n(11);function $n(e,t,n,r,o,a,i){try{var c=e[a](i),l=c.value}catch(e){return void n(e)}c.done?t(l):Promise.resolve(l).then(r,o)}function Qn(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){$n(a,r,o,i,c,"next",e)}function c(e){$n(a,r,o,i,c,"throw",e)}i(void 0)}))}}var Gn=function(){var e=Qn(z.a.mark((function e(t){var n;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Wn.d)("/artists/autocomplete",{q:t});case 2:return n=e.sent,e.abrupt("return",Object(Un.p)(n.artists,Un.d));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Yn=function(){var e=Qn(z.a.mark((function e(t){var n;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Wn.d)("/artists/".concat(t));case 2:return n=e.sent,e.abrupt("return",Object(Un.p)(n,{artist:Un.e}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function Kn(e,t,n,r,o,a,i){try{var c=e[a](i),l=c.value}catch(e){return void n(e)}c.done?t(l):Promise.resolve(l).then(r,o)}var Zn=function(){var e,t=(e=z.a.mark((function e(t){var n;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Wn.d)("/albums/autocomplete",{q:t});case 2:return n=e.sent,e.abrupt("return",n.albums);case 4:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){Kn(a,r,o,i,c,"next",e)}function c(e){Kn(a,r,o,i,c,"throw",e)}i(void 0)}))});return function(e){return t.apply(this,arguments)}}(),Xn=n(377);function Jn(e,t,n,r,o,a,i){try{var c=e[a](i),l=c.value}catch(e){return void n(e)}c.done?t(l):Promise.resolve(l).then(r,o)}var er=function(){var e,t=(e=z.a.mark((function e(t){var n,r,o=arguments;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=o.length>1&&void 0!==o[1]?o[1]:20,e.next=3,Object(Wn.d)("/custom_performance_roles/autocomplete",{q:t,limit:n});case 3:return r=e.sent,e.abrupt("return",Object(Un.p)(r.custom_performance_roles,Un.j));case 5:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){Jn(a,r,o,i,c,"next",e)}function c(e){Jn(a,r,o,i,c,"throw",e)}i(void 0)}))});return function(e){return t.apply(this,arguments)}}();function tr(e,t,n,r,o,a,i){try{var c=e[a](i),l=c.value}catch(e){return void n(e)}c.done?t(l):Promise.resolve(l).then(r,o)}function nr(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){tr(a,r,o,i,c,"next",e)}function c(e){tr(a,r,o,i,c,"throw",e)}i(void 0)}))}}var rr=function(){var e=nr(z.a.mark((function e(t){var n;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Wn.d)("/tags/autocomplete",{q:t});case 2:return n=e.sent,e.abrupt("return",Object(Un.p)(n.tags,Un.w));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),or=function(){var e=nr(z.a.mark((function e(){var t;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Wn.d)("/tags/home");case 2:return t=e.sent,e.abrupt("return",Object(Un.p)(t.tags,Un.w));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ar=qn()((function(e,t){Gn(e).then((function(e){var n=e.result.map((function(t){return{label:e.entities.artists[t].name,value:t}}));t(n)}))}),150),ir=qn()((function(e,t){Zn(e).then((function(e){var n=e.map((function(e){return{label:{primary:e.name,secondary:e.artist.name},value:e.id}}));t(n)}))}),150),cr=qn()((function(e,t){Object(Xn.i)(e).then((function(e){var n=e.map((function(e){var t=e.result;return{label:{primary:t.title_with_featured,secondary:t.artist_names},value:t.id}}));t(n)}))}),150),lr=qn()((function(e,t){er(e).then((function(e){var n=e.result.map((function(t){return{label:e.entities.customPerformanceRoles[t].label,value:t}}));t(n)}))}),150),ur=qn()((function(e,t){rr(e).then((function(e){var n=e.result.map((function(t){return{label:e.entities.tags[t].name,value:t}}));t(n)}))}),150),sr=n(7),fr=n.n(sr),dr=n(26);function pr(e,t,n,r,o,a,i){try{var c=e[a](i),l=c.value}catch(e){return void n(e)}c.done?t(l):Promise.resolve(l).then(r,o)}var mr=function(e){var t=e.children,n=e.className,a=e.control,i=e.defaultValue,c=e.disabled,l=e.helpText,u=e.hideLabel,s=e.isRequired,f=e.label,d=e.name,p=e.rules,m=e.showErrors,h=e.transformForForm,g=e.transformForInput,b=Object(r.useMemo)((function(){return g(i)}),[i,g]),y=Object(r.useCallback)((function(e){return function(){var t,n=(t=z.a.mark((function t(n){var r;return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:h?(r=h(n),e.onChange(r)):e.onChange(n);case 1:case"end":return t.stop()}}),t)})),function(){var e=this,n=arguments;return new Promise((function(r,o){var a=t.apply(e,n);function i(e){pr(a,r,o,i,c,"next",e)}function c(e){pr(a,r,o,i,c,"throw",e)}i(void 0)}))});return function(e){return n.apply(this,arguments)}}()}),[h]),v=Object(r.useCallback)((function(e){var r=e.field,a=e.fieldState,i=a.error;return o.a.createElement(dr.a,{className:n},!u&&o.a.createElement(dr.e,null,f," ",s&&"*"),t({dataTestId:"".concat(d,"-input"),defaultValue:b,disabled:c,hasError:a.invalid,onChange:y(r)}),i&&m&&o.a.createElement(dr.c,null,i.message),l&&o.a.createElement(dr.d,null,l))}),[n,t,c,y,l,u,b,s,f,d,m]);return o.a.createElement(re.a,{control:a,name:d,defaultValue:i,render:v,rules:p})},hr=o.a.memo(mr);function gr(){return gr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},gr.apply(this,arguments)}mr.defaultProps={defaultValue:"",disabled:!1,hideLabel:!1,isRequired:!1,rules:{},showErrors:!0,transformForInput:function(e){return e}};var br=o.a.createElement("path",{d:"M24 10h-10v-10h-4v10h-10v4h10v10h4v-10h10z"}),yr=function(e){return o.a.createElement("svg",gr({width:24,height:24,viewBox:"0 0 24 24"},e),br)},vr=function e(t){var n=t.addButtonText,r=t.allowAddRow,a=t.disabled,i=t.onAddClick,c=t.onRemoveClick,l=t.renderAfter,u=t.renderCategory,s=t.renderValue,f=t.rows,d=Object(ie.a)();return o.a.createElement(e.Container,null,o.a.createElement(e.Rows,null,f.map((function(t,n){return o.a.createElement(e.Row,{key:t.id},o.a.createElement(e.RowContents,{isMobile:d},!a&&o.a.createElement(e.Remove,{onClick:function(){return c(n)}},o.a.createElement(mn.a,{"aria-label":"Remove"})),o.a.createElement(e.RowItem,{isMobile:d},u(t,n)),o.a.createElement(e.RowItem,{isMobile:d},s(t,n))),Boolean(l)&&l(t,n))}))),r&&!a&&o.a.createElement(e.Button,{onClick:i},o.a.createElement(yr,null)," ",n))};vr.defaultProps={allowAddRow:!0,disabled:!1};var Or=o.a.memo(vr);vr.Container=c.f.div.withConfig({displayName:"RepeatableInputPair__Container",componentId:"sc-13uxopg-0"})(["font-family:",";"],(function(e){return e.theme.font.alternate})),vr.Rows=c.f.div.withConfig({displayName:"RepeatableInputPair__Rows",componentId:"sc-13uxopg-1"})([""]),vr.Row=c.f.div.withConfig({displayName:"RepeatableInputPair__Row",componentId:"sc-13uxopg-2"})(["&:not(:last-child){margin-bottom:",";}"],(function(e){return e.theme.space.small})),vr.RowContents=c.f.div.withConfig({displayName:"RepeatableInputPair__RowContents",componentId:"sc-13uxopg-3"})(["display:flex;background:",";position:relative;",""],(function(e){return e.theme.color.background.variant}),(function(e){return e.isMobile?"\n    flex-direction: column;\n    padding: ".concat(e.theme.space.small,";\n  "):"\n    padding: ".concat(e.theme.space.large,";\n  ")})),vr.Remove=c.f.button.attrs({type:"button"}).withConfig({displayName:"RepeatableInputPair__Remove",componentId:"sc-13uxopg-4"})(["padding:",";position:absolute;top:0;right:0;cursor:pointer;svg{display:block;width:",";height:",";}"],(function(e){return e.theme.space.small}),(function(e){return e.theme.space.small}),(function(e){return e.theme.space.small})),vr.RowItem=c.f.div.withConfig({displayName:"RepeatableInputPair__RowItem",componentId:"sc-13uxopg-5"})(["flex:1;",""],(function(e){return e.isMobile?"\n    &:not(:last-child) {\n      margin-bottom: ".concat(e.theme.space.full,";\n    }\n  "):"\n    &:not(:last-child) {\n      margin-right: ".concat(e.theme.space.full,";\n    }\n  ")})),vr.Button=Object(c.f)((function(e){return o.a.createElement(Bn.a,e)})).withConfig({displayName:"RepeatableInputPair__Button",componentId:"sc-13uxopg-6"})(["padding:"," ",";line-height:1;display:flex;margin-top:",";svg{margin-right:",";width:",";height:",";}"],(function(e){return e.theme.space.small}),(function(e){return e.theme.space.full}),(function(e){return e.theme.space.full}),(function(e){return e.theme.space.xSmall}),(function(e){return e.theme.space.half}),(function(e){return e.theme.space.half}));var wr=["onChange"],_r=["onChange"];function jr(){return jr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},jr.apply(this,arguments)}function Er(e,t,n,r,o,a,i){try{var c=e[a](i),l=c.value}catch(e){return void n(e)}c.done?t(l):Promise.resolve(l).then(r,o)}function Cr(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var xr=function e(t){var n=t.disabled,a=t.show,i=Object(m.a)().t,c=Object(re.e)(),l=c.control,s=c.getValues,f=c.trigger,d=Object(re.f)({control:l}).errors,p=Object(re.c)({control:l,name:"custom_performances"}),h=p.fields,g=p.append,b=p.remove,v=Object(y.a)("song:metadata:custom_performance_remove"),O=Object(y.a)("song:metadata:custom_performance_add"),w=Object(y.a)("song:metadata:custom_performances_field_change",{field:"role"}),_=Object(y.a)("song:metadata:custom_performances_field_change",{field:"artist"}),j=Object(r.useCallback)((function(e){e.preventDefault(),g({label:"",artists:[]}),O()}),[g,O]),E=Object(r.useCallback)((function(e){b(e),v()}),[b,v]),C=Object(r.useCallback)((function(e){return w(e)}),[w]),x=Object(r.useCallback)((function(e){return _(e)}),[_]),I=Object(r.useCallback)((function(e,t){var n=fr()(d,"custom_performances.".concat(t,".artists.message"),null);return n&&o.a.createElement(dr.c,null,o.a.createElement("p",null,n))}),[d]),S=Object(r.useCallback)((function(e,t){return o.a.createElement(hr,{control:l,name:"custom_performances.".concat(t,".label"),label:i("edit_metadata.credits.additional_role"),defaultValue:e.label,showErrors:!1,disabled:n,transformForForm:function(e){return e.length>0?e[0].label:null},transformForInput:function(e){return e?[{label:e,value:e}]:null}},(function(e){var n=e.onChange,r=Cr(e,wr);return a?o.a.createElement(zn,jr({isMulti:!1,placeholder:"e.g. Drums, Mastering Engineer",promptMessage:i("edit_metadata.credits.role_prompt"),valueBackgroundKey:"variant",loadOptions:lr,onChange:function(){var e,r=(e=z.a.mark((function e(r,o){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n(r),C({action:o}),!fr()(d,"custom_performances.".concat(t,".artists.message"),null)){e.next=6;break}return e.next=6,f("custom_performances.".concat(t,".artists"));case 6:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){Er(a,r,o,i,c,"next",e)}function c(e){Er(a,r,o,i,c,"throw",e)}i(void 0)}))});return function(e,t){return r.apply(this,arguments)}}()},r)):null}))}),[l,n,d,C,a,i,f]),k=Object(r.useCallback)((function(e,t){return o.a.createElement(hr,{control:l,name:"custom_performances.".concat(t,".artists"),label:i("edit_metadata.credits.artists_in_this_role"),showErrors:!1,disabled:n,rules:{validate:function(e){var n=s("custom_performances.".concat(t,".label"));return Boolean(n&&e&&e.length>0)||i("edit_metadata.credits.validation.role_missing_values")}},defaultValue:(e.artists||[]).map((function(e){return u()(e,["id","name"])})),transformForInput:function(e){return(e||[]).map((function(e){return{value:e.id,label:e.name}}))},transformForForm:function(e){return(e||[]).map((function(e){var t=e.label,n=e.value;return e.__isNew__?{name:t}:{id:n,name:t}}))}},(function(e){var t=e.onChange,n=Cr(e,_r);return a?o.a.createElement(zn,jr({placeholder:"e.g. Travis Barker, Bob Katz",promptMessage:i("edit_metadata.credits.artists_prompt"),valueBackgroundKey:"variant",loadOptions:ar,isSortable:!0,onChange:function(e,n){t(e),x({action:n})}},n)):null}))}),[l,n,s,x,a,i]);return o.a.createElement(e.Container,{show:a},o.a.createElement(Or,{addButtonText:i("edit_metadata.credits.add"),disabled:n,rows:h,onAddClick:j,onRemoveClick:E,renderAfter:I,renderCategory:S,renderValue:k}))};function Ir(){return Ir=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ir.apply(this,arguments)}xr.defaultProps={disabled:!1,show:!0},xr.Container=c.f.div.withConfig({displayName:"CustomPerformances__Container",componentId:"sc-1isj7jl-0"})(["",""],(function(e){return e.show?"":"display: none;"}));var Sr=function(e){var t=function(t){var n=Object(ie.a)();return o.a.createElement(e,Ir({},t,{isMobile:n}))};return t.displayName="withIsMobile(".concat(e.displayName||e.name,")"),t};function kr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ar(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Tr=function(e){var t=e.children,n=e.className,r=e.control,a=e.defaultValue,i=e.disabled,c=e.helpText,l=e.hideLabel,u=e.isRequired,s=e.label,f=e.name,d=e.rules,p=Object(re.f)({control:r}).errors,m=fr()(p,f);return o.a.createElement(dr.a,{className:n},!l&&o.a.createElement(dr.e,null,s," ",u&&"*"),o.a.createElement("div",null,o.a.createElement(re.a,{control:r,name:f,defaultValue:a,render:function(e){var n=e.field,r=e.fieldState;return t(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?kr(Object(n),!0).forEach((function(t){Ar(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({ref:n.ref,value:null===n.value?"":n.value,hasError:r.invalid,disabled:i,dataTestId:"".concat(f,"-input"),onChange:n.onChange,onBlur:n.onBlur},l&&{"aria-label":"".concat(s," ").concat(u?"*":"")}))},rules:d})),m&&o.a.createElement(dr.c,null,m.message),c&&o.a.createElement(dr.d,null,c))},Pr=o.a.memo(Tr);Tr.defaultProps={defaultValue:"",disabled:!1,hideLabel:!1,isRequired:!1,rules:{}};var Nr=Sr(c.f.div.withConfig({displayName:"metadatastyles__MetadataRow",componentId:"nhmb0p-0"})(["",""],(function(e){return!e.isMobile&&"\n    display: flex;\n    flex-direction: ".concat(e.direction||"row",";\n    margin-bottom: ").concat(e.theme.space.large,";\n  ")}))),Mr=Sr(Object(c.f)(Pr).withConfig({displayName:"metadatastyles__MetadataField",componentId:"nhmb0p-1"})(["",""],(function(e){return e.isMobile?"\n  margin-bottom: ".concat(e.theme.space.full,";\n  "):"\n  flex: 1;\n\n  &:not(:last-child) {\n    margin-right: ".concat(e.theme.space.full,";\n  }\n  ")}))),Rr=Sr(Object(c.f)(hr).withConfig({displayName:"metadatastyles__MetadataSelectField",componentId:"nhmb0p-2"})(["",""],(function(e){return e.isMobile?"\n    margin-bottom: ".concat(e.theme.space.full,";\n  "):"\n    flex: 1;\n\n    &:not(:last-child) {\n      margin-right: ".concat(e.theme.space.full,";\n    }\n  ")})));function Lr(){return Lr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Lr.apply(this,arguments)}function Dr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,a=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){c=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(c)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Fr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Fr(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Fr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var zr=function e(t){var n=t.songId,a=Object(re.e)().control,i=Object(b.a)("songs",n),c=Object(b.a)("artists",i.primaryArtist),l=Object(m.a)().t,s=Object(ie.a)(),f=Object(re.g)({control:a,name:"custom_performances",defaultValue:i.customPerformances}),d=Boolean(f.length),p=Object(O.f)("rename",i),h=Object(O.f)("edit",i),g=Dr(Object(r.useState)(!d),2),y=g[0],v=g[1],_=Object(r.useMemo)((function(){return{required:{value:!0,message:l("edit_metadata.required")}}}),[l]),E="custom_performances"in Object(re.f)().errors,C=Object(r.useCallback)((function(e){e.preventDefault(),v(!y)}),[y]),x=Object(r.useCallback)((function(e){return(e||[]).map((function(e){return{value:e.id,label:e.name}}))}),[]),I=Object(r.useCallback)((function(e){return(e||[]).map((function(e){var t=e.label,n=e.value;return e.__isNew__?{name:t}:{id:n,name:t}}))}),[]),S=Object(r.useCallback)((function(e){return(e||[]).map((function(e){return u()(e,["id","name"])}))}),[]);return Object(r.useEffect)((function(){E&&!y&&v(!0)}),[y,E]),o.a.createElement("div",null,o.a.createElement(Nr,null,o.a.createElement(Mr,{control:a,name:"title",label:l("edit_metadata.credits.title"),isRequired:!0,defaultValue:i.title,rules:_,helpText:i.published&&!p?l("edit_metadata.locked"):null,disabled:!p},(function(e){return o.a.createElement(je.a,Lr({paddingKey:"half",placeholder:l("edit_metadata.credits.title_placeholder"),fullWidth:!0},e))})),o.a.createElement(Rr,{control:a,name:"primary_artist",label:l("edit_metadata.credits.artist"),isRequired:!0,rules:_,transformForForm:I,transformForInput:x,defaultValue:S([c]),helpText:i.published&&!p?l("edit_metadata.locked"):null,disabled:!p},(function(e){return o.a.createElement(zn,Lr({placeholder:l("edit_metadata.credits.primary_artist"),promptMessage:l("edit_metadata.credits.artists_prompt"),loadOptions:ar,isMulti:!1},e))}))),o.a.createElement(Nr,null,o.a.createElement(Rr,{control:a,name:"featured_artists",label:l("edit_metadata.credits.featuring"),isRequired:!1,transformForForm:I,transformForInput:x,defaultValue:S(i.featuredArtists),helpText:i.published&&!p?l("edit_metadata.locked"):null,disabled:!p},(function(e){return o.a.createElement(zn,Lr({placeholder:l("edit_metadata.credits.producer_artists_placeholder"),promptMessage:l("edit_metadata.credits.artists_prompt"),loadOptions:ar,isSortable:!0},e))})),o.a.createElement(Rr,{control:a,name:"writer_artists",label:l("edit_metadata.credits.writer_artists_complete"),isRequired:!1,transformForForm:I,transformForInput:x,defaultValue:S(i.writerArtists),disabled:!h},(function(e){return o.a.createElement(zn,Lr({placeholder:l("edit_metadata.credits.writer_artists_placeholder"),promptMessage:l("edit_metadata.credits.artists_prompt"),loadOptions:ar,isSortable:!0},e))}))),o.a.createElement(Nr,null,o.a.createElement(Rr,{control:a,name:"producer_artists",label:l("edit_metadata.credits.producer_artists_complete"),isRequired:!1,transformForForm:I,transformForInput:x,defaultValue:S(i.producerArtists),disabled:!h},(function(e){return o.a.createElement(zn,Lr({placeholder:l("edit_metadata.credits.producer_artists_placeholder"),promptMessage:l("edit_metadata.credits.artists_prompt"),loadOptions:ar,isSortable:!0},e))})),o.a.createElement(e.CreditsExpander,null,d&&o.a.createElement(o.a.Fragment,null,o.a.createElement("p",null,l("edit_metadata.credits.additional_roles",{count:f.length})),o.a.createElement(e.ExpanderButton,{onClick:C,"data-testid":"custom-performances-expander",withBottomMargin:s&&y},y?o.a.createElement(o.a.Fragment,null,l("edit_metadata.credits.collapse")," ",o.a.createElement(j.a,{aspectRatio:.4125,lineHeight:1.33,svg:w.a})):o.a.createElement(o.a.Fragment,null,l("edit_metadata.credits.expand")," ",o.a.createElement(j.a,{aspectRatio:.4125,lineHeight:1.33,svg:Vn.a})))))),o.a.createElement(xr,{show:y||!d,disabled:!h}))},Br=o.a.memo(zr);zr.CreditsExpander=c.f.div.withConfig({displayName:"TitleAndArtists__CreditsExpander",componentId:"l7le8t-0"})(["flex:1;"]),zr.ExpanderButton=Object(c.f)(Bn.a).withConfig({displayName:"TitleAndArtists__ExpanderButton",componentId:"l7le8t-1"})(["margin-top:",";"," padding:"," ",";"],(function(e){return e.theme.space.quarter}),(function(e){return e.withBottomMargin&&"margin-bottom: ".concat(e.theme.space.small,";")}),(function(e){return e.theme.space.half}),(function(e){return e.theme.space.large}));var Vr=n(250);function Hr(){return Hr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Hr.apply(this,arguments)}var qr=o.a.createElement("path",{d:"M20 10.91l-9.34-8.24-9.34 8.24L0 9.41 10.66 0l10.66 9.41-1.32 1.5"}),Wr=function(e){return o.a.createElement("svg",Hr({viewBox:"0 0 21.32 10.91"},e),qr)},Ur=function(e){var t=e.children,n=e.control,r=e.defaultValue,a=e.disabled,i=e.name,c=e.rules,l=e.showErrors,u=Object(re.f)({control:n}).errors[i];return o.a.createElement(o.a.Fragment,null,o.a.createElement(re.a,{control:n,name:i,defaultValue:r,render:function(e){var n=e.field,r=e.fieldState;return t({dataTestId:"".concat(i,"-input"),disabled:a,value:n.value,hasError:r.invalid,onChange:n.onChange})},rules:c}),u&&l&&o.a.createElement(dr.c,null,u.message))},$r=o.a.memo(Ur);Ur.defaultProps={defaultValue:"",disabled:!1,rules:{},showErrors:!0};var Qr=c.f.input.attrs((function(e){return{type:"hidden","data-testid":e.dataTestId}})).withConfig({displayName:"HiddenInput",componentId:"sc-1l3ngiq-0"})([""]),Gr=n(521),Yr=n.n(Gr),Kr=n(195),Zr=n.n(Kr),Xr=function(e){var t=e;return 4===e.length&&(t="#".concat(e[1]).concat(e[1]).concat(e[2]).concat(e[2]).concat(e[3]).concat(e[3])),Zr.a.Util.hexToRgb(t)},Jr=function(e,t){if(!e||!t)return 1;var n=Xr(e),r=Xr(t),o=eo(n),a=eo(r);return o>a?Yr()((o+.05)/(a+.05),2):Yr()((a+.05)/(o+.05),2)},eo=function(e){var t=e.map((function(e){return(e/=255)<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4)}));return.2126*t[0]+.7152*t[1]+.0722*t[2]},to=n(108);function no(){return no=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},no.apply(this,arguments)}var ro=o.a.createElement("path",{d:"M14.172 3.6 11.359.789a.563.563 0 0 0-.793 0L8.71 2.644l-.726-.73-.798.798.73.725-5.793 5.789a.563.563 0 0 0-.163.399v.894L.436 12.04a.562.562 0 0 0 0 .792l1.687 1.688a.562.562 0 0 0 .793 0L4.441 13h.894a.563.563 0 0 0 .4-.163l5.787-5.794.726.731.799-.798-.732-.726 1.857-1.85a.562.562 0 0 0 0-.794v-.005zm-9.068 8.275H3.98l-1.457 1.457-.894-.895 1.457-1.456V9.856L8.71 4.23l2.02 2.019-5.626 5.625zm6.418-6.418-2.019-2.02 1.457-1.456L12.98 4l-1.458 1.457z",fill:"#000"}),oo=function(e){return o.a.createElement("svg",no({width:15,height:15,fill:"none"},e),ro)},ao=n(118),io=function e(t){var n=t.className,r=t.color,a=t.contrast,i=t.isValid,c=t.onChange,l=t.onReset,u=t.showReset,s=t.text,f=t.textColor,d=Object(m.a)().t;return o.a.createElement(e.Container,{className:n},o.a.createElement(e.Swatch,{$color:r,textColor:f},o.a.createElement(e.ColorValue,null,s,":",o.a.createElement(e.Contrast,{isValid:i},a.toFixed(2)," ",o.a.createElement(j.a,{aspectRatio:1,lineHeight:.75,svg:i?to.a:ao.a})))),o.a.createElement(e.Controls,null,o.a.createElement(e.UpdateControl,null,o.a.createElement(e.UpdateLabel,null,o.a.createElement(e.Input,{type:"color",onChange:function(e){return c(e.target.value)},value:r}),o.a.createElement(j.a,{aspectRatio:1,lineHeight:1.25,svg:oo}),o.a.createElement(e.UpdateLabelText,null,d("edit_metadata.gradient.update")))),u&&o.a.createElement(e.ResetButton,{onClick:l},d("edit_metadata.gradient.reset"))),!i&&o.a.createElement(e.Invalid,null,d("edit_metadata.gradient.low_contrast")))},co=io;function lo(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,a=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){c=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(c)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return uo(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return uo(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function uo(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}io.Container=c.f.div.withConfig({displayName:"ColorPicker__Container",componentId:"xt9kno-0"})(["display:flex;flex:0 1 auto;flex-direction:column;"]),io.Swatch=c.f.div.attrs((function(e){return{style:{color:e.textColor,backgroundColor:e.$color}}})).withConfig({displayName:"ColorPicker__Swatch",componentId:"xt9kno-1"})(["min-height:120px;padding:",";margin-bottom:",";border:1px solid ",";svg{fill:",";}"],(function(e){return e.theme.space.full}),(function(e){return e.theme.space.half}),(function(e){return e.theme.color.background.on}),(function(e){return e.textColor})),io.Controls=c.f.div.withConfig({displayName:"ColorPicker__Controls",componentId:"xt9kno-2"})(["display:flex;align-items:flex-start;line-height:",";font-size:",";"],(function(e){return e.theme.fontSize.reading}),(function(e){return e.theme.fontSize.smallReading})),io.ResetButton=c.f.button.withConfig({displayName:"ColorPicker__ResetButton",componentId:"xt9kno-3"})(["text-decoration:underline;line-height:inherit;font-size:",";"],(function(e){return e.theme.fontSize.smallReading})),io.Contrast=c.f.div.withConfig({displayName:"ColorPicker__Contrast",componentId:"xt9kno-4"})(["line-height:.75;margin-top:",";svg{fill:",";}"],(function(e){return e.theme.space.quarter}),(function(e){return e.isValid?e.textColor:e.theme.color.error.main})),io.Invalid=c.f.p.withConfig({displayName:"ColorPicker__Invalid",componentId:"xt9kno-5"})(["margin-top:",";color:",";font-size:",";"],(function(e){return e.theme.space.half}),(function(e){return e.theme.color.error.main}),(function(e){return e.theme.fontSize.smallReading})),io.UpdateControl=c.f.div.withConfig({displayName:"ColorPicker__UpdateControl",componentId:"xt9kno-6"})(["flex-grow:1;"]),io.UpdateLabel=c.f.label.withConfig({displayName:"ColorPicker__UpdateLabel",componentId:"xt9kno-7"})(["vertical-align:top;cursor:pointer;&:focus-within{outline:5px auto Highlight;outline:5px auto -webkit-focus-ring-color;}"]),io.UpdateLabelText=c.f.span.withConfig({displayName:"ColorPicker__UpdateLabelText",componentId:"xt9kno-8"})(["text-decoration:underline;margin-left:",";"],(function(e){return e.theme.space.hair})),io.Input=c.f.input.withConfig({displayName:"ColorPicker__Input",componentId:"xt9kno-9"})(["opacity:0;height:1px;width:1px;"]),io.ColorValue=c.f.div.withConfig({displayName:"ColorPicker__ColorValue",componentId:"xt9kno-10"})(["flex-grow:1;"]);var so="#000000",fo=function(e){return e>=4.5},po=function e(t){var n=t.helperText,a=t.id,i=t.previewImage,c=t.previewImageAltText,l=t.previewTitle,u=t.previewArtist,s=t.initialPrimaryColor,f=t.initialSecondaryColor,d=t.initialTextColor,p=t.onSelection,h=t.selectionDebounceDuration,g=Object(m.a)().t,b=lo(Object(r.useState)(s),2),y=b[0],v=b[1],O=lo(Object(r.useState)(f),2),w=O[0],_=O[1],j=lo(Object(r.useState)(d),2),E=j[0],C=j[1],x=Object(r.useRef)(qn()((function(e){return p(e)}),h)),I=Jr(y,E),S=Jr(w,E);return Object(r.useEffect)((function(){var e=fo(I)&&fo(S);x.current({primaryColor:y,secondaryColor:w,textColor:E,isValid:e})}),[y,w,E,I,S]),o.a.createElement(e.Container,{id:a},o.a.createElement(e.HelperText,null,n),o.a.createElement(e.Preview,{primaryColor:y,secondaryColor:w,textColor:E},o.a.createElement(e.PreviewImage,null,o.a.createElement("img",{src:i,alt:c})),o.a.createElement("div",null,o.a.createElement(e.PreviewTitle,null,l),o.a.createElement("div",null,u))),o.a.createElement(e.Blocks,null,o.a.createElement(e.Picker,{color:y,textColor:E,contrast:I,text:g("edit_metadata.gradient.primary_contrast"),isValid:fo(I),onChange:function(e){var t=Jr(e,so),n=fo(t)?so:"#ffffff";v(e),C(n)},showReset:y!==s,onReset:function(){v(s),C(d)}}),o.a.createElement(e.Picker,{color:w,textColor:E,contrast:S,text:g("edit_metadata.gradient.secondary_contrast"),isValid:fo(S),onChange:function(e){return _(e)},showReset:w!==f,onReset:function(){return _(f)}})))},mo=o.a.memo(po);function ho(){return ho=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ho.apply(this,arguments)}function go(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,a=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){c=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(c)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return bo(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return bo(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function bo(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}po.defaultProps={initialTextColor:so,selectionDebounceDuration:100},po.Container=c.f.div.withConfig({displayName:"GradientColorPicker__Container",componentId:"sc-13bpi6a-0"})(["width:100%;font-family:",";"],(function(e){return e.theme.font.alternate})),po.HelperText=c.f.div.withConfig({displayName:"GradientColorPicker__HelperText",componentId:"sc-13bpi6a-1"})(["font-size:",";color:",";margin-bottom:",";"],(function(e){return e.theme.fontSize.smallReading}),(function(e){return e.theme.color.background.onVariant}),(function(e){return e.theme.space.small})),po.Preview=c.f.div.attrs((function(e){return{style:{color:e.textColor,backgroundImage:"linear-gradient(".concat(e.primaryColor,", ").concat(e.secondaryColor,")")}}})).withConfig({displayName:"GradientColorPicker__Preview",componentId:"sc-13bpi6a-2"})(["margin-bottom:",";padding:"," ",";display:flex;align-items:center;"],(function(e){return e.theme.space.full}),(function(e){return e.theme.space.xxLarge}),(function(e){return e.theme.space.xLarge})),po.PreviewImage=c.f.div.withConfig({displayName:"GradientColorPicker__PreviewImage",componentId:"sc-13bpi6a-3"})(["border:1px solid black;margin-right:",";width:min(40%,250px);flex-shrink:0;img{display:block;}"],(function(e){return e.theme.space.full})),po.PreviewTitle=c.f.div.withConfig({displayName:"GradientColorPicker__PreviewTitle",componentId:"sc-13bpi6a-4"})(["font-family:",";font-size:",";"],(function(e){return e.theme.font.reading}),(function(e){return e.theme.fontSize.smallHeadline})),po.Blocks=c.f.div.withConfig({displayName:"GradientColorPicker__Blocks",componentId:"sc-13bpi6a-5"})(["display:flex;"]),po.Picker=Object(c.f)(co).withConfig({displayName:"GradientColorPicker__Picker",componentId:"sc-13bpi6a-6"})(["width:50%;&:not(:last-child){margin-right:",";}"],(function(e){return e.theme.space.full}));var yo=[".jpg",".jpeg",".gif",".png"],vo=function e(t){var n=t.songId,a=Object(b.a)("songs",n),i=go(Object(r.useState)(!1),2),c=i[0],l=i[1],u=go(Object(r.useState)({primary:a.songArtPrimaryColor,secondary:a.songArtSecondaryColor,text:a.songArtTextColor}),2),s=u[0],f=u[1],d=Object(re.e)(),p=d.clearErrors,h=d.control,g=d.setError,y=d.setValue,v=Object(O.f)("edit",a),w=Object(O.f)("edit_youtube_url",a),_=Object(O.f)("set_song_color_gradient",a),j=Object(m.a)().t,E=Object(ie.a)(),C=go(Object(re.g)({control:h,name:["custom_song_art_image_url","title","primary_artist","song_art_primary_color","song_art_secondary_color","song_art_text_color"]}),6),x=C[0],I=C[1],S=C[2],k=C[3],A=C[4],T=C[5],P=Object(r.useCallback)((function(e){var t=e.isValid,n=e.primaryColor,r=e.secondaryColor,o=e.textColor,i=n!==a.songArtPrimaryColor||r!==a.songArtSecondaryColor||o!==a.songArtTextColor;y("song_art_primary_color",n,{shouldDirty:n!==a.songArtPrimaryColor}),y("song_art_secondary_color",r,{shouldDirty:r!==a.songArtSecondaryColor}),y("song_art_text_color",o,{shouldDirty:o!==a.songArtTextColor}),y("valid_song_art_contrast",t,{shouldDirty:i}),t?p("valid_song_art_contrast"):g("valid_song_art_contrast",{type:"invalid_contrast",message:j("edit_metadata.gradient.invalid")})}),[p,g,y,a,j]),N=function(){_&&(c?(l(!1),f({primary:k,secondary:A,text:T})):l(!0))},M=x||a.customSongArtImageUrl||a.songArtImageThumbnailUrl,R=k||a.songArtPrimaryColor,L=A||a.songArtSecondaryColor;return o.a.createElement(e.Container,null,o.a.createElement(Nr,null,o.a.createElement(e.FieldPair,{isMobile:E},o.a.createElement(e.PairedField,{control:h,name:"youtube_url",label:j("edit_metadata.media.youtube"),defaultValue:a.youtubeUrl,disabled:!w},(function(e){return o.a.createElement(je.a,ho({paddingKey:"half",fullWidth:!0},e))})),o.a.createElement(e.PairedField,{control:h,name:"youtube_start",helpText:j("edit_metadata.media.start_help"),label:j("edit_metadata.media.youtube_start"),defaultValue:a.youtubeStart,disabled:!w,rules:{min:{value:0,message:j("edit_metadata.media.start_error_min")}}},(function(e){return o.a.createElement(je.a,ho({type:"number",paddingKey:"half",fullWidth:!0,placeholder:"00:00"},e))}))),o.a.createElement(e.ImageFieldContainer,{isMobile:E},o.a.createElement(e.ImageFieldPreviewContainer,null,o.a.createElement(e.ImageFieldPreviewAspectRatio,null,o.a.createElement(e.ImageFieldPreview,{src:M}))),o.a.createElement(e.ImageField,{control:h,name:"custom_song_art_image_url",helpText:j("edit_metadata.media.art_help"),label:j("edit_metadata.media.art"),defaultValue:a.customSongArtImageUrl,disabled:!v,rules:{validate:function(e){return!e||(yo.some((function(t){return e.endsWith(t)}))||j("edit_metadata.media.art_invalid"))}}},(function(e){return o.a.createElement(je.a,ho({paddingKey:"half",fullWidth:!0},e))})))),_&&o.a.createElement(o.a.Fragment,null,o.a.createElement(Nr,null,o.a.createElement(e.Gradient,{isMobile:E,"data-testid":"audio-media-gradient"},o.a.createElement(dr.e,null,j("edit_metadata.media.gradient")),o.a.createElement(e.GradientFacade,null,o.a.createElement(e.GradientPreview,{start:R,end:L,onClick:N,cursor:c?"auto":"pointer"}),o.a.createElement(e.GradientToggle,{"aria-expanded":c,"aria-controls":"gradient-color-picker",onClick:N},c?o.a.createElement(o.a.Fragment,null,j("edit_metadata.media.gradient_hide"),o.a.createElement(Wr,null)):o.a.createElement(o.a.Fragment,null,j("edit_metadata.media.gradient_edit"),o.a.createElement(Vr.a,null)))),o.a.createElement($r,{control:h,name:"song_art_primary_color",defaultValue:a.songArtPrimaryColor},(function(e){return o.a.createElement(Qr,e)})),o.a.createElement($r,{control:h,name:"song_art_secondary_color",defaultValue:a.songArtSecondaryColor},(function(e){return o.a.createElement(Qr,e)})),o.a.createElement($r,{control:h,name:"song_art_text_color",defaultValue:a.songArtTextColor},(function(e){return o.a.createElement(Qr,e)})),o.a.createElement($r,{control:h,name:"valid_song_art_contrast",defaultValue:!0,showErrors:!c,rules:{validate:function(e){return e||j("edit_metadata.gradient.invalid")}}},(function(e){return o.a.createElement(Qr,e)})))),c&&o.a.createElement(Nr,null,o.a.createElement(mo,{id:"gradient-color-picker",initialPrimaryColor:s.primary,initialSecondaryColor:s.secondary,initialTextColor:s.text,previewImage:M,previewImageAltText:j("edit_metadata.media.gradient_alt",{title:I}),previewTitle:I||"(".concat(j("edit_metadata.media.gradient_no_title"),")"),previewArtist:S&&S[0]?S[0].name:"(".concat(j("edit_metadata.media.gradient_no_artist"),")"),onSelection:P}))))},Oo=o.a.memo(vo);vo.Container=c.f.div.withConfig({displayName:"AudioAndMedia__Container",componentId:"sc-1jcvxlo-0"})([""]),vo.PairedField=Object(c.f)(Pr).withConfig({displayName:"AudioAndMedia__PairedField",componentId:"sc-1jcvxlo-1"})([""]),vo.FieldPair=c.f.div.withConfig({displayName:"AudioAndMedia__FieldPair",componentId:"sc-1jcvxlo-2"})(["flex:1;display:flex;"," ",":last-child{flex:0;width:20%;min-width:100px;}",":not(:last-child){flex:1;margin-right:",";}"],(function(e){return e.isMobile?"\n    margin-bottom: ".concat(e.theme.space.full,";\n  "):"\n    margin-right: ".concat(e.theme.space.full,";\n  ")}),vo.PairedField,vo.PairedField,(function(e){return e.theme.space.small})),vo.ImageField=Object(c.f)(Pr).withConfig({displayName:"AudioAndMedia__ImageField",componentId:"sc-1jcvxlo-3"})([""]),vo.ImageFieldContainer=c.f.div.withConfig({displayName:"AudioAndMedia__ImageFieldContainer",componentId:"sc-1jcvxlo-4"})(["display:flex;flex:1;"," ",":last-child{flex:1;}"],(function(e){return e.isMobile&&"margin-bottom: ".concat(e.theme.space.full,";")}),vo.ImageField),vo.ImageFieldPreviewContainer=c.f.div.withConfig({displayName:"AudioAndMedia__ImageFieldPreviewContainer",componentId:"sc-1jcvxlo-5"})(["width:25%;min-width:75px;margin-right:",";"],(function(e){return e.theme.space.small})),vo.ImageFieldPreviewAspectRatio=c.f.div.withConfig({displayName:"AudioAndMedia__ImageFieldPreviewAspectRatio",componentId:"sc-1jcvxlo-6"})(["width:100%;border:1px solid ",";padding-top:100%;position:relative;box-sizing:content-box;"],(function(e){return e.theme.color.background.on})),vo.ImageFieldPreview=c.f.img.withConfig({displayName:"AudioAndMedia__ImageFieldPreview",componentId:"sc-1jcvxlo-7"})(["position:absolute;top:50%;left:0;transform:translateY(-50%);display:block;width:100%;object-fit:contain;max-height:100%;"]),vo.Gradient=c.f.div.withConfig({displayName:"AudioAndMedia__Gradient",componentId:"sc-1jcvxlo-8"})(["",""],(function(e){return e.isMobile?"\n    margin-bottom: ".concat(e.theme.space.half,"\n  "):"\n    width: calc(50% - ".concat(e.theme.space.full," / 2);\n  ")})),vo.GradientFacade=c.f.div.withConfig({displayName:"AudioAndMedia__GradientFacade",componentId:"sc-1jcvxlo-9"})(["display:flex;"]),vo.GradientPreview=c.f.div.attrs((function(e){return{style:{backgroundImage:"linear-gradient(".concat(e.start,", ").concat(e.end,")")}}})).withConfig({displayName:"AudioAndMedia__GradientPreview",componentId:"sc-1jcvxlo-10"})(["cursor:",";flex:1;height:calc("," * 2 + ",");margin-right:",";"],(function(e){return e.cursor}),(function(e){return e.theme.space.half}),(function(e){return e.theme.fontSize.xSmallHeadline}),(function(e){return e.theme.space.half})),vo.GradientToggle=Object(c.f)(L.a).withConfig({displayName:"AudioAndMedia__GradientToggle",componentId:"sc-1jcvxlo-11"})(["align-self:center;justify-content:center;width:80px;svg{margin-left:",";width:",";}"],(function(e){return e.theme.space.quarter}),(function(e){return e.theme.fontSize.xSmallReading}));var wo=n(915),_o=n(980);function jo(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,a=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){c=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(c)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Eo(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Eo(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Eo(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Co(){return Co=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Co.apply(this,arguments)}function xo(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,a=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){c=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(c)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Io(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Io(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Io(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var So=function e(t){var n,a,i,c,l,s,f=t.songId,d=Object(re.e)(),p=d.control,h=d.setValue,g=Object(re.f)().errors,v=Object(b.a)("songs",f),w=xo(Object(r.useState)([]),2),_=w[0],j=w[1],E=Object(m.a)().t,C=(l=Object(m.a)().i18n,s=Object(r.useRef)(l),Object(r.useMemo)((function(){var e=fr()(s.current,"store.data.".concat(s.current.language,".translation.languages"),{});return Object.entries(e).map((function(e){var t=jo(e,2),n=t[0];return{label:t[1],value:n}})).reduce((function(e,t){return e.concat([t])}),[])}),[])),x=Object(O.f)("edit",v),I=Object(O.f)("edit_tags",v),S=Object(O.f)("create_tag",v),k=Object(y.a)("song:metadata:tags_albums_calendar_open"),A=(null===(n=v.releaseDateComponents)||void 0===n?void 0:n.month)||null,T=(null===(a=v.releaseDateComponents)||void 0===a?void 0:a.day)||null,P=(null===(i=v.releaseDateComponents)||void 0===i?void 0:i.year)||null;Object(r.useEffect)((function(){or().then((function(e){var t=e.result.map((function(t){return{label:e.entities.tags[t].name,value:t}}));j(t)}))}),[]);var N=Object(r.useCallback)((function(e){var t=e.month,n=e.day,r=e.year,o=t!==A||n!==T||r!==P;h("release_date_components.month",t,{shouldDirty:o}),h("release_date_components.day",n,{shouldDirty:o}),h("release_date_components.year",r,{shouldDirty:o})}),[T,A,P,h]),M=Object(r.useCallback)((function(e){e&&k()}),[k]);return o.a.createElement("div",null,o.a.createElement(Nr,null,o.a.createElement(Rr,{control:p,name:"primary_tag",label:E("edit_metadata.tags_albums.primary_tag"),isRequired:!1,defaultValue:v.primaryTag,transformForForm:function(e){return e?e.value:null},transformForInput:function(e){return e?{label:e.name,value:e.id}:null},disabled:!I},(function(e){return o.a.createElement(wo.a,Co({options:_},e))})),o.a.createElement(Rr,Co({control:p,name:"tags",label:E("edit_metadata.tags_albums.tags"),isRequired:!1,disabled:!I},{defaultValue:(v.tags||[]).map((function(e){return u()(e,["id","name"])})),transformForInput:function(e){return(e||[]).map((function(e){return{value:e.id,label:e.name}}))},transformForForm:function(e){return(e||[]).map((function(e){var t=e.label,n=e.value;return e.__isNew__?{name:t}:{id:n,name:t}}))}}),(function(e){return o.a.createElement(zn,Co({isCreatable:S,promptMessage:E("edit_metadata.tags_albums.tags_prompt"),loadOptions:ur},e))}))),o.a.createElement(Nr,null,o.a.createElement(Rr,{control:p,name:"albums",label:E("edit_metadata.tags_albums.albums"),isRequired:!1,defaultValue:(v.albums||[]).map((function(e){return u()(e,["id","name","artist"])})),disabled:!x,transformForInput:function(e){return(e||[]).map((function(e){return{value:e.id,label:{primary:e.name,secondary:e.artist.name}}}))},transformForForm:function(e){return(e||[]).map((function(e){var t=e.label,n=e.value;return e.__isNew__?{name:t,_new:!0}:{id:n,name:t.primary}}))}},(function(e){return o.a.createElement(zn,Co({secondaryPrefix:E("edit_metadata.artist_prefix"),promptMessage:E("edit_metadata.tags_albums.albums_prompt"),loadOptions:ir},e))})),o.a.createElement(Mr,{control:p,name:"recording_location",label:E("edit_metadata.tags_albums.recorded_at"),isRequired:!1,defaultValue:v.recordingLocation,disabled:!x},(function(e){return o.a.createElement(je.a,Co({fullWidth:!0,paddingKey:"half",placeholder:E("edit_metadata.tags_albums.recorded_at_placeholder")},e))})),o.a.createElement(Rr,{control:p,name:"language",label:E("edit_metadata.tags_albums.langugage"),defaultValue:v.language,transformForForm:function(e){return e?e.value:null},transformForInput:function(e){return E("languages.".concat(e),"")?{label:E("languages.".concat(e)),value:e}:null},isRequired:!1,disabled:!I},(function(e){return o.a.createElement(wo.a,Co({options:C},e))}))),o.a.createElement(Nr,{direction:"column"},o.a.createElement(dr.e,null,E("edit_metadata.tags_albums.release_date")),(null==g?void 0:g.release_date)&&o.a.createElement(e.MultiFieldError,null,null==g||null===(c=g.release_date)||void 0===c?void 0:c.message),o.a.createElement(_o.a,{onChange:N,initialMonth:A,initialDay:T,initialYear:P,onCalendarToggleClick:M,disabled:!x}),o.a.createElement($r,{control:p,name:"release_date_components.month",defaultValue:A,disabled:!x},(function(e){return o.a.createElement(Qr,e)})),o.a.createElement($r,{control:p,name:"release_date_components.day",defaultValue:T,disabled:!x},(function(e){return o.a.createElement(Qr,e)})),o.a.createElement($r,{control:p,name:"release_date_components.year",defaultValue:P,disabled:!x},(function(e){return o.a.createElement(Qr,e)}))))};So.MultiFieldError=Object(c.f)(dr.c).withConfig({displayName:"TagsAlbumsMetadata__MultiFieldError",componentId:"ty4xr1-0"})(["margin-bottom:",";"],(function(e){return e.theme.space.half}));var ko=So,Ao=n(655),To=n.n(Ao),Po=n(13),No=["onChange"],Mo=["onChange"];function Ro(){return Ro=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ro.apply(this,arguments)}function Lo(e,t,n,r,o,a,i){try{var c=e[a](i),l=c.value}catch(e){return void n(e)}c.done?t(l):Promise.resolve(l).then(r,o)}function Do(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var Fo=Object.values(Po.a.songDerivationTypes||{}).reduce((function(e,t){return e[t.upstream]=t.downstream,e[t.downstream]=t.upstream,e}),{}),zo=function e(t){var n=t.songId,a=Object(m.a)().t,i=Object(re.e)(),c=i.control,l=i.clearErrors,s=Object(re.f)({control:c}).errors.song_relationships,f=Object(b.a)("songs",n),d=f.songRelationships,p=Object(O.f)("edit",f),h=Object(re.c)({control:c,name:"song_relationships"}),g=h.fields,v=h.append,w=h.remove,_=Object(re.g)({name:"song_relationships"}),j=Object(y.a)("song:metadata:song_relationships_remove"),E=Object(y.a)("song:metadata:song_relationships_add"),C=Object(y.a)("song:metadata:song_relationships_field_change",{field:"relationshipType"}),x=Object(y.a)("song:metadata:song_relationships_field_change",{field:"song"}),I=_.map((function(e){return e.relationshipType})),S=d.map((function(e){return e.relationshipType})),k=Object(r.useCallback)((function(){return To()(S,I).map((function(e){return{label:a("song_relationship.title.".concat(e)),value:e}}))}),[S,a,I]),A=Object(r.useCallback)((function(e){var t=Fo[e];t&&l("song_relationships.".concat(t)),l("song_relationships.".concat(e))}),[l]),T=Object(r.useCallback)((function(e){e.preventDefault();var t=k()[0];A(t.value),v({relationshipType:t.value,type:"song_relationship",songs:[]}),E()}),[v,k,E,A]),P=Object(r.useCallback)((function(e){A(g[e].relationshipType),w(e),j()}),[w,j,g,A]),N=Object(r.useCallback)((function(e,t){var n=fr()(s,"".concat(e.relationshipType,".songs.message"),null)||fr()(s,"".concat(t,".songs.message"),null);return n&&o.a.createElement(dr.c,null,o.a.createElement("p",null,n))}),[s]),M=Object(r.useCallback)((function(e,t){return o.a.createElement(hr,{control:c,showErrors:!1,name:"song_relationships.".concat(t,".relationshipType"),defaultValue:e.relationshipType,disabled:!p,label:a("edit_metadata.relationships.song_relationship"),transformForForm:function(e){return e?e.value:null},transformForInput:function(e){return e?[{label:a("song_relationship.title.".concat(e)),value:e}]:null}},(function(e){var t=e.onChange,n=Do(e,No);return o.a.createElement(wo.a,Ro({options:k(),onChange:function(){var e,n=(e=z.a.mark((function e(n){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t(n),C({relationshipType:n.value});case 2:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){Lo(a,r,o,i,c,"next",e)}function c(e){Lo(a,r,o,i,c,"throw",e)}i(void 0)}))});return function(e){return n.apply(this,arguments)}}()},n))}))}),[p,c,k,C,a]),R=Object(r.useCallback)((function(e,t){return o.a.createElement(hr,{control:c,name:"song_relationships.".concat(t,".songs"),label:a("edit_metadata.relationships.related_songs"),showErrors:!1,defaultValue:(e.songs||[]).map((function(e){return u()(e,["id","title","artistNames"])})),disabled:!p,rules:{validate:function(e){return Boolean(e&&e.length>0)||a("edit_metadata.relationships.validation.relationship_missing_values")}},transformForInput:function(e){return(e||[]).map((function(e){return{value:e.id,label:{primary:e.title,secondary:e.artistNames}}}))},transformForForm:function(t){return A(e.relationshipType),(t||[]).map((function(e){var t=e.label;return{id:e.value,title:t.primary,artistNames:t.secondary}}))}},(function(e){var t=e.onChange,n=Do(e,Mo);return o.a.createElement(zn,Ro({isCreatable:!1,placeholder:"e.g. Dust a Soundboy",promptMessage:a("edit_metadata.relationships.song_prompt"),loadOptions:cr,secondaryPrefix:a("edit_metadata.artist_prefix"),valueBackgroundKey:"variant",onChange:function(e,n){t(e),x({action:n})},isSortable:!0},n))}))}),[p,c,x,a,A]);return o.a.createElement(e.Container,null,o.a.createElement(Or,{addButtonText:a("edit_metadata.relationships.add"),rows:g,disabled:!p,onAddClick:T,onRemoveClick:P,renderAfter:N,renderCategory:M,renderValue:R,allowAddRow:0!==k().length}))};zo.Container=c.f.div.withConfig({displayName:"SongRelationships__Container",componentId:"a0txos-0"})(["font-family:",";> *{font-family:",";}"],(function(e){return e.theme.font.alternate}),(function(e){return e.theme.font.alternate})),zo.RootError=Object(c.f)(dr.c).withConfig({displayName:"SongRelationships__RootError",componentId:"a0txos-1"})(["margin-bottom:",";"],(function(e){return e.theme.space.small}));var Bo=zo;function Vo(){return Vo=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Vo.apply(this,arguments)}var Ho=function e(t){var n=t.songId,r=Object(b.a)("songs",n),a=Object(O.f)("override_apple_match",r),i=Object(O.f)("edit_spotify_details",r),c=Object(re.e)().control,l=Object(m.a)().t,u=Object(ie.a)(),s=function(e){return!e||(!!/^\d+$/.test(e)||(!!/(?:music|itunes)\.apple\.com\/\w+\/album/.test(e)||l("edit_metadata.admin.apple_invalid")))};return o.a.createElement(e.Container,null,o.a.createElement(Nr,null,o.a.createElement(Mr,{control:c,name:"apple_song_for_streaming_service_lyrics",label:l("edit_metadata.admin.apple_match_lyrics"),helpText:l("edit_metadata.admin.apple_help"),defaultValue:r.appleSongForStreamingServiceLyrics,disabled:!a,rules:{validate:s}},(function(e){return o.a.createElement(je.a,Vo({paddingKey:"half",fullWidth:!0},e))})),o.a.createElement(Mr,{control:c,name:"apple_song_for_streaming_service_player",label:l("edit_metadata.admin.apple_match_player"),helpText:l("edit_metadata.admin.apple_help"),defaultValue:r.appleSongForStreamingServicePlayer,disabled:!a,rules:{validate:s}},(function(e){return o.a.createElement(je.a,Vo({paddingKey:"half",fullWidth:!0},e))}))),o.a.createElement(e.HalfWidthRow,{isMobile:u},o.a.createElement(Mr,{control:c,name:"spotify_uuid",label:l("edit_metadata.admin.spotify_uuid"),defaultValue:r.spotifyUuid,disabled:!i},(function(e){return o.a.createElement(je.a,Vo({paddingKey:"half",fullWidth:!0},e))}))))},qo=o.a.memo(Ho);function Wo(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,a=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){c=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(c)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Uo(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Uo(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Uo(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}Ho.Container=c.f.div.withConfig({displayName:"Admin__Container",componentId:"g3kbn9-0"})([""]),Ho.HalfWidthRow=Object(c.f)(Nr).withConfig({displayName:"Admin__HalfWidthRow",componentId:"g3kbn9-1"})(["",""],(function(e){return!e.isMobile&&"width: calc(50% - ".concat(e.theme.space.full," / 2);")}));var $o="edit-metadata-body",Qo="edit-metadata-overlay",Go=function(e){return{custom_performances:e.customPerformances,song_relationships:e.songRelationships.filter((function(e){return e.songs.length}))}},Yo={custom_song_art_image_url_without_rehost:"custom_song_art_image_url"},Ko=function e(t){var n=t.songId,a=Wo(Object(r.useState)(0),2),l=a[0],u=a[1],s=Object(i.d)((function(e){return Boolean(e.songMetadata.modalVisible)})),f=Object(i.d)((function(e){return e.songMetadata.updateStatus})),d=Object(ie.a)(),p=Object(m.a)().t,g=Object(i.c)(),v=Object(ce.a)({mobile:$o,desktop:Qo}),w=Object(y.a)("song:keyboard_shortcut"),_=Object(y.a)("song:metadata:tab_click"),j=Object(y.a)("song:metadata:close"),E=Object(b.a)("songs",n),C=Object(O.f)("override_apple_match",E)||Object(O.f)("edit_spotify_details",E),x=Object(r.useRef)(),I=Object(O.f)("edit",E),S=Object(r.useMemo)((function(){return I||E.songRelationships.some((function(e){return e.songs.length}))}),[I,E.songRelationships]),k=Object(le.a)("clearSidebarContributorMetadataForm"),A=Object(r.useCallback)((function(){g(Object(ee.f)(!1)),j()}),[g,j]),T=Object(r.useCallback)((function(){L(),u(0),k.callSubscribers()}),[L,k]),P=Object(ue.a)({useFormOptions:{defaultValues:Go(E)},submitAction:ee.i,onSubmit:A,onSuccess:T,onlySubmitChangedFields:!0,serverErrorFieldMapping:Yo,extraValues:{songId:n,submittedFromModal:!0}}),N=P.methods,M=P.onSubmit,R=N.formState,L=N.reset,D=R.isDirty,F=R.isSubmitted,z=R.errors,B=!ae()(z),V=Object.values(z).some((function(e){return"server"!==e.type})),H=Object(r.useCallback)((function(e,t){f!==J.c&&(w({shortcut_name:t,is_modal_open:s}),u(e),s||g(Object(ee.f)(!0)))}),[g,s,w,f]),q=Object(r.useCallback)((function(){var e=!0;D&&(e=window.confirm(p("edit_metadata.unsaved"))),e&&(A(),T())}),[A,T,D,p]),W=Object(r.useCallback)((function(e,t){_({index:e,tab_name:t})}),[_]);Object(r.useEffect)((function(){x.current===J.c&&f===J.e&&L(Go(E)),x.current=f}),[L,E,p,f]),Object(r.useEffect)((function(){s&&f===J.d&&L(Go(E))}),[L,s,E,f]);var U=Object(r.useMemo)((function(){var e=[{name:p("edit_metadata.sections.title_artists"),key:"metadata:title_artists",section:o.a.createElement(Br,{songId:n}),shortcut:{keys:"shift+a",display:"Shift + A",callback:H}},{name:p("edit_metadata.sections.media_audio"),key:"metadata:media_audio",section:o.a.createElement(Oo,{songId:n}),shortcut:{keys:"shift+m",display:"Shift + M",callback:H}},{name:p("edit_metadata.sections.tags_albums"),key:"metadata:tags_albums",section:o.a.createElement(ko,{songId:n}),shortcut:{keys:"shift+t",display:"Shift + T",callback:H}}];return S&&e.push({name:p("edit_metadata.sections.relationships"),key:"metadata:relationships",section:o.a.createElement(Bo,{songId:n}),shortcut:{keys:"shift+r",display:"Shift + R",callback:H}}),C&&e.push({name:p("edit_metadata.sections.admin"),key:"metadata:admin",section:o.a.createElement(qo,{songId:n}),shortcut:{keys:"shift+p",display:"Shift + P",callback:H}}),e}),[C,S,H,n,p]);fe(U,[s]);var $=null;return F&&B?$=o.a.createElement(e.Alert,{message:p("edit_metadata.validation_error")}):f===J.a&&($=o.a.createElement(e.Alert,{message:p("songs.editing_stale")})),o.a.createElement(c.c,{theme:h.d},o.a.createElement(G.a,{bodyId:$o,bodyWidth:"50rem",closeLabel:p("controls.modal.cancel"),position:"top",onClose:q,onSave:M,isSaveActive:D&&!V,overlayId:Qo,saveLabel:p("controls.modal.save"),show:s,trackingName:"metadata"},o.a.createElement(re.b,N,o.a.createElement(e.Form,{onSubmit:M},o.a.createElement(_e,{activeSectionTriggerOffset:54,initialActiveSectionIndex:l,postNavDisplay:$,onTabClick:W,scrollingElementId:v,showShortcuts:!d,tabs:U})))))};Ko.Alert=Object(c.f)(de.a).withConfig({displayName:"EditMetadataModal__Alert",componentId:"sc-1harlom-0"})(["margin-top:",";"],(function(e){return e.theme.space.half}));var Zo=Ko;Ko.Form=c.f.form.withConfig({displayName:"EditMetadataModal__Form",componentId:"sc-1harlom-1"})(["font-family:",";> *{font-family:",";}"],(function(e){return e.theme.font.alternate}),(function(e){return e.theme.font.alternate}));var Xo=n(289),Jo=n.n(Xo),ea=n(684),ta="songPage/CHART_ITEM_STATE_REQUESTED",na="songPage/CHART_ITEM_STATE_FETCHED",ra="songPage/CHART_ITEM_STATE_TOGGLE_REQUESTED",oa="songPage/CHART_ITEM_STATE_TOGGLED";function aa(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,a=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){c=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(c)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ia(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ia(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ia(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ca=function(e){var t=e.chartType,n=e.id,a=e.onClose,c=Object(i.c)(),l=Object(m.a)().t,u=aa(Object(r.useState)(!1),2),s=u[0],f=u[1],d=Object(b.a)(t,n).chartItemExcluded;Object(r.useEffect)((function(){void 0===d&&(f(!0),c(function(e){var t=e.chartType,n=e.id,r=e.onDone;return{type:ta,payload:{chartType:t,id:n,onDone:r}}}({chartType:t,id:n,onDone:function(){return f(!1)}})))}),[c,t,n,d]);var p=Object(r.useCallback)((function(){return new Promise((function(e){f(!0),c(function(e){var t=e.chartType,n=e.id,r=e.onDone;return{type:ra,payload:{chartType:t,id:n},meta:{onDone:r}}}({chartType:t,id:n,onDone:function(){f(!1),e()}}))}))}),[t,c,n]);return o.a.createElement($,{isLoading:s,disabled:s,onClick:p,onClose:a},l("charts.actions.".concat(d?"allow_in_charts":"exclude_from_charts")))},la=o.a.memo(ca),ua=n(611),sa=c.f.input.attrs((function(e){return{"data-testid":e.dataTestId}})).withConfig({displayName:"Checkbox",componentId:"sc-1cbi1se-0"})(["appearance:none;border:1px solid ",";height:1.25rem;width:1.25rem;&:checked,&[value=\"true\"]{background-image:url(\"data:image/svg+xml,%3Csvg viewBox='0 0 18 18' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath fill='","' d='m15.5 4.9-7.9 10-5-5L4 8.3l3.4 3.4L14 3.6 15.5 5Z'/%3E%3C/svg%3E\");background-repeat:no-repeat;}&:disabled{opacity:.3;}"],(function(e){return e.hasError?e.theme.color.accent.main:e.theme.color.background.on}),(function(e){return encodeURIComponent(e.theme.color.background.on)}));sa.propTypes={as:p.a.string,disabled:p.a.bool,hasError:p.a.bool,onChange:p.a.func,type:p.a.string,value:p.a.string,color:p.a.string},sa.defaultProps={disabled:!1,type:"checkbox"};var fa=sa,da=n(610);function pa(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,a=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){c=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(c)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ma(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ma(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ma(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ha=function e(t){var n=t.songId,a=t.show,i=t.onClose,l=Object(m.a)().t,u=Object(ie.a)(),s=Object(da.a)("success",l("song.hide.success")),f=Object(r.useCallback)((function(){i(),s()}),[i,s]),d=pa(Object(r.useState)([]),2),p=d[0],g=d[1],b=Object(r.useCallback)((function(e){g(e)}),[]),y=Object(r.useCallback)((function(e){return{songId:n,action:"hide",showErrorInToast:!1,data:{viewable_by_roles:Object.keys(e)}}}),[n]),v=Object(ue.a)({submitAction:Q.S,useFormOptions:{shouldUnregister:!0},onlySubmitChangedFields:!0,transformPayload:y,onSuccess:f,onError:b}),w=v.methods,_=v.onSubmit,j=v.isSubmitting,E=w.reset,C=Object(r.useCallback)((function(){E(),g([]),i()}),[E,g,i]),x=Object(r.useCallback)((function(){g([]),_()}),[_]);return o.a.createElement(c.c,{theme:h.d},o.a.createElement(G.a,{show:a,position:"top",onSave:x,saveLabel:"Submit",isSaveActive:!j,onClose:C,closeLabel:"Close"},o.a.createElement(e.Container,{isMobile:u},o.a.createElement(e.Instructions,null,l("song.hide.instructions")),o.a.createElement(re.b,w,o.a.createElement(e.Form,{isMobile:u},Po.a.availableRoles.sort().map((function(e,t){return o.a.createElement(ua.a,{key:t,name:e,label:l("role.types.".concat(e,".other")),defaultValue:!1,inlineLabel:!0},o.a.createElement(fa,null))})))),Boolean(p.length)&&o.a.createElement(e.Errors,null,p.map((function(e,t){return o.a.createElement(de.a,{key:t,status:O.a.error,message:e})}))))))},ga=o.a.memo(ha);ha.Container=c.f.div.withConfig({displayName:"HideSongModal__Container",componentId:"v25nfq-0"})(["background-color:white;padding:",";",";"],(function(e){return e.theme.space.large}),(function(e){return e.isMobile&&"height: 100vh"})),ha.Instructions=c.f.div.withConfig({displayName:"HideSongModal__Instructions",componentId:"v25nfq-1"})(["margin-bottom:",";"],(function(e){return e.theme.space.large})),ha.Form=c.f.form.withConfig({displayName:"HideSongModal__Form",componentId:"v25nfq-2"})(["display:grid;grid-template-columns:",";gap:",";"],(function(e){return e.isMobile?"1fr":"1fr 1fr"}),(function(e){return e.theme.space.half})),ha.Errors=c.f.div.withConfig({displayName:"HideSongModal__Errors",componentId:"v25nfq-3"})(["margin-top ",";"],(function(e){return e.theme.space.full}));var ba=n(182),ya=n(183);function va(){return va=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},va.apply(this,arguments)}function Oa(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,a=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){c=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(c)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return wa(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return wa(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function wa(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var _a=["view_annotation_engagement_data","edit_spotify_annotations_for"],ja=["publish","unpublish","hide","unhide","reindex","mark_as_hot","unmark_as_hot","destroy","hide_apple_player","unhide_apple_player","trigger_apple_match","view_annotation_engagement_data","edit_spotify_annotations_for","disable_media","enable_media"],Ea=[].concat(ja,["see_short_id","manage_chart_item"]),Ca=function e(t){var n=t.songId,a=Object(i.c)(),c=Object(m.a)().t,l=Object(ea.a)(),u=Object(ie.a)(),s=Object(i.d)((function(e){return e.session.showAds})),f=Object(b.a)("songs",n),d=l&&s&&!u&&f.isMusic,p=Object(r.useMemo)((function(){return Jo()(Ea,(function(e){return Object(O.f)(e,f)}))}),[f])||d,h=Oa(Object(r.useState)(""),2),g=h[0],y=h[1],v=Oa(Object(r.useState)(!1),2),w=v[0],_=v[1],j=Oa(Object(r.useState)(!1),2),E=j[0],C=j[1],x=Object(r.useCallback)((function(){return C((function(e){return!e}))}),[]),I=Object(i.d)((function(e){return e.songPage.forceShowContributorSidebar})),S=Object(r.useCallback)((function(e){if(function(e){return!_a.includes(e)}(e)&&!confirm(c(["song.action_confirmations.".concat(e),"song.action_confirmations.admin_default"])))return;if("hide"!==e)if("edit_spotify_annotations_for"!==e){if("view_lyrics_synchronization"!==e)return new Promise((function(t){var r=function(){_(!1),y(""),t()};y(e),_(!0),a("destroy"===e?Object(Q.ub)(n,{onSuccess:function(){r(),window.location.href="/"}}):Object(Q.S)({songId:n,action:e},{onDone:r}))}));window.open("/songs/".concat(n,"/lyrics_sync"))}else window.open("/songs/".concat(n,"/edit-fact-track"));else x()}),[a,n,c,x]),k=Object(r.useCallback)((function(e){navigator.clipboard.writeText(e),a(Object(D.c)({status:"success",message:c("song.copied_success")}))}),[a,c]),A=Object(r.useCallback)((function(){a(Object(Q.Gb)())}),[a]);return p?o.a.createElement(o.a.Fragment,null,o.a.createElement(N.a,{renderToggle:function(t){var n=t.isVisible;return o.a.createElement(e.Button,{disabled:w},o.a.createElement("span",null,c("song_page_header.admin")),o.a.createElement(e.DropdownIcon,null,n?o.a.createElement(ya.a,null):o.a.createElement(ba.a,null)))}},(function(t){var r=t.onClose;return o.a.createElement(e.Dropdown,null,ja.filter((function(e){return Object(O.f)(e,f)})).map((function(e){return o.a.createElement($,{key:e,onClick:function(){return S(e)},onClose:r,isLoading:w&&g===e},c("song.actions.".concat(e)))})),Object(O.f)("see_short_id",f)&&o.a.createElement(o.a.Fragment,null,o.a.createElement($,{onClick:function(){return k("song:".concat(n))},onClose:r},c("song.actions.copy_song_id",{id:n})),o.a.createElement($,{onClick:function(){return k("artist:".concat(f.primaryArtist))},onClose:r},c("song.actions.copy_artist_id",{id:f.primaryArtist}))),Object(O.f)("manage_chart_item",f)&&o.a.createElement(la,{chartType:"songs",id:n,onClose:r}),d&&!I&&o.a.createElement($,{onClick:function(){return A()},onClose:r},c("song.actions.turn_on_complete_song")))})),o.a.createElement(ga,{songId:n,show:E,onClose:x})):null},xa=o.a.memo(Ca);Ca.Button=Object(c.f)((function(e){return o.a.createElement(L.a,va({as:"span"},e))})).withConfig({displayName:"AdminMenu__Button",componentId:"sc-77afb8-0"})(["height:100%;line-height:",";"],(function(e){return e.theme.space.full})),Ca.DropdownIcon=c.f.span.withConfig({displayName:"AdminMenu__DropdownIcon",componentId:"sc-77afb8-1"})(["margin-left:",";svg{fill:",";width:",";}"],(function(e){return e.theme.space.xSmall}),(function(e){return e.theme.color.background.on}),(function(e){return e.theme.space.half})),Ca.Dropdown=c.f.ul.withConfig({displayName:"AdminMenu__Dropdown",componentId:"sc-77afb8-2"})(["",";background-color:#fff;margin-top:",";font-size:",";font-weight:",";position:absolute;right:0;border:1px solid #000;min-width:100%;cursor:pointer;white-space:nowrap;"],Object(T.a)("dropdown"),(function(e){return e.theme.space.full}),(function(e){return e.theme.fontSize.smallReading}),(function(e){return e.theme.fontWeight.light}));var Ia=n(421),Sa=function e(){var t=Object(m.a)().t,n=Object(i.c)(),a=Object(i.d)((function(e){return e.songPage.song})),c=Object(b.a)("songs",a).youtubeUrl,l=Object(r.useCallback)((function(){n(Object(Q.Hb)())}),[n]);return c?o.a.createElement(e.PlayVideoButton,{onClick:l},o.a.createElement(Ia.a,null),t("song_page_header.metadata.play_video")):null},ka=o.a.memo(Sa);Sa.PlayVideoButton=Object(c.f)((function(e){return o.a.createElement(L.a,e)})).withConfig({displayName:"YoutubeButton__PlayVideoButton",componentId:"sc-16440cb-0"})(["line-height:normal;svg{height:1em;margin-right:0.6em;}"]);var Aa=n(86);function Ta(){return Ta=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ta.apply(this,arguments)}function Pa(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,a=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){c=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(c)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Na(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Na(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Na(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Ma=function e(){var t=Pa(Object(r.useState)(),2),n=t[0],a=t[1],i=Object(m.a)().t;Object(r.useEffect)((function(){if(O.k){var e=new URL(window.location),t=new URLSearchParams(e.search);t.delete("react"),t.append("bagon",1),e.search=t.toString(),a(e.toString())}}),[]);var c=Object(y.a)("song:react_opt_out"),l=Object(r.useCallback)((function(){return c(),!0}),[c]);return o.a.createElement(e.Container,{href:n,onClick:l},i("lyrics.toolbar.old_song_page"),o.a.createElement(e.NewTab,null))};Ma.Container=Object(c.f)((function(e){return o.a.createElement(L.a,Ta({as:"a"},e))})).withConfig({displayName:"OptOutButton__Container",componentId:"e48zu0-0"})(["line-height:",";align-items:stretch;"],(function(e){return e.theme.fontSize.reading})),Ma.NewTab=Object(c.f)((function(e){return o.a.createElement(Aa.a,e)})).withConfig({displayName:"OptOutButton__NewTab",componentId:"e48zu0-1"})(["margin-left:",";width:",";fill:",";"],(function(e){return e.theme.space.xSmall}),(function(e){return e.theme.space.half}),(function(e){return e.theme.color.background.on}));var Ra=o.a.memo(Ma),La=n(309),Da=n(230),Fa=function(){var e=Object(i.d)((function(e){return fr()(e,["songPage","lyricsEditProposals"],[])})),t=Object(i.d)((function(t){return e.reduce((function(e,n){return e[n]=fr()(t,["entities","lyricsEditProposals",n]),e}),{})}));return e.filter((function(e){return"pending"===fr()(t,[e,"state"])}))},za="EDIT",Ba="PROPOSE";function Va(){return Va=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Va.apply(this,arguments)}var Ha=o.a.createElement("path",{d:"M13 3H6V4H13V3Z",strokeWidth:.2}),qa=o.a.createElement("path",{d:"M11 6H6V7H11V6Z",strokeWidth:.2}),Wa=o.a.createElement("path",{d:"M13 9H6V10H13V9Z",strokeWidth:.2}),Ua=o.a.createElement("path",{d:"M11 12H6V13H11V12Z",strokeWidth:.2}),$a=o.a.createElement("path",{d:"M4 2H3V14H4V2Z",strokeWidth:.2}),Qa=function(e){return o.a.createElement("svg",Va({width:16,height:16,viewBox:"0 0 16 16"},e),Ha,qa,Wa,Ua,$a)};function Ga(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,a=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){c=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(c)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Ya(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ya(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ya(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Ka=["view_lyrics_synchronization"],Za=["award_transcription_iq","remove_transcription_iq","verify_lyrics","unverify_lyrics","view_lyrics_synchronization","mark_lyrics_evaluation_as_complete","mark_lyrics_evaluation_as_staff_approved","unmark_lyrics_evaluation_as_complete","mark_lyrics_evaluation_as_un_staff_approved"],Xa=function e(t){var n=t.songId,a=Object(Da.a)("contributorStickyNav"),l=Object(m.a)().t,u=Object(i.c)(),s=Object(b.a)("songs",n),f=Object(i.d)((function(e){return e.songPage.lyricsEditContext})),d=Object(ie.a)(),p=Object(ea.a)(),g=Ga(Object(r.useState)(""),2),v=g[0],w=g[1],_=Ga(Object(r.useState)(!1),2),j=_[0],E=_[1],C=Fa(),x=Object(O.f)("edit_lyrics",s),I=Object(O.f)("propose_lyrics_edit",s),S=Object(O.f)("view_lyrics_edit_proposals_on_song",s),k=Object(O.f)("edit_annotation_brackets",s),T=Object(O.f)("preview_lyrics_for_export",s),P=Object(O.f)("view_transcriber_media_player",s),M=Object(O.f)("edit_anything",s),R=x||I,L=S&&C.length>0,D=p,F=Za.filter((function(e){return Object(O.f)(e,s)})),z=p&&R&&(L||k||Boolean(F.length)),B=p&&R&&!z,V=Object(y.a)("song:lyrics_edit_opened_shortcut"),H=Object(y.a)("song:lyrics_edit_annotation_brackets_clicked");Object(r.useEffect)((function(){S&&u(Object(Q.ob)(n))}),[S,u,n]);var q=Object(r.useCallback)((function(e){u(Object(Q.fb)({context:e}))}),[u]),W=Object(r.useCallback)((function(){q(I?Ba:za)}),[I,q]),U=Object(r.useCallback)((function(){q(za),H()}),[q,H]);Object(A.a)("shift+l",(function(e){e.preventDefault(),W(),V()}),{enabled:!d&&R&&!Boolean(f)},[W]);var $=Object(r.useCallback)((function(){u(Object(Q.tb)({isVisible:!0}))}),[u]),G=Object(r.useCallback)((function(e,t){if(function(e){return!Ka.includes(e)}(e)&&!confirm(l(["song.action_confirmations.".concat(e),"song.action_confirmations.admin_default"])))return void t();return"view_lyrics_synchronization"===e?(window.open("/songs/".concat(n,"/lyrics_sync")),void t()):new Promise((function(r){w(e),E(!0),u(Object(Q.S)({songId:n,action:e},{onDone:function(){E(!1),w(""),r(),t()}}))}))}),[u,n,l]);return o.a.createElement(c.c,{theme:h.f},o.a.createElement(e.Container,{distanceAboveContributorStickyNav:a},o.a.createElement(e.Left,{isMobile:d},!f&&B&&o.a.createElement(e.SmallButton,{onClick:W},l("lyrics.edit")),!f&&z&&o.a.createElement(N.a,{renderToggle:function(t){var n=t.isVisible;return o.a.createElement(e.SmallButton,{forwardedAs:"span"},Boolean(C.length)&&o.a.createElement(e.LEPIndicator,null,o.a.createElement(e.LEPIndicatorContent,null,o.a.createElement(Qa,null)),o.a.createElement(e.LEPIndicatorContent,null,C.length)),l("lyrics.manage"),o.a.createElement(e.SmallButtonIcon,null,n?o.a.createElement(ya.a,null):o.a.createElement(ba.a,null)))}},(function(t){var r=t.onClose;return o.a.createElement(e.DropdownContents,null,R&&o.a.createElement(e.DropdownItem,null,o.a.createElement(e.TextButton,{onClick:function(){W(),r()}},l("lyrics.edit"))),F.map((function(t){return o.a.createElement(e.DropdownItem,{key:t},o.a.createElement(e.TextButton,{onClick:function(){return G(t,r)},onClose:r},l("song.actions.".concat(t)),j&&v===t&&o.a.createElement(e.Spinner,null)))})),L&&o.a.createElement(e.DropdownItem,{color:"accentText"},o.a.createElement(e.TextButton,{onClick:function(){$(),r()}},l("lyrics.resolve_lyrics_edit_proposals",{count:C.length}))),k&&o.a.createElement(e.DropdownItem,null,o.a.createElement(e.TextButton,{onClick:function(){U(),r()}},l("lyrics.edit_annotation_brackets"))),T&&o.a.createElement(X,{songId:n,onClose:r}))})),M&&o.a.createElement(ne,null),M&&o.a.createElement(Zo,{songId:n}),o.a.createElement(e.AdminMenuContainer,null,o.a.createElement(xa,{songId:n}))),!d&&o.a.createElement(e.Right,null,P&&o.a.createElement(ka,null),D&&o.a.createElement(Ra,null))))},Ja=o.a.memo(Xa);Xa.Container=Object(c.f)((function(e){return o.a.createElement(La.a,e)})).withConfig({displayName:"StickyContributorToolbar__Container",componentId:"sc-1s6k5oy-0"})(["align-items:center;background:",";font-weight:",";font-size:",";height:",";color:",";position:sticky;top:",";border-bottom:1px solid #CCC;",";@media screen and (min-width:","){margin-top:",";}"],(function(e){return e.theme.color.background.main}),(function(e){return e.theme.fontWeight.light}),(function(e){return e.theme.fontSize.smallReading}),(function(e){return e.theme.contributorStickyNav.height}),(function(e){return e.theme.color.background.on}),(function(e){return"calc(".concat(e.distanceAboveContributorStickyNav,")")}),Object(T.a)("contributorStickyNav"),(function(e){return e.theme.widths.largeTextBreakpoint}),(function(e){return e.theme.space.xLarge})),Xa.Left=c.f.div.withConfig({displayName:"StickyContributorToolbar__Left",componentId:"sc-1s6k5oy-1"})(["display:flex;justify-content:flex-start;gap:",";grid-column:",";"],(function(e){return e.theme.space.half}),(function(e){return e.isMobile?"left-start / right-end":"left-start / left-end"})),Xa.Right=c.f.div.withConfig({displayName:"StickyContributorToolbar__Right",componentId:"sc-1s6k5oy-2"})(["display:flex;justify-content:flex-end;gap:",";grid-column:right-start / right-end;"],(function(e){return e.theme.space.half})),Xa.DropdownContents=c.f.ul.withConfig({displayName:"StickyContributorToolbar__DropdownContents",componentId:"sc-1s6k5oy-3"})(["",";background-color:#fff;margin-top:",";font-size:",";position:absolute;border:1px solid ",";min-width:100%;cursor:pointer;white-space:nowrap;left:0;"],Object(T.a)("dropdown"),(function(e){return e.theme.space.full}),(function(e){return e.theme.fontSize.smallReading}),(function(e){return e.theme.color.background.on})),Xa.DropdownItem=c.f.li.withConfig({displayName:"StickyContributorToolbar__DropdownItem",componentId:"sc-1s6k5oy-4"})(["color:",";&:hover{color:",";background-color:",";&:first-child:before{background-color:",";color:",";}}&:first-child:before{"," left:",";}"],(function(e){var t;return e.theme.color[null!==(t=e.color)&&void 0!==t?t:"background"].on}),(function(e){var t;return e.theme.color[null!==(t=e.color)&&void 0!==t?t:"background"].main}),(function(e){var t;return e.theme.color[null!==(t=e.color)&&void 0!==t?t:"background"].on}),(function(e){return e.theme.color.background.on}),(function(e){return e.theme.color.background.main}),(function(e){return Object(P.b)({direction:"top",size:"8px",color:e.theme.color.background.main,borderColor:e.theme.color.background.on})}),(function(e){return e.theme.space.full})),Xa.LEPIndicator=c.f.div.withConfig({displayName:"StickyContributorToolbar__LEPIndicator",componentId:"sc-1s6k5oy-5"})(["display:flex;padding:0 ",";color:",";font-size:",";border-radius:",";border:",";margin-left:calc(",");margin-right:",";align-items:center;svg{width:",";fill:",";stroke:",";}button:hover:not(disabled) &{color:",";background-color:",";svg{fill:",";stroke:",";}}"],(function(e){return e.theme.space.quarter}),(function(e){return e.theme.color.accent.main}),(function(e){return e.theme.fontSize.smallReading}),(function(e){return e.theme.borderRadius}),(function(e){return"1px solid ".concat(e.theme.color.accent.main)}),(function(e){return"".concat(e.theme.space.xSmall," - ").concat(e.theme.space.small)}),(function(e){return e.theme.space.xSmall}),(function(e){return e.theme.space.small}),(function(e){return e.theme.color.accent.main}),(function(e){return e.theme.color.accent.main}),(function(e){return e.theme.color.background.main}),(function(e){return e.theme.color.accent.main}),(function(e){return e.theme.color.background.main}),(function(e){return e.theme.color.background.main})),Xa.LEPIndicatorContent=c.f.div.withConfig({displayName:"StickyContributorToolbar__LEPIndicatorContent",componentId:"sc-1s6k5oy-6"})(["display:flex;align-items:center;height:0;"]),Xa.SmallButtonIcon=c.f.span.withConfig({displayName:"StickyContributorToolbar__SmallButtonIcon",componentId:"sc-1s6k5oy-7"})(["margin-left:",";svg{width:",";}"],(function(e){return e.theme.space.xSmall}),(function(e){return e.isMobile?e.theme.space.xSmall:e.theme.space.half})),Xa.TextButton=Object(c.f)((function(e){return o.a.createElement(M.a,e)})).withConfig({displayName:"StickyContributorToolbar__TextButton",componentId:"sc-1s6k5oy-8"})(["display:block;width:100%;padding:"," ",";display:flex;justify-content:space-between;"],(function(e){return e.theme.space.xSmall}),(function(e){return e.theme.space.half})),Xa.Spinner=Object(c.f)((function(e){return o.a.createElement(R.a,e)})).withConfig({displayName:"StickyContributorToolbar__Spinner",componentId:"sc-1s6k5oy-9"})(["vertical-align:-2px;stroke:",";",":hover &{stroke:",";}"],(function(e){return e.theme.color.background.on}),Xa.TextButton,(function(e){return e.theme.color.background.main})),Xa.SmallButton=Object(c.f)((function(e){return o.a.createElement(L.a,e)})).withConfig({displayName:"StickyContributorToolbar__SmallButton",componentId:"sc-1s6k5oy-10"})(["line-height:",";align-items:stretch;white-space:nowrap;"],(function(e){return e.theme.space.full})),Xa.TextEllipsis=c.f.div.withConfig({displayName:"StickyContributorToolbar__TextEllipsis",componentId:"sc-1s6k5oy-11"})(["max-width:25ch;",""],P.i),Xa.AdminMenuContainer=c.f.div.withConfig({displayName:"StickyContributorToolbar__AdminMenuContainer",componentId:"sc-1s6k5oy-12"})(["@media (max-width:","){display:none;}"],(function(e){return e.theme.widths.extraSmallBreakpoint}));var ei=n(389),ti=n(1009),ni=n(291);function ri(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,a=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){c=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(c)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return oi(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return oi(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function oi(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ai=function e(t){var n=t.rootId,a=t.children,i=Object(r.useRef)(),c=ri(Object(r.useState)(!1),2),l=c[0],u=c[1],s=Object(Da.a)("stickyAd");return Object(r.useEffect)((function(){var e=i.current;if(e){var t=document.getElementById(n);u(e.clientHeight>t.clientHeight)}}),[n]),Object(Ne.createPortal)(o.a.createElement(e.Grid,null,o.a.createElement(e.Column,{ref:i,hideOverflow:l},o.a.createElement(e.Sticky,{distanceAboveStickyAd:s},a))),document.getElementById(n))};ai.defaultProps={rootId:"annotation-portal-target"};var ii=o.a.memo(ai);ai.Grid=Object(c.f)((function(e){return o.a.createElement(La.a,e)})).withConfig({displayName:"SidebarPortal__Grid",componentId:"sc-1kkdilf-0"})(["position:absolute;top:0;width:100%;height:100%;"]),ai.Column=c.f.div.withConfig({displayName:"SidebarPortal__Column",componentId:"sc-1kkdilf-1"})(["grid-column:right-start / grid-end;padding:"," 0;height:100%;",""],(function(e){return e.theme.space.xxxLarge}),(function(e){return e.hideOverflow&&"overflow: hidden;"})),ai.Sticky=c.f.aside.withConfig({displayName:"SidebarPortal__Sticky",componentId:"sc-1kkdilf-2"})(["top:",";position:sticky;width:100%;height:",";max-height:100%;"],(function(e){return"calc(".concat(e.distanceAboveStickyAd," + ").concat(e.theme.space.large,")")}),(function(e){return"calc(100vh - (".concat(e.distanceAboveStickyAd," + ").concat(e.theme.space.xxLarge," + ").concat(e.theme.appleMusicPlayer.desktopHeight,"))")}));var ci=n(386),li=n(382),ui=n(661),si=n.n(ui),fi=n(662),di=n.n(fi),pi=n(663),mi=n.n(pi),hi=n(29),gi=n(522),bi=n.n(gi),yi=n(446),vi=n.n(yi),Oi=n(197),wi=n.n(Oi),_i=n(323),ji=n.n(_i),Ei=n(659),Ci=n.n(Ei),xi=n(660),Ii=n.n(xi),Si=n(99),ki=n.n(Si);function Ai(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Ti=String.fromCodePoint(parseInt("E000",16)+1),Pi=String.fromCodePoint(parseInt("E000",16)+2),Ni=/<(?:"[^"]*"['"]*|'[^']*'['"]*|[^'">])+>/g,Mi=new RegExp("".concat(Pi,"|\\]\\(\\d+\\)|").concat(Ni.source),"g"),Ri=/\]\(\d+\)|<\/[^>]+>/,Li=new RegExp("".concat(Pi,"|<\\w+(?:\"[^\"]*\"['\"]*|'[^']*'['\"]*|[^'\">])+>")),Di=new RegExp("".concat(Ni.source,"\\s?<\\/[^>]+>|\\[\\]\\(\\d+\\)"),"gm"),Fi=/(?:\[((?:\[[^\]]*\]|\[\[[^\]]*\]\]|[^[\]])*)\]\([ \t]*<?(.*?)>?[ \t]*((['"])(.*?)\6[ \t]*)?\))/gm,zi=function(e){return Ii()("",e,Ti)},Bi=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._string=t.replace(Fi,(function(e,t,n){return"".concat(Pi).concat(t,"](").concat(n,")")}));for(var n=function(e){return e.replace(Fi,(function(e,t,n){return"".concat(Ti).concat(t).concat(zi(n.length+3))})).replace(Ni,(function(e){return zi(e.length)}))}(t).split(""),r=0,o=0;o<n.length;o++)n[o]!==Ti&&r++;this.plainToStructuredIndices=new Array(r);for(var a=0,i=0;i<n.length;i++)n[i]!==Ti&&(this.plainToStructuredIndices[a]=i,a++)}var t,n,r;return t=e,(n=[{key:"removeRange",value:function(e,t){var n=this.plainToStructuredIndices[e],r=this.plainToStructuredIndices[t]||ki()(this.plainToStructuredIndices)+1,o=(this._string.substring(n,r).match(Mi)||[]).join("");return new this.constructor(this.string.substring(0,n)+o+this.string.substring(r))}},{key:"insertAt",value:function(t,n){var r=this.plainToStructuredIndices[t]||ki()(this.plainToStructuredIndices)+1,o=this._string.substring(0,r),a=this._string.substring(r),i=o.match(new RegExp("(?:".concat(Li.source,")$"))),c=o.match(new RegExp("(?:".concat(Ri.source,")$"))),l=a.match(new RegExp("^(?:".concat(Li.source,")"))),u=a.match(new RegExp("^(?:".concat(Ri.source,")"))),s=/^\n|\n$/.test(n);return i&&s?r-=i[0].length:u&&s?r+=u[0].length:!c||l||s?!l||c||s||(r+=l[0].length):r-=c[0].length,new e(this.string.substring(0,r)+n+this.string.substring(r))}},{key:"string",get:function(){return this._string.replace(new RegExp("".concat(Pi),"g"),"[")}},{key:"plain",get:function(){return this.string.replace(Fi,(function(e,t){return t})).replace(Ni,"")}},{key:"structured",get:function(){return this.string.replace(Di,"")}}])&&Ai(t.prototype,n),r&&Ai(t,r),e}();function Vi(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=qi(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){c=!0,a=e},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw a}}}}function Hi(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,a=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){c=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(c)throw o}}return a}(e,t)||qi(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function qi(e,t){if(e){if("string"==typeof e)return Wi(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Wi(e,t):void 0}}function Wi(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Ui=new ji.a;Ui.Match_Threshold=Po.a.dmpMatchThreshold,Ui.Patch_DeleteThreshold=Po.a.dmpMatchThreshold;var $i=function(e){var t=[],n=[],r=null;return e.forEach((function(e,o){var a=e.match(/(<ins|<del|<\/ins>|<\/del>)/g)||[],i=(n.length||a.length)&&!bi()(e,"</ins>")&&!bi()(e,"</del>");i&&vi()(r)?r=o:i||vi()(r)||(t.push({start:r,end:o}),r=null),a.forEach((function(e){"<ins"===e||"<del"===e?n.push(e):n.pop()}))})),vi()(r)||t.push({start:r,end:e.length}),t},Qi=function(e,t,n){e.forEach((function(e){e.start=Math.max(e.start-t,0),e.end=Math.min(e.end+t,n)}))},Gi=function(e){for(var t=0;t<e.length-1;)e[t].end>=e[t+1].start?(e[t].end=e[t+1].end,Ci()(e,t+1)):t++},Yi=function(e,t){if(0===e.length)return[t,[]];e=Ui.patch_deepCopy(e),Ui.patch_splitMax(e);for(var n=Ui.patch_addPadding(e),r=new Bi(n+t+n),o=0,a=[],i=0;i<e.length;i++){var c=e[i].start2+o,l=Ui.diff_text1(e[i].diffs),u=void 0,s=-1;if(l.length>Ui.Match_MaxBits?-1!==(u=Ui.match_main(r.plain,l.substring(0,Ui.Match_MaxBits),c))&&(-1===(s=Ui.match_main(r.plain,l.substring(l.length-Ui.Match_MaxBits),c+l.length-Ui.Match_MaxBits))||u>=s)&&(u=-1):u=Ui.match_main(r.plain,l,c),-1===u)a[i]=!1,o-=e[i].length2-e[i].length1;else{a[i]=!0,o=u-c;var f=void 0;f=-1===s?r.plain.substring(u,u+l.length):r.plain.substring(u,s+Ui.Match_MaxBits);var d=Ui.diff_main(l,f,!1);if(l.length>Ui.Match_MaxBits&&Ui.diff_levenshtein(d)/l.length>Ui.Patch_DeleteThreshold)a[i]=!1;else{Ui.diff_cleanupSemanticLossless(d);var p,m=0,h=void 0,g=Vi(e[i].diffs);try{for(g.s();!(p=g.n()).done;){var b=Hi(p.value,2),y=b[0],v=b[1];y!==_i.DIFF_EQUAL&&(h=Ui.diff_xIndex(d,m)),y===_i.DIFF_INSERT?r=r.insertAt(u+h,v):y===_i.DIFF_DELETE&&(r=r.removeRange(u+h,u+Ui.diff_xIndex(d,m+v.length))),y!==_i.DIFF_DELETE&&(m+=v.length)}}catch(e){g.e(e)}finally{g.f()}}}}return[r.structured.substring(n.length,r.structured.length-n.length),a]};function Ki(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,a=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){c=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(c)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Zi(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Zi(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Zi(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Xi=function e(t){var n=t.html,a=t.expandAmount,i=t.paddingAmount,c=Object(m.a)().t,l=si()(n,"<br>"),u=Object(r.useState)(function(e,t){var n=$i(e);return Qi(n,t,e.length),Gi(n),n}(l,i)),s=Ki(u,2),f=s[0],d=s[1],p=Object(y.a)("song:lyrics_edit_proposal_show_more_lines_clicked"),h=Object(r.useCallback)((function(e){var t=parseInt(e.target.dataset.index,10),n=e.target.dataset.direction,r="down"===n;d(Object(hi.a)((function(e){r?e[t].end=Math.min(e[t].end+a,l.length):e[t].start=Math.max(e[t].start-a,0),Gi(e)}))),p({direction:n})}),[a,l.length,p]);return o.a.createElement(e.Container,null,f.map((function(t,n){var r=t.start,i=t.end,u=mi()(di()(l,r,i),"<br>");return o.a.createElement(e.Range,{key:"".concat(r,"-").concat(i)},(n>0||r>0)&&o.a.createElement(e.TextButton,{$direction:"up",fontWeight:"light",size:"smallReading",textDecoration:"underline","data-index":n,"data-direction":"up",onClick:h},c("lyrics.expand_lines",{count:a})," ",o.a.createElement(j.a,{aspectRatio:.4125,lineHeight:1.33,verticalAlign:"middle",svg:w.a})),o.a.createElement(e.Lines,{dangerouslySetInnerHTML:{__html:u}}))})),f[f.length-1].end<l.length&&o.a.createElement(e.TextButton,{$direction:"down",fontWeight:"light",size:"smallReading",textDecoration:"underline","data-index":f.length-1,"data-direction":"down",onClick:h},c("lyrics.expand_lines",{count:a})," ",o.a.createElement(j.a,{verticalAlign:"middle",aspectRatio:.4125,lineHeight:1.33,svg:Vn.a})))};Xi.defaultProps={expandAmount:10,paddingAmount:3};var Ji=Xi;function ec(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,a=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){c=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(c)throw o}}return a}(e,t)||tc(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function tc(e,t){if(e){if("string"==typeof e)return nc(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?nc(e,t):void 0}}function nc(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}Xi.Container=c.f.div.withConfig({displayName:"ExpandableDiff__Container",componentId:"sc-1y3bd4i-0"})([""]),Xi.TextButton=Object(c.f)((function(e){return o.a.createElement(M.a,e)})).withConfig({displayName:"ExpandableDiff__TextButton",componentId:"sc-1y3bd4i-1"})(["display:block;margin:0 auto;",";",";"],(function(e){return"up"===e.$direction&&"margin-bottom: ".concat(e.theme.space.small)}),(function(e){return"down"===e.$direction&&"margin-top: ".concat(e.theme.space.small)})),Xi.Range=c.f.div.withConfig({displayName:"ExpandableDiff__Range",componentId:"sc-1y3bd4i-2"})([""]),Xi.Lines=c.f.div.withConfig({displayName:"ExpandableDiff__Lines",componentId:"sc-1y3bd4i-3"})(["font-weight:",";ins,ins > *{text-decoration:none;background:inherit !important;color:",";}del,del > *{background:inherit !important;color:",";}"],(function(e){return e.theme.fontWeight.light}),(function(e){return e.theme.color.diff.insert}),(function(e){return e.theme.color.diff.delete}));var rc=[{amount:60,unit:"seconds"},{amount:60,unit:"minutes"},{amount:24,unit:"hours"},{amount:30.4167,unit:"days"},{amount:12,unit:"months"}],oc=function(e,t){var n,r=(t-e)/1e3,o=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=tc(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){c=!0,a=e},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw a}}}}(rc);try{for(o.s();!(n=o.n()).done;){var a=n.value,i=a.amount,c=a.unit;if(r<i)return{duration:Math.round(r),unit:c};r/=i}}catch(e){o.e(e)}finally{o.f()}return{duration:Math.round(r),unit:"years"}},ac=function(e){var t=e.time,n=e.refreshInterval,a=e.className,i=Object(m.a)().t,c=new Date(1e3*t),l=ec(Object(r.useState)(Date.now()),2),u=l[0],s=l[1];Object(r.useEffect)((function(){var e=setInterval((function(){return s(Date.now())}),n);return function(){clearInterval(e)}}),[n]);var f=oc(c,u),d=f.duration,p=f.unit;return o.a.createElement("time",{dateTime:c.toISOString(),className:a},i("relative_timestamp.".concat(p),{count:d}))};ac.defaultProps={refreshInterval:1e4};var ic=ac,cc=n(986),lc=function e(t){var n,a=t.id,c=t.lyricsEdit,l=t.isLast,s=Object(m.a)().t,f=Object(i.c)(),d=Object(b.a)("lyricsEditProposals",a),p=Object(O.f)("accept",d),h=Object(O.f)("reject",d),g=Object(ci.a)("acceptedALyricsEdit"),v=Object(ci.a)("rejectedALyricsEdit"),w=function(e,t){var n=Hi("plain_text"===(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).editFormat?Yi(e,t):Ui.patch_apply(e,t),2),r=n[0],o=n[1];return{patched:r,success:o}}((n=d.diff,Ui.patch_make(n)),c.markdown,{editFormat:d.editFormat}),_=w.patched,j=w.success,E=Object(i.d)((function(e){return u()(e.songPage,["resolvingLyricsEditProposal"])}),i.b).resolvingLyricsEditProposal,C=Object(y.a)("song:lyrics_edit_proposal_accept_clicked",{proposalId:a}),x=Object(y.a)("song:lyrics_edit_proposal_reject_clicked",{proposalId:a});Object(r.useEffect)((function(){Jo()(j)||f(Object(Q.ab)(a,{state:"inapplicable"}))}),[f,a,j]);var I=Object(r.useCallback)((function(e){"reject"===e.currentTarget.dataset.action?(f(Object(Q.rb)(a,{isLast:l})),x()):(f(Object(Q.R)(a,{lyricsEdit:c,patched:_,isLast:l})),C())}),[f,a,l,c,_,C,x]);if(!Jo()(j))return o.a.createElement(e.Container,null,o.a.createElement(ni.a,{fontWeight:"light",size:"reading",textTransform:"none"},s("lyrics.inapplicable_proposal")));var S,k,A=function(e){var t=wi()(e);return Ui.diff_cleanupSemantic(t),Ui.diff_prettyHtml(t).replace(/&para;/gm,"")}((S=c.markdown,k=_,Ui.diff_main(S,k)));return o.a.createElement(e.Container,null,o.a.createElement(e.UserDetails,null,o.a.createElement(li.a,{id:d.user,avatarSize:18,showIQ:!1}),o.a.createElement(e.RelativeTimestamp,{time:d.createdAt})),E&&o.a.createElement(e.PlaceholderSpinner,{size:"1rem"}),o.a.createElement(Ji,{html:A}),o.a.createElement(e.Controls,null,p&&o.a.createElement(L.a,{disabled:E,"data-action":"accept",onClick:I},s("lyrics.accept"),o.a.createElement(e.IQ,null,s("lyrics.iq",{valueWithSign:Object(O.n)(g)}))),h&&o.a.createElement(M.a,{disabled:E,fontWeight:"light","data-action":"reject",onClick:I},o.a.createElement("u",null,s("lyrics.reject")),o.a.createElement(e.IQ,null,s("lyrics.iq",{valueWithSign:Object(O.n)(v)})))),d.error&&o.a.createElement(e.Alert,{status:"error",message:d.error}))},uc=lc;lc.UserDetails=c.f.div.withConfig({displayName:"LyricsEditProposal__UserDetails",componentId:"sc-67e3l-0"})(["margin-bottom:",";display:flex;justify-content:space-between;"],(function(e){return e.theme.space.xLarge})),lc.RelativeTimestamp=Object(c.f)((function(e){return o.a.createElement(ic,e)})).withConfig({displayName:"LyricsEditProposal__RelativeTimestamp",componentId:"sc-67e3l-1"})(["font-weight:",";font-size:",";text-transform:capitalize;"],(function(e){return e.theme.fontWeight.light}),(function(e){return e.theme.fontSize.smallReading})),lc.Container=c.f.div.withConfig({displayName:"LyricsEditProposal__Container",componentId:"sc-67e3l-2"})(["position:relative;"]),lc.IQ=c.f.span.withConfig({displayName:"LyricsEditProposal__IQ",componentId:"sc-67e3l-3"})(["margin-left:",";color:",";text-decoration:none;"],(function(e){return e.theme.space.quarter}),(function(e){return e.theme.color.primary.onVariant})),lc.Controls=c.f.div.withConfig({displayName:"LyricsEditProposal__Controls",componentId:"sc-67e3l-4"})(["font-size:",";margin-top:",";display:flex;& > *:not(:last-child){margin-right:",";}"],(function(e){return e.theme.fontSize.smallReading}),(function(e){return e.theme.space.large}),(function(e){return e.theme.space.small})),lc.PlaceholderSpinner=Object(c.f)(cc.a).withConfig({displayName:"LyricsEditProposal__PlaceholderSpinner",componentId:"sc-67e3l-5"})(["position:absolute;right:0;"]),lc.Alert=Object(c.f)((function(e){return o.a.createElement(de.a,e)})).withConfig({displayName:"LyricsEditProposal__Alert",componentId:"sc-67e3l-6"})(["margin-top:",";"],(function(e){return e.theme.space.full}));var sc=n(75),fc=n.n(sc),dc=n(52),pc=n.n(dc),mc=n(658),hc=n.n(mc),gc=n(101),bc=n.n(gc),yc=n(31),vc=n(179),Oc=n.n(vc),wc=n(69);function _c(e){return function(e){if(Array.isArray(e))return Cc(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Ec(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function jc(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,a=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){c=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(c)throw o}}return a}(e,t)||Ec(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ec(e,t){if(e){if("string"==typeof e)return Cc(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Cc(e,t):void 0}}function Cc(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var xc=["p","br","b","strong","em","i","a"],Ic=function(e){var t=document.createElement("div");t.innerHTML=e,t.querySelectorAll("a").forEach((function(e){if(!e.getAttribute("data-id")&&!e.dataset.realLink){var t=new Error("Error processing lyrics for editing: detected non-referent link (".concat(e.outerHTML,")"));throw t.humanReadableMessage=yc.a.t("lyrics.out_of_sync"),t}e.innerHTML.match(/<br[\s\/]?>$/i)&&(e.querySelectorAll("br:last").forEach((function(e){return e.parentNode.removeChild(e)})),e.insertAdjacentElement("afterend","<br/>"))}));var n=new RegExp("</(".concat(Po.a.topLevelBlockContainers.join("|"),")>\\s*"),"gi"),r=new RegExp("</(".concat(Po.a.topLevelStandaloneBlocks.join("|"),")>\\s*"),"gi");return t.innerHTML.replace(/<p( [^>]*)?>/gi,"").replace(/<\/p>\s*/gi,"\n\n").replace(n,"$&\n\n").replace(r,"$&\n\n").replace(/\s*<br[\s\/]?>([ \t]*)\s*/gi,"\n$1")},Sc=function(e){var t={attrHash:{}},n=document.createElement("div");return n.innerHTML=e,n.querySelectorAll("a").forEach((function(e){var n=e.getAttribute("data-id");fc()(n)?e.dataset.realLink?e.outerHTML="[".concat(e.innerHTML,"](").concat(e.getAttribute("href"),")"):e.outerHTML=e.innerHTML:(pc()(t.attrHash,n,{class:e.getAttribute("class"),"data-editorial-state":e.getAttribute("data-editorial-state")}),e.outerHTML="[".concat(e.innerHTML,"](").concat(n,")"))})),t.markdown=hc()(n.innerHTML).trim(),t},kc=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e=e.replace(/\n/gi,"<br>");var n=document.createElement("div");return n.innerHTML=Pc(e),n.querySelectorAll("a").forEach((function(e){if(e.setAttribute("href",e.getAttribute("href").trim()),e.getAttribute("href").match(/^\d+$/)){e.setAttribute("data-id",e.getAttribute("href")),e.setAttribute("href","/".concat(e.getAttribute("data-id")));var n=fr()(t,e.getAttribute("data-id"));Object.entries(n).forEach((function(t){var n=jc(t,2),r=n[0],o=n[1];return e.setAttribute(r,o)}))}else Rc(e.getAttribute("href"))?(e.setAttribute("target",Mc(e.getAttribute("html"))?"_self":"_blank"),e.setAttribute("data-real-link",!0)):e.outerHTML="[".concat(e.innerHTML,"](").concat(e.getAttribute("href"),")")})),Tc(n.innerHTML)},Ac=function(e,t,n,r,o,a,i,c){void 0===c&&(c="");var l=t,u=n,s=r.toLowerCase(),f=o,d=c;if(""===f){if(""===s&&(s=u.toLowerCase().replace(/ ?\n/g," ")),f="#".concat(s),!(l.search(/\(\s*\)$/m)>-1))return l;f=""}var p='<a href="'.concat(f,'"');return""!==d&&(d=d.replace(/"/g,"&quot;"),p+=' title="'.concat(d,'"')),p+=">".concat(u,"</a>")},Tc=function(e){return e.replace(/~E(\d+)E/,(function(e,t){return String.fromCharCode(t)}))},Pc=function(e){return e.replace(/(\[((?:\[[^\]]*\]|\[\[[^\]]*\]\]|[^\[\]])*)\]\([ \t]*()<?(.*?)>?[ \t]*((['"])(.*?)\6[ \t]*)?\))/g,Ac)},Nc=Oc()((function(){var e=window.location,t="^(?:".concat(e.protocol,")?//").concat(e.hostname.replace(/\\?\./g,"\\."),"/");return new RegExp(t,"i")})),Mc=function(e){return!!Nc().test(e)||!/^(?:https?:)?\/\//i.test(e)&&!/^[a-z\d.-]+:/i.test(e)},Rc=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=e.trim();return"/"===t[0]||0===t.indexOf("http")||t.includes(Po.a.canonical_domain)},Lc=function(e){var t=document.createElement("div");return t.innerHTML=e,t.querySelectorAll(["*"].concat(_c(xc.map((function(e){return":not(".concat(e,")")})))).join("")).length},Dc=function(e,t,n){var r=n.isMusic,o=void 0===r||r,a=[];if(Object(wc.e)(t)&&a.push(yc.a.t("lyrics.unmatched_parens_error")),o){var i=function(e){var t=Sc(e).markdown;return Lc(t)}(e),c=Lc(t);i&&c?a.push(yc.a.t("lyrics.didnt_remove_block_level_html_from_music_error")):!i&&c&&a.push(yc.a.t("lyrics.added_block_level_html_to_music_error"))}return a};function Fc(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,a=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){c=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(c)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return zc(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return zc(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function zc(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Bc=function e(){var t=Object(m.a)().t,n=Object(i.c)(),a=Object(r.useRef)(),c=function(){var e=Fc(Object(r.useState)({}),2),t=e[0],n=e[1],o=Fa(),a=Object(i.d)((function(e){return e.songPage.lyricsData})),c=fr()(a,["body","html"]);return Object(r.useEffect)((function(){var e=Sc(Ic(c));n(e)}),[c]),{lyricsEdit:t,proposals:ae()(t)?[]:o}}(),l=c.lyricsEdit,u=c.proposals,s=Object(r.useCallback)((function(){n(Object(Q.tb)({isVisible:!1}))}),[n]);return Object(A.a)("Escape",s),Object(ei.a)({element:a,onClickOutside:s}),o.a.createElement(ii,null,o.a.createElement(e.Container,null,o.a.createElement(e.ProposalsContainer,{ref:a},o.a.createElement(e.Proposals,null,u.map((function(n,r){return o.a.createElement(e.Proposal,{key:n},o.a.createElement(e.Label,{size:"reading",textTransform:"none",fontWeight:"light"},t("lyrics.edit_proposal_title",{index:r+1}),":"),o.a.createElement(uc,{id:n,lyricsEdit:l,isLast:1===u.length}))})),0===u.length&&o.a.createElement(e.Label,{size:"reading",textTransform:"none",fontWeight:"light"},t("lyrics.no_lyrics_edit_proposals")))),o.a.createElement(e.IconButton,{useBackgroundColor:!0,onClick:s},o.a.createElement(mn.a,null))))},Vc=o.a.memo(Bc);Bc.Container=c.f.div.withConfig({displayName:"LyricsEditProposalsdesktop__Container",componentId:"punjmo-0"})(["display:grid;grid-template-columns:[right-start] repeat(4,1fr) [right-end] 1fr [grid-end];grid-gap:",";overflow:hidden;height:100%;"],(function(e){return e.theme.grid.gap})),Bc.IconButton=Object(c.f)((function(e){return o.a.createElement(ti.a,e)})).withConfig({displayName:"LyricsEditProposalsdesktop__IconButton",componentId:"punjmo-1"})(["font-size:",";grid-column:right-end / auto;grid-row:1 / max-content;"],(function(e){return e.theme.fontSize.smallReading})),Bc.ProposalsContainer=c.f.div.withConfig({displayName:"LyricsEditProposalsdesktop__ProposalsContainer",componentId:"punjmo-2"})(["grid-column:right-start / right-end;height:100%;overflow-y:auto;"]),Bc.Proposals=c.f.div.withConfig({displayName:"LyricsEditProposalsdesktop__Proposals",componentId:"punjmo-3"})(["padding:",";background-color:",";"],(function(e){return e.theme.space.xLarge}),(function(e){return e.theme.color.background.variant})),Bc.Proposal=c.f.div.withConfig({displayName:"LyricsEditProposalsdesktop__Proposal",componentId:"punjmo-4"})(["&:not(:last-child){padding-bottom:",";border-bottom:1px solid ",";margin-bottom:",";}"],(function(e){return e.theme.space.large}),(function(e){return e.theme.color.background.on}),(function(e){return e.theme.space.large})),Bc.Label=Object(c.f)((function(e){return o.a.createElement(ni.a,e)})).withConfig({displayName:"LyricsEditProposalsdesktop__Label",componentId:"punjmo-5"})(["display:block;margin-bottom:",";"],(function(e){return e.theme.space.full}));var Hc=n(608),qc=n(140),Wc=function e(t){var n=t.userId,r=t.size,a=t.className,i=Object(b.a)("users",n);return o.a.createElement(e.Avatar,{className:a},o.a.createElement(qc.a,{src:i.avatar.medium.url,width:r,height:r}))},Uc=o.a.memo(Wc);Wc.Avatar=c.f.div.withConfig({displayName:"InlineAvatar__Avatar",componentId:"sc-16824ut-0"})(["flex-shrink:0;overflow:hidden;border-radius:100%;border:1.5px solid white;"]);var $c=function e(t){var n=t.userIds;return 0===n.length?null:o.a.createElement(e.AvatarContainer,null,n.reverse().map((function(t){return o.a.createElement(e.InlineAvatar,{key:t,userId:t,size:22})})))};$c.AvatarContainer=c.f.div.withConfig({displayName:"StackedAvatars__AvatarContainer",componentId:"yaqtcx-0"})(["display:flex;flex-direction:row-reverse;"]),$c.InlineAvatar=Object(c.f)((function(e){return o.a.createElement(Uc,e)})).withConfig({displayName:"StackedAvatars__InlineAvatar",componentId:"yaqtcx-1"})(["isolation:isolate;&:not(:last-child){margin-left:-0.3rem;}"]);var Qc=o.a.memo($c),Gc=n(143),Yc=function e(t){var n=t.contributors,r=t.contributorsCount,a=t.label,i=t.showAvatars,c=Object(m.a)().t,l=n.slice(0,3).map((function(e){return e.user})),u=Object(Hc.a)();return o.a.createElement(e.Container,{onClick:u.open},i&&o.a.createElement(Qc,{userIds:l}),o.a.createElement(e.Label,null,Boolean(a)?o.a.createElement(o.a.Fragment,null,a," "):o.a.createElement(e.People,{height:"0.75rem"}),o.a.createElement(e.ContributorsReference,null,c("lyrics.contributor",{count:r}))))};Yc.defaultProps={showAvatars:!1};var Kc=o.a.memo(Yc);Yc.Container=c.f.button.withConfig({displayName:"ContributorsCreditSong__Container",componentId:"sc-12hq27v-0"})(["display:flex;align-items:center;column-gap:",";"],(function(e){return e.theme.space.half})),Yc.Label=c.f.span.withConfig({displayName:"ContributorsCreditSong__Label",componentId:"sc-12hq27v-1"})(["font-family:",";font-size:",";font-weight:",";text-align:left;display:flex;align-items:center;"],(function(e){return e.theme.font.reading}),(function(e){return e.theme.fontSize.smallReading}),(function(e){return e.theme.fontWeight.light})),Yc.ContributorsReference=c.f.span.withConfig({displayName:"ContributorsCreditSong__ContributorsReference",componentId:"sc-12hq27v-2"})(["text-decoration:underline;&:hover{text-decoration:none;}"]),Yc.People=Object(c.f)(Gc.a).withConfig({displayName:"ContributorsCreditSong__People",componentId:"sc-12hq27v-3"})(["margin-right:",";"],(function(e){return e.theme.space.xSmall}));var Zc=n(613);function Xc(){return Xc=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Xc.apply(this,arguments)}var Jc=o.a.createElement("path",{d:"M4 16.483A9 9 0 1 0 14 1.516 9 9 0 0 0 4 16.483Zm.714-13.897a7.714 7.714 0 1 1 8.572 12.828A7.714 7.714 0 0 1 4.714 2.586ZM9 3.857a.964.964 0 1 0 0 1.928.964.964 0 0 0 0-1.928Zm.643 9V7.714H7.07V9h1.286v3.857H6.428v1.286h5.143v-1.286H9.643Z"}),el=function(e){return o.a.createElement("svg",Xc({fill:"currentColor",viewBox:"0 0 18 18"},e),Jc)};function tl(){return tl=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},tl.apply(this,arguments)}var nl=o.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"m15.5 4.9-7.9 10-5-5L4 8.3l3.4 3.4L14 3.6 15.5 5Z"}),rl=function(e){return o.a.createElement("svg",tl({viewBox:"0 0 18 18"},e),nl)};function ol(){return ol=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ol.apply(this,arguments)}var al=function e(t){var n=t.songId,r=t.className,a=Object(m.a)().t,i=Object(ce.a)({mobile:{position:"right",yAdjustment:"-1px"},desktop:{position:"bottom",yAdjustment:"-3px"}}),c=Object(ce.a)({mobile:"85vw",desktop:"40vw"}),l=Object(b.a)("songs",n),u=l.lyricsMarkedStaffApprovedBy,s=l.lyricsMarkedCompleteBy,f=l.published,d=Object(b.a)("users",s),p=Object(b.a)("users",u),h=d&&d.id===(null==p?void 0:p.id);return f||d||p?o.a.createElement(e.Container,{className:r},o.a.createElement(Zc.a,ol({},i,{content:o.a.createElement(e.InfoTooltipLines,{maxWidth:c},f&&o.a.createElement(e.InfoTooltipLine,null,o.a.createElement(j.a,{aspectRatio:11/15,lineHeight:1,svg:pn.a,verticalAlign:"-2px"}),o.a.createElement(e.LineText,null,o.a.createElement(e.Link,{href:"/8839950"},a("song_page_header.metadata.locked")))),d&&!h&&o.a.createElement(e.InfoTooltipLine,null,o.a.createElement(j.a,{aspectRatio:1,lineHeight:1,svg:rl,verticalAlign:"-2px"}),o.a.createElement(e.LineText,null,a("song_page_header.metadata.lyrics_completed_by")," ",o.a.createElement(e.Link,{href:d.url},d.name))),p&&o.a.createElement(e.InfoTooltipLine,null,o.a.createElement(j.a,{aspectRatio:1,lineHeight:1,svg:rl,verticalAlign:"-2px"}),o.a.createElement(e.LineText,null,a("song_page_header.metadata.lyrics_staff_approved_by")," ",o.a.createElement(e.Link,{href:p.url},p.name))))}),o.a.createElement(e.InfoIcon,null))):null},il=o.a.memo(al);function cl(){return cl=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},cl.apply(this,arguments)}al.Container=c.f.div.withConfig({displayName:"MetadataTooltip__Container",componentId:"sc-435euq-0"})(["display:flex;align-items:center;"]),al.InfoTooltipLines=c.f.div.withConfig({displayName:"MetadataTooltip__InfoTooltipLines",componentId:"sc-435euq-1"})(["display:flex;flex-direction:column;gap:",";max-width:",";svg{fill:currentColor;}"],(function(e){return e.theme.space.quarter}),(function(e){return e.maxWidth})),al.InfoTooltipLine=c.f.div.withConfig({displayName:"MetadataTooltip__InfoTooltipLine",componentId:"sc-435euq-2"})(["display:flex;line-height:",";"],(function(e){return e.theme.lineHeight.medium})),al.LineText=c.f.span.withConfig({displayName:"MetadataTooltip__LineText",componentId:"sc-435euq-3"})(["&:before{content:'\\00a0'}"]),al.Link=c.f.a.withConfig({displayName:"MetadataTooltip__Link",componentId:"sc-435euq-4"})(["color:",";border-bottom:1px dotted ",";"],(function(e){return e.theme.color.background.on}),(function(e){return e.theme.color.background.on})),al.InfoIcon=Object(c.f)(el).withConfig({displayName:"MetadataTooltip__InfoIcon",componentId:"sc-435euq-5"})(["vertical-align:text-top;fill:",";height:",";"],(function(e){return e.theme.color.background.on}),(function(e){return e.theme.space.small}));var ll=o.a.createElement("path",{fillRule:"evenodd",d:"M11.335 2.6v1.333H9.2A11.76 11.76 0 0 1 6.588 9.02a9.654 9.654 0 0 0 3.413 2.247l-.473 1.226a11.279 11.279 0 0 1-3.84-2.56 12.314 12.314 0 0 1-3.853 2.574l-.5-1.24a11.227 11.227 0 0 0 3.44-2.28 10.98 10.98 0 0 1-2-3.72h1.4A9 9 0 0 0 5.7 8.053a9.807 9.807 0 0 0 2.127-4.12H.668V2.6h4.667v-2h1.333v2h4.667Zm7.997 16h-1.433l-1.067-2.667h-4.567L11.2 18.6H9.765l4-10h1.567l4 10Zm-4.787-8.373L12.8 14.6h3.5l-1.754-4.373Z",clipRule:"evenodd"}),ul=function(e){return o.a.createElement("svg",cl({fill:"currentColor",viewBox:"0 0 20 19"},e),ll)},sl=function e(t){var n=t.songId,a=Object(m.a)().t,c=Object(b.a)("songs",n),l=c.title,u=c.translationSongs,s=void 0===u?[]:u,f=c.lyricsPlaceholderReason,d=!Object(ie.a)(),p=s.filter((function(e){return e.id!==n})),h=Object(b.a)("songs",n).stats.contributors,g=Object(i.d)((function(e){return e.songPage||{}})).contributors,v=(void 0===g?{}:g).iqEarners,O=void 0===v?[]:v,w=Object(y.a)("song:click_translation"),_=Object(r.useCallback)((function(e){return function(){w({language:e.language})}}),[w]);return o.a.createElement(e.Container,null,d&&o.a.createElement(Kc,{contributors:O,contributorsCount:h,showAvatars:O.length>=3}),Boolean(p.length)&&o.a.createElement("div",null,o.a.createElement(N.a,{renderToggle:function(t){var n=t.isVisible;return o.a.createElement(e.TranslationsContainer,null,o.a.createElement(e.Languages,null),o.a.createElement(e.TranslationsText,null,a("lyrics.translations")),o.a.createElement(e.MenuIcon,null,n?o.a.createElement(ya.a,null):o.a.createElement(ba.a,null)))}},(function(){return o.a.createElement(e.DropdownContents,null,p.map((function(t){return o.a.createElement(e.DropdownItem,{key:t.id},o.a.createElement(e.TextButton,{forwardedAs:"a",href:t.url,title:t.title,onClick:_(t)},o.a.createElement(e.TextEllipsis,null,a("languages.".concat(t.language),t.title))))})))}))),Boolean(f)?o.a.createElement(e.MetadataTooltip,{songId:n}):o.a.createElement(e.TitleContainer,null,o.a.createElement(e.MetadataTooltip,{songId:n}),o.a.createElement(e.Title,{as:"h2",size:"smallReading",fontWeight:"light",textTransform:"none"},a("seo_title",{title:l}))))},fl=o.a.memo(sl);function dl(){return dl=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},dl.apply(this,arguments)}sl.Title=Object(c.f)(ni.a).withConfig({displayName:"LyricsHeader__Title",componentId:"ejidji-0"})(["align-content:center;flex-wrap:wrap;display:flex;letter-spacing:0.025rem;line-height:",";"],(function(e){return e.theme.lineHeight.medium})),sl.Container=c.f.div.withConfig({displayName:"LyricsHeader__Container",componentId:"ejidji-1"})(["align-items:center;display:flex;justify-content:flex-end;flex-direction:row-reverse;grid-column:left-start / left-end;margin-top:0;gap:"," ",";flex-wrap:wrap-reverse;"],(function(e){return e.theme.space.small}),(function(e){return e.theme.space.large})),sl.TitleContainer=c.f.div.withConfig({displayName:"LyricsHeader__TitleContainer",componentId:"ejidji-2"})(["display:flex;gap:",";align-items:center;"],(function(e){return e.theme.space.xSmall})),sl.MetadataTooltip=Object(c.f)((function(e){return o.a.createElement(il,e)})).withConfig({displayName:"LyricsHeader__MetadataTooltip",componentId:"ejidji-3"})(["align-self:start;height:",";"],(function(e){return e.theme.space.large})),sl.DropdownContents=c.f.ul.withConfig({displayName:"LyricsHeader__DropdownContents",componentId:"ejidji-4"})(["",";background-color:#fff;margin-top:",";font-size:",";position:absolute;border:1px solid ",";min-width:100%;cursor:pointer;white-space:nowrap;left:0;"],Object(T.a)("dropdown"),(function(e){return e.theme.space.full}),(function(e){return e.theme.fontSize.smallReading}),(function(e){return e.theme.color.background.on})),sl.DropdownItem=c.f.li.withConfig({displayName:"LyricsHeader__DropdownItem",componentId:"ejidji-5"})(["color:",";&:hover{color:",";background-color:",";&:first-child:before{background-color:",";color:",";}}&:first-child:before{"," left:",";}"],(function(e){var t;return e.theme.color[null!==(t=e.color)&&void 0!==t?t:"background"].on}),(function(e){var t;return e.theme.color[null!==(t=e.color)&&void 0!==t?t:"background"].main}),(function(e){var t;return e.theme.color[null!==(t=e.color)&&void 0!==t?t:"background"].on}),(function(e){return e.theme.color.background.on}),(function(e){return e.theme.color.background.main}),(function(e){return Object(P.b)({direction:"top",size:"8px",color:e.theme.color.background.main,borderColor:e.theme.color.background.on})}),(function(e){return e.theme.space.full})),sl.TranslationsContainer=c.f.div.withConfig({displayName:"LyricsHeader__TranslationsContainer",componentId:"ejidji-6"})(["color:",";display:flex;line-height:",";align-items:center;font-family:",";font-weight:",";text-decoration:underline;letter-spacing:0.025rem;font-size:",";gap:",";"],(function(e){return e.theme.color.background.on}),(function(e){return e.theme.space.full}),(function(e){return e.theme.font.reading}),(function(e){return e.theme.fontWeight.light}),(function(e){return e.theme.fontSize.smallReading}),(function(e){return e.theme.space.xSmall})),sl.TranslationsText=c.f.span.withConfig({displayName:"LyricsHeader__TranslationsText",componentId:"ejidji-7"})(["color:",";font-family:",";font-weight:",";text-decoration:underline;letter-spacing:0.025rem;font-size:",""],(function(e){return e.theme.color.background.on}),(function(e){return e.theme.font.reading}),(function(e){return e.theme.fontWeight.light}),(function(e){return e.theme.fontSize.smallReading})),sl.Languages=Object(c.f)((function(e){return o.a.createElement(ul,e)})).withConfig({displayName:"LyricsHeader__Languages",componentId:"ejidji-8"})(["height:",";"],(function(e){return e.theme.space.small})),sl.MenuIcon=c.f.span.withConfig({displayName:"LyricsHeader__MenuIcon",componentId:"ejidji-9"})(["svg{width:",";}"],(function(e){return e.theme.space.half})),sl.TextButton=Object(c.f)((function(e){return o.a.createElement(M.a,e)})).withConfig({displayName:"LyricsHeader__TextButton",componentId:"ejidji-10"})(["width:100%;padding:"," ",";display:flex;justify-content:space-between;"],(function(e){return e.theme.space.xSmall}),(function(e){return e.theme.space.half})),sl.TextEllipsis=c.f.div.withConfig({displayName:"LyricsHeader__TextEllipsis",componentId:"ejidji-11"})(["max-width:25ch;",""],P.i);var pl=o.a.createElement("path",{fillRule:"evenodd",d:"M4 2.017a9 9 0 1 1 10 14.966A9 9 0 0 1 4 2.017Zm.714 13.897a7.715 7.715 0 1 0 8.572-12.829 7.715 7.715 0 0 0-8.572 12.83ZM4.5 9.765l3.214 3.215L13.5 7.195l-.91-.91-4.876 4.877-2.306-2.305-.908.909Z",clipRule:"evenodd"}),ml=function(e){return o.a.createElement("svg",dl({fill:"currentColor",viewBox:"0 0 18 19"},e),pl)};function hl(){return hl=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},hl.apply(this,arguments)}var gl=o.a.createElement("path",{fillRule:"evenodd",d:"M9 .5a9 9 0 1 0 0 18 9 9 0 0 0 0-18Zm0 16.714a7.715 7.715 0 1 1 0-15.43 7.715 7.715 0 0 1 0 15.43Zm.643-12.857H8.357v7.072h1.286V4.357ZM8.464 13.52a.964.964 0 1 1 1.072 1.603.964.964 0 0 1-1.072-1.603Z",clipRule:"evenodd"}),bl=function(e){return o.a.createElement("svg",hl({fill:"currentColor",viewBox:"0 0 18 19"},e),gl)},yl=function e(t){var n=t.children,r=t.title,a=t.isCompleted;return o.a.createElement(e.Container,null,o.a.createElement(e.Title,{isCompleted:a},a?o.a.createElement(ml,null):o.a.createElement(bl,null),r),n)},vl=o.a.memo(yl);yl.Container=c.f.div.withConfig({displayName:"ContributorSidebarSection__Container",componentId:"sc-1pzg32s-0"})(["display:flex;flex-direction:column;gap:",";&:not(:last-child){border-bottom:1px solid #CCC;padding-bottom:",";}"],(function(e){return e.theme.space.full}),(function(e){return e.theme.space.large})),yl.Title=c.f.h4.withConfig({displayName:"ContributorSidebarSection__Title",componentId:"sc-1pzg32s-1"})(["display:flex;gap:",";align-items:center;font-size:",";color:",";& svg{height:",";fill:",";}"],(function(e){return e.theme.space.half}),(function(e){return e.theme.fontSize.reading}),(function(e){return e.isCompleted?e.theme.color.success.main:e.theme.color.accentText.on}),(function(e){return e.theme.space.full}),(function(e){return e.isCompleted?e.theme.color.success.main:e.theme.color.accentText.on}));var Ol=n(385),wl=["label","action","loading"];function _l(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var jl=function e(t){var n=t.label,r=t.action,a=t.loading,i=_l(t,wl);return o.a.createElement(e.Container,i,n,a?o.a.createElement(e.Spinner,null):o.a.createElement(Ol.a,{action:r}))};jl.defaultProps={loading:!1};var El=o.a.memo(jl);jl.Container=Object(c.f)((function(e){return o.a.createElement(L.a,e)})).withConfig({displayName:"ContributorActionButton__Container",componentId:"b91hmo-0"})(["width:fit-content;text-transform:capitalize;line-height:",";align-items:center;white-space:nowrap;"],(function(e){return e.theme.space.full})),jl.Spinner=Object(c.f)((function(e){return o.a.createElement(R.a,e)})).withConfig({displayName:"ContributorActionButton__Spinner",componentId:"b91hmo-1"})(["vertical-align:-2px;stroke:",";margin-left:",";",":hover:not(:disabled) &{stroke:",";fill:",";}"],(function(e){return e.theme.color.background.on}),(function(e){return e.theme.space.quarter}),jl.Container,(function(e){return e.theme.color.background.main}),(function(e){return e.theme.color.background.on}));var Cl=function(e){var t=e.songId,n=Object(m.a)().t,a=Object(i.c)(),c=Object(b.a)("songs",t),l=c.lyricsPlaceholderReason,u=Object(O.f)("edit_lyrics",c),s=!Boolean(l)||"instrumental"===l,f=Object(b.a)("songs",t).stats.transcribers,d=Object(i.d)((function(e){return fr()(e.songPage,"contributors.transcribers",[])})),p=Object(r.useCallback)((function(){a(Object(Q.fb)({context:za}))}),[a]);return s?o.a.createElement(Kc,{contributors:d,contributorsCount:f,showAvatars:!0,label:n("lyrics.contributor_sidebar.lyrics_transcribed_by")}):u?o.a.createElement(El,{label:n("lyrics.contributor_sidebar.transcribe_lyrics"),action:"createdARealSong",onClick:p}):null},xl=o.a.memo(Cl),Il=n(36),Sl=n.n(Il),kl=n(257),Al=function e(t){var n=t.label,r=t.user,a=Sl()(null==r?void 0:r.roleForDisplay);return o.a.createElement(e.Link,{href:r.url},o.a.createElement(Qc,{userIds:[r.id]}),o.a.createElement(e.CompletedUsernameContainer,null,n," ",o.a.createElement(e.Username,null,r.name,a&&o.a.createElement(kl.a,{role:a}))))},Tl=o.a.memo(Al);Al.Link=c.f.a.withConfig({displayName:"ContributorsCreditMarkedComplete__Link",componentId:"ecmhnv-0"})(["display:flex;align-items:center;text-decoration:none;column-gap:",";font-weight:",";font-size:",";color:",";"],(function(e){return e.theme.space.half}),(function(e){return e.theme.fontWeight.light}),(function(e){return e.theme.fontSize.smallReading}),(function(e){return e.theme.color.background.on})),Al.CompletedUsernameContainer=c.f.div.withConfig({displayName:"ContributorsCreditMarkedComplete__CompletedUsernameContainer",componentId:"ecmhnv-1"})(["display:flex;align-items:center;flex-wrap:wrap;"]),Al.Username=c.f.span.withConfig({displayName:"ContributorsCreditMarkedComplete__Username",componentId:"ecmhnv-2"})(["display:flex;align-items:center;text-decoration:underline;column-gap:",";&:hover{text-decoration:none;}"],(function(e){return e.theme.space.quarter}));var Pl=function(e){var t=e.songId,n=Object(m.a)().t,a=Object(b.a)("songs",t),i=a.lyricsMarkedStaffApprovedBy,c=a.lyricsMarkedCompleteBy,l=Object(O.f)("view_mark_complete_button",a),u=Object(O.f)("mark_lyrics_evaluation_as_complete",a),s=Object(b.a)("users",c),f=Object(b.a)("users",i),d=Object(ue.a)({submitAction:Q.S,extraValues:{songId:t,action:"mark_lyrics_evaluation_as_complete"}}),p=Object(r.useCallback)((function(){confirm(n(["song.action_confirmations.mark_lyrics_evaluation_as_complete","song.action_confirmations.admin_default"]))&&d.onSubmit()}),[d,n]);return s||f?o.a.createElement(o.a.Fragment,null,Boolean(s)&&o.a.createElement(Tl,{label:n("song_page_header.metadata.lyrics_completed_by"),user:s}),Boolean(f)&&o.a.createElement(Tl,{label:n("song_page_header.metadata.lyrics_staff_approved_by"),user:f})):l?o.a.createElement(El,{label:n("song.actions.mark_lyrics_evaluation_as_complete"),action:"youMarkedASongComplete",onClick:p,loading:d.isSubmitting,disabled:!u}):null},Nl=o.a.memo(Pl),Ml=function(e){var t=e.songId,n=Object(m.a)().t,r=Object(b.a)("songs",t),a=r.lyricsMarkedStaffApprovedBy,i=r.lyricsMarkedCompleteBy||a;return o.a.createElement(vl,{title:n("lyrics.contributor_sidebar.lyrics"),isCompleted:i},o.a.createElement(xl,{songId:t}),o.a.createElement(Nl,{songId:t}))},Rl=o.a.memo(Ml),Ll=function(e){var t,n,r,o=Object(b.a)("songs",e);return Boolean((null==o?void 0:o.releaseDateComponents)&&(null==o||null===(t=o.producerArtists)||void 0===t?void 0:t.length)&&(null==o||null===(n=o.writerArtists)||void 0===n?void 0:n.length)&&(null==o||null===(r=o.albums)||void 0===r?void 0:r.length))},Dl=n(618),Fl=function e(t){var n=t.songId,a=Object(m.a)().t,c=Object(b.a)("songs",n),l=Object(i.c)(),u=c.descriptionAnnotation,s=Object(b.a)("annotations",u),f=s.state,d=s.authors,p=d.slice(0,3).map((function(e){return e.user})),h=Object(r.useCallback)((function(){l(Object(Q.Eb)("annotations",u,!0))}),[l,u]);return"needs_exegesis"===f?o.a.createElement(Dl.a,{descriptionAnnotationId:u}):o.a.createElement(e.Link,{href:"#about",onClick:h,showDownArrowForAnchor:!1},o.a.createElement(Qc,{userIds:p}),o.a.createElement(e.Label,null,a("lyrics.contributor_sidebar.song_bio_writen_by")," ",o.a.createElement(e.ContributorsReference,null,a("lyrics.contributor",{count:d.length}),o.a.createElement(e.DownArrow,{height:"1rem"}))))},zl=o.a.memo(Fl);Fl.Link=Object(c.f)((function(e){return o.a.createElement(C.a,e)})).withConfig({displayName:"ContributorsCreditSongBio__Link",componentId:"sc-1mmjc5b-0"})(["display:flex;align-items:center;text-decoration:none;column-gap:",";font-weight:",";font-size:",";display:flex;"],(function(e){return e.theme.space.half}),(function(e){return e.theme.fontWeight.light}),(function(e){return e.theme.fontSize.smallReading})),Fl.Label=c.f.span.withConfig({displayName:"ContributorsCreditSongBio__Label",componentId:"sc-1mmjc5b-1"})(["font-family:",";font-size:",";font-weight:",";text-align:left;display:flex;align-items:center;flex-wrap:wrap;"],(function(e){return e.theme.font.reading}),(function(e){return e.theme.fontSize.smallReading}),(function(e){return e.theme.fontWeight.light})),Fl.ContributorsReference=c.f.span.withConfig({displayName:"ContributorsCreditSongBio__ContributorsReference",componentId:"sc-1mmjc5b-2"})(["text-decoration:underline;display:flex;align-items:center;&:hover{text-decoration:none;}"]),Fl.DownArrow=Object(c.f)(Vn.a).withConfig({displayName:"ContributorsCreditSongBio__DownArrow",componentId:"sc-1mmjc5b-3"})(["margin-left:",";"],(function(e){return e.theme.space.quarter}));var Bl=n(412),Vl=function e(t){var n=t.label,r=t.iqAction,a=t.icon,i=Object(m.a)().t;return o.a.createElement(e.Container,null,a,o.a.createElement("span",null,i(n)," ",o.a.createElement(Ol.a,{action:r})))},Hl=o.a.memo(Vl);function ql(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Wl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ql(Object(n),!0).forEach((function(t){Ul(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ql(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ul(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Vl.Container=c.f.span.withConfig({displayName:"ContributorsCreditMetadataTitle__Container",componentId:"sc-1wqnezo-0"})(["display:flex;align-items:center;justify-content:flex-start;column-gap:",";& svg{height:",";}"],(function(e){return e.theme.space.half}),(function(e){return e.theme.fontSize.smallReading}));var $l=function(e){return Object(r.useMemo)((function(){return{control:function(t){return Wl(Wl({},t),{},{flexWrap:"nowrap",borderColor:e.color.background.on})},input:function(t){return Wl(Wl({},t),{},{padding:"0 ".concat(e.space.hair),margin:0})},multiValueLabel:function(t){return Wl(Wl({},t),{},{padding:"0 ".concat(e.space.hair)})},option:function(t){return Wl(Wl({},t),{},{fontSize:e.fontSize.smallReading,textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap"})},valueContainer:function(t){return Wl(Wl({},t),{},{margin:0,padding:"0 ".concat(e.space.hair)})},placeholder:function(t){return Wl(Wl({},t),{},{margin:0,padding:"0 ".concat(e.space.hair)})},noOptionsMessage:function(t){return Wl(Wl({},t),{},{fontSize:e.fontSize.smallReading})},singleValue:function(t){return Wl(Wl({},t),{},{margin:0,padding:"0 ".concat(e.space.hair)})},dropdownIndicator:function(t){return Wl(Wl({},t),{},{margin:"0 ".concat(e.space.xSmall," 0 ").concat(e.space.quarter),padding:0})},indicatorsContainer:function(t){return Wl(Wl({},t),{},{padding:0,svg:{height:e.fontSize.xxSmallReading}})},loadingMessage:function(t){return Wl(Wl({},t),{},{fontSize:e.fontSize.smallReading})}}}),[e])},Ql=n(181),Gl=function e(t){var n=t.songId,a=Object(c.h)(),i=Object(m.a)().t,l=Object(b.a)("songs",n),u=Object(O.f)("edit",l),s=Object(re.e)(),f=s.control,d=s.setValue,p=l.releaseDateWithAbbreviatedMonthForDisplay,h=$l(a),g=Object(re.f)(),y=g.isSubmitting,v=g.dirtyFields,w=y&&Boolean(v.release_date_components),_=Object(r.useCallback)((function(e){var t=e.month,n=e.day,r=e.year,o=null!==t||null!==n||null!==r;d("release_date_components.month",t,{shouldDirty:o}),d("release_date_components.day",n,{shouldDirty:o}),d("release_date_components.year",r,{shouldDirty:o})}),[d]);return l.releaseDateComponents||w?o.a.createElement(e.CompletedRow,null,o.a.createElement(e.LabelWithIcon,{icon:o.a.createElement(Ql.a,null),label:i("edit_metadata.tags_albums.released_on"),gap:"half"}),w?o.a.createElement(R.a,null):o.a.createElement("div",null,p)):o.a.createElement(e.MetadataRow,null,o.a.createElement(Hl,{label:"song.metadata.release_date",iqAction:"metadataUpdateOrAddition",icon:o.a.createElement(Ql.a,null)}),o.a.createElement(e.DateInput,{onChange:_,noCalendar:!0,customStyles:h}),o.a.createElement($r,{control:f,name:"release_date_components.month",disabled:!u},(function(e){return o.a.createElement(Qr,e)})),o.a.createElement($r,{control:f,name:"release_date_components.day",disabled:!u},(function(e){return o.a.createElement(Qr,e)})),o.a.createElement($r,{control:f,name:"release_date_components.year",disabled:!u},(function(e){return o.a.createElement(Qr,e)})))},Yl=o.a.memo(Gl);Gl.MetadataRow=c.f.div.withConfig({displayName:"ContributorsCreditMetadataReleaseDate__MetadataRow",componentId:"sc-18zu51o-0"})(["display:flex;flex-direction:column;gap:",";margin-bottom:",";"],(function(e){return e.theme.space.half}),(function(e){return e.theme.space.large})),Gl.DateInput=Object(c.f)(_o.a).withConfig({displayName:"ContributorsCreditMetadataReleaseDate__DateInput",componentId:"sc-18zu51o-1"})(["width:100%;column-gap:",";display:grid;grid-template-columns:3fr 2fr 2fr;","{margin-right:0;}","{padding:0;}"],(function(e){return e.theme.space.small}),wo.a.Container,hn.a.ChildrenContainer),Gl.CompletedRow=c.f.div.withConfig({displayName:"ContributorsCreditMetadataReleaseDate__CompletedRow",componentId:"sc-18zu51o-2"})(["display:grid;grid-template-columns:1fr 2fr;margin-bottom:",";align-items:center;"],(function(e){return e.theme.space.full})),Gl.LabelWithIcon=Object(c.f)((function(e){return o.a.createElement(Bl.a,e)})).withConfig({displayName:"ContributorsCreditMetadataReleaseDate__LabelWithIcon",componentId:"sc-18zu51o-3"})(["& span{text-decoration:none;}"]);var Kl=n(614),Zl=function(e){var t=e.item;return o.a.createElement(C.a,{href:t.url},t.name)},Xl=o.a.memo(Zl),Jl=n(615);function eu(){return eu=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},eu.apply(this,arguments)}var tu={artists:{listItem:Kl.a,loadFunction:ar,resourcesRoot:"edit_metadata.credits"},albums:{listItem:Xl,loadFunction:ir,resourcesRoot:"edit_metadata.tags_albums"}},nu=function e(t){var n=t.songId,a=t.name,i=t.icon,l=t.currentValues,u=void 0===l?[]:l,s=t.type,f=Object(c.h)(),d=Object(m.a)().t,p=Object(b.a)("songs",n),h=Object(O.f)("edit",p),g=Object(re.e)().control,y=Object(r.useCallback)((function(e){return(e||[]).map((function(e){var t=e.label,n=e.value;return e.__isNew__?{name:t,_new:!0}:{id:n,name:t}}))}),[]),v=Object(r.useCallback)((function(e){return(e||[]).map((function(e){return{value:e.id,label:e.nameLabel}}))}),[]),w=tu[s],_=w.listItem,j=w.loadFunction,E=w.resourcesRoot,C="".concat(E,".").concat(a),x="".concat(E,".").concat(a,"_complete"),I="".concat(E,".").concat(s,"_prompt"),S="".concat(E,".").concat(a,"_placeholder"),k=$l(f);return u.length?o.a.createElement(e.CompletedRow,null,o.a.createElement(e.LabelWithIcon,{icon:i,label:d(x),gap:"half"}),o.a.createElement(e.Artists,null,u.filter((function(e){return Boolean(e.url)})).length?o.a.createElement(Jl.a,{items:u,labelProp:"name",limit:3,ListItem:_}):o.a.createElement(R.a,null))):o.a.createElement(e.MetadataRow,null,o.a.createElement(Hl,{label:C,iqAction:"metadataUpdateOrAddition",icon:i}),o.a.createElement(hr,{control:g,name:a,label:d(C),transformForForm:y,transformForInput:v,disabled:!h,hideLabel:!0},(function(e){return o.a.createElement(zn,eu({placeholder:d(S),promptMessage:d(I),loadOptions:j,isSortable:!0,customStyles:k},e))})))},ru=o.a.memo(nu);function ou(){return ou=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ou.apply(this,arguments)}nu.MetadataRow=c.f.div.withConfig({displayName:"ContributorsCreditMetadataItem__MetadataRow",componentId:"sc-1cw8ns8-0"})(["display:flex;flex-direction:column;gap:",";margin-bottom:",";&:last-child{margin-bottom:0;}"],(function(e){return e.theme.space.half}),(function(e){return e.theme.space.full})),nu.CompletedRow=c.f.div.withConfig({displayName:"ContributorsCreditMetadataItem__CompletedRow",componentId:"sc-1cw8ns8-1"})(["display:grid;grid-template-columns:1fr 2fr;margin-bottom:",";align-items:center;&:last-child{margin-bottom:0;}"],(function(e){return e.theme.space.full})),nu.Artists=c.f.div.withConfig({displayName:"ContributorsCreditMetadataItem__Artists",componentId:"sc-1cw8ns8-2"})(["display:flex;flex-wrap:wrap;"]),nu.LabelWithIcon=Object(c.f)((function(e){return o.a.createElement(Bl.a,e)})).withConfig({displayName:"ContributorsCreditMetadataItem__LabelWithIcon",componentId:"sc-1cw8ns8-3"})(["& span{text-decoration:none;}"]);var au=o.a.createElement("path",{fillRule:"evenodd",d:"M2.948.1h10.97v1.371H2.948V.101ZM15.29 2.843H1.578v1.372H15.29V2.843Zm.567 15.257H2.144a1.373 1.373 0 0 1-1.371-1.37v-9.6a1.373 1.373 0 0 1 1.37-1.37h13.713a1.373 1.373 0 0 1 1.371 1.37v9.599a1.373 1.373 0 0 1-1.37 1.371ZM2.144 7.13v9.599h13.712V7.13H2.144Z",clipRule:"evenodd"}),iu=function(e){return o.a.createElement("svg",ou({fill:"currentColor",viewBox:"0 0 18 19"},e),au)};function cu(){return cu=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},cu.apply(this,arguments)}var lu=o.a.createElement("path",{fillRule:"evenodd",d:"M3.214 11.671h.643a1.287 1.287 0 0 1 1.286 1.286v1.286a1.287 1.287 0 0 1-1.286 1.286h-.643V18.1H1.93v-2.57h-.643A1.287 1.287 0 0 1 0 14.243v-1.286a1.287 1.287 0 0 1 1.286-1.286h.643V.101h1.285v11.57Zm-1.928 2.572h2.571v-1.286H1.286v1.286Zm9-11.571h-.643V.1H8.357v2.572h-.643A1.287 1.287 0 0 0 6.43 3.957v1.286a1.287 1.287 0 0 0 1.285 1.286h.643V18.1h1.286V6.53h.643a1.287 1.287 0 0 0 1.285-1.286V3.957a1.287 1.287 0 0 0-1.285-1.285Zm0 2.571H7.714V3.957h2.572v1.286Zm6.428 2.571h-.643V.1h-1.285v7.714h-.643A1.287 1.287 0 0 0 12.857 9.1v1.286a1.287 1.287 0 0 0 1.286 1.286h.643V18.1h1.285v-6.429h.643A1.287 1.287 0 0 0 18 10.386V9.1a1.287 1.287 0 0 0-1.286-1.286Zm0 2.572h-2.571V9.1h2.571v1.286Z",clipRule:"evenodd"}),uu=function(e){return o.a.createElement("svg",cu({fill:"currentColor",viewBox:"0 0 18 19"},e),lu)};function su(){return su=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},su.apply(this,arguments)}var fu=o.a.createElement("path",{d:"M17.51 5.827c.654-.654.654-1.636 0-2.29L14.563.59c-.655-.655-1.637-.655-2.291 0L0 12.864V18.1h5.236L17.51 5.827Zm-4.092-4.09 2.946 2.945-2.455 2.454-2.945-2.945 2.454-2.455ZM1.636 16.463v-2.946l8.182-8.182 2.946 2.946-8.182 8.182H1.636Z"}),du=function(e){return o.a.createElement("svg",su({fill:"currentColor",viewBox:"0 0 18 19"},e),fu)},pu=function e(t){var n=t.songId,a=Object(m.a)().t,i=Object(b.a)("songs",n),c=Object(ue.a)({submitAction:ee.i,onlySubmitChangedFields:!0,extraValues:{songId:n,submittedFromModal:!1},onSuccess:function(){l.reset()},onError:function(){l.reset()}}),l=c.methods,s=c.onSubmit,f=c.isSubmitting,d=l.watch("release_date_components")||{},p=d.month,h=d.day,g=d.year,y=Boolean(p||h||g)?1:0,v=l.watch(["producer_artists","writer_artists","albums"]),O=Object(ci.a)("metadataUpdateOrAddition"),w=v.reduce((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return e+t.length}),0),_=(w+y)*O,j=Ll(n),E=function(e){return(e||[]).map((function(e){return u()(e,["id","name","url"])}))},C=Object(le.a)("clearSidebarContributorMetadataForm");Object(r.useEffect)((function(){return C.subscribe(l.reset),function(){C.unsubscribe(l.reset)}}),[C,l]);var x=!j&&Boolean(_)||f;return o.a.createElement(re.b,l,o.a.createElement(e.Form,{onSubmit:s},o.a.createElement(Yl,{songId:n}),o.a.createElement(ru,{songId:n,name:"producer_artists",icon:o.a.createElement(uu,null),currentValues:E(i.producerArtists),type:"artists"}),o.a.createElement(ru,{songId:n,name:"writer_artists",icon:o.a.createElement(du,null),currentValues:E(i.writerArtists),type:"artists"}),o.a.createElement(ru,{songId:n,name:"albums",icon:o.a.createElement(iu,null),currentValues:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.map((function(e){return u()(e,["id","name","url"])}))}(i.albums),type:"albums"}),x&&o.a.createElement(e.MetadataRow,null,o.a.createElement(e.SaveButton,{type:"submit",variant:"primary",disabled:f},a("lyrics.save")," ",f?o.a.createElement(R.a,null):o.a.createElement(Ol.a,{points:_})),o.a.createElement(L.a,{onClick:function(){l.reset(),C.callSubscribers()},secondary:!0},a("lyrics.cancel")))))},mu=o.a.memo(pu);pu.Form=c.f.form.withConfig({displayName:"ContributorsCreditMetadata__Form",componentId:"sc-1u5jws0-0"})(["font-size:",";"],(function(e){return e.theme.fontSize.smallReading})),pu.MetadataRow=c.f.div.withConfig({displayName:"ContributorsCreditMetadata__MetadataRow",componentId:"sc-1u5jws0-1"})(["display:flex;gap:",";margin-bottom:",";&:last-child{margin-bottom:0;}"],(function(e){return e.theme.space.half}),(function(e){return e.theme.space.full})),pu.SaveButton=Object(c.f)((function(e){return o.a.createElement(L.a,e)})).withConfig({displayName:"ContributorsCreditMetadata__SaveButton",componentId:"sc-1u5jws0-2"})(["& svg{vertical-align:-2px;stroke:",";margin-left:",";}"],(function(e){return e.theme.color.background.on}),(function(e){return e.theme.space.quarter}));var hu=function(e){var t=e.songId,n=Object(m.a)().t,r=Object(b.a)("songs",t).descriptionAnnotation,a="needs_exegesis"!==Object(b.a)("annotations",r).state,i=Ll(t),c=a&&i,l="lyrics.contributor_sidebar.".concat(c?"song_info":"missing_song_info");return o.a.createElement(vl,{title:n(l),isCompleted:c},o.a.createElement(zl,{songId:t}),o.a.createElement(mu,{songId:t}))},gu=o.a.memo(hu);function bu(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,a=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){c=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(c)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return yu(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return yu(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function yu(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var vu=function e(t){var n=t.songId,a=Object(m.a)().t,i=Object(r.useRef)(null),c=bu(Object(r.useState)(!0),2),l=c[0],u=c[1],s=bu(Object(r.useState)(null),2),f=s[0],d=s[1];Object(r.useEffect)((function(){f&&u(!1)}),[f,d]);return o.a.createElement(e.Sidebar,null,o.a.createElement(e.Container,null,o.a.createElement(e.Header,null,o.a.createElement(e.Title,null,a("lyrics.contributor_sidebar.title_incomplete")),o.a.createElement(e.Button,{onClick:function(){l?i.current?d(i.current.clientHeight):u(!1):u(!0)}},a("lyrics.contributor_sidebar.".concat(l?"close":"open")),l?o.a.createElement(ya.a,null):o.a.createElement(ba.a,null))),o.a.createElement(e.Body,{expanded:l,ref:i,height:f,onTransitionEnd:function(){l&&d(null)}},o.a.createElement(Rl,{songId:n}),o.a.createElement(gu,{songId:n}))))},Ou=o.a.memo(vu);vu.Sidebar=c.f.div.withConfig({displayName:"SidebarLyrics__Sidebar",componentId:"bv8pd0-0"})(["grid-column:3 span / right-end;width:100%;align-items:flex-start;@media screen and (max-width:","){min-width:320px;}"],(function(e){return e.theme.widths.largeTextBreakpoint})),vu.Container=c.f.div.withConfig({displayName:"SidebarLyrics__Container",componentId:"bv8pd0-1"})(["justify-self:right;padding:",";border-left:1px solid #CCC;display:flex;flex-direction:column;font-weight:",";width:100%;"],(function(e){return"".concat(e.theme.space.small," 0px ").concat(e.theme.space.small," ").concat(e.theme.space.large)}),(function(e){return e.theme.fontWeight.light})),vu.Header=c.f.div.withConfig({displayName:"SidebarLyrics__Header",componentId:"bv8pd0-2"})(["display:flex;justify-content:space-between;"]),vu.Title=c.f.h3.withConfig({displayName:"SidebarLyrics__Title",componentId:"bv8pd0-3"})(["font-size:",";",";"],(function(e){return e.theme.fontSize.reading}),(function(e){return e.isCompleted&&"color:  ".concat(e.theme.color.success.main)})),vu.CollapseButton=c.f.button.withConfig({displayName:"SidebarLyrics__CollapseButton",componentId:"bv8pd0-4"})(["font-size:",";"],(function(e){return e.theme.fontSize.small})),vu.Body=c.f.div.withConfig({displayName:"SidebarLyrics__Body",componentId:"bv8pd0-5"})(["overflow:",";display:flex;flex-direction:column;gap:",";"," "," opacity:",";margin-top:",";box-sizing:border-box;transition:opacity ","ms ease-in-out,height ","ms ease-in-out,margin-top ","ms ease-in-out;"],(function(e){return e.expanded?"visible":"hidden"}),(function(e){return e.theme.space.large}),(function(e){return!e.expanded&&"height: 0px;"}),(function(e){return e.expanded&&e.height&&"height: ".concat(e.height,"px;")}),(function(e){return e.expanded?1:0}),(function(e){return e.expanded?e.theme.space.full:"0px"}),300,300,300),vu.Button=c.f.button.withConfig({displayName:"SidebarLyrics__Button",componentId:"bv8pd0-6"})(["display:flex;gap:",";border:none;align-items:center;svg{width:",";}"],(function(e){return e.theme.space.quarter}),(function(e){return e.theme.space.half}));var wu,_u=(wu=function(e,t){return wu=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},wu(e,t)},function(e,t){function n(){this.constructor=e}wu(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),ju=function(e){function t(t){var n=e.call(this,t)||this;return n.name="AssertionError",n}return _u(t,e),t}(Error);function Eu(e,t){if(!e)throw new ju(t)}function Cu(e){var t=Object.entries(e).filter((function(e){var t=e[1];return null!=t})).map((function(e){var t=e[0],n=e[1];return encodeURIComponent(t)+"="+encodeURIComponent(String(n))}));return t.length>0?"?"+t.join("&"):""}var xu=n(664),Iu=n.n(xu),Su=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ku=function(){return ku=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},ku.apply(this,arguments)},Au=function(e,t,n,r){return new(n||(n=Promise))((function(o,a){function i(e){try{l(r.next(e))}catch(e){a(e)}}function c(e){try{l(r.throw(e))}catch(e){a(e)}}function l(e){e.done?o(e.value):function(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(i,c)}l((r=r.apply(e,t||[])).next())}))},Tu=function(e,t){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function c(a){return function(c){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=i.trys,(o=o.length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}},Pu=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n},Nu=function(e){return!!e&&("object"==typeof e||"function"==typeof e)&&"function"==typeof e.then},Mu=function(e,t){return{left:window.outerWidth/2+(window.screenX||window.screenLeft||0)-e/2,top:window.outerHeight/2+(window.screenY||window.screenTop||0)-t/2}},Ru=function(e,t){return{top:(window.screen.height-t)/2,left:(window.screen.width-e)/2}};function Lu(e,t,n){var r=t.height,o=t.width,a=Pu(t,["height","width"]),i=ku({height:r,width:o,location:"no",toolbar:"no",status:"no",directories:"no",menubar:"no",scrollbars:"yes",resizable:"no",centerscreen:"yes",chrome:"yes"},a),c=window.open(e,"",Object.keys(i).map((function(e){return e+"="+i[e]})).join(", "));if(n)var l=window.setInterval((function(){try{(null===c||c.closed)&&(window.clearInterval(l),n(c))}catch(e){console.error(e)}}),1e3);return c}var Du=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.openShareDialog=function(e){var n=t.props,r=n.onShareWindowClose,o=n.windowHeight,a=void 0===o?400:o,i=n.windowPosition,c=void 0===i?"windowCenter":i,l=n.windowWidth,u=void 0===l?550:l;Lu(e,ku({height:a,width:u},"windowCenter"===c?Mu(u,a):Ru(u,a)),r)},t.handleClick=function(e){return Au(t,void 0,void 0,(function(){var t,n,r,o,a,i,c,l,u,s;return Tu(this,(function(f){switch(f.label){case 0:return t=this.props,n=t.beforeOnClick,r=t.disabled,o=t.networkLink,a=t.onClick,i=t.url,c=t.openShareDialogOnClick,l=t.opts,u=o(i,l),r?[2]:(e.preventDefault(),n?(s=n(),Nu(s)?[4,s]:[3,2]):[3,2]);case 1:f.sent(),f.label=2;case 2:return c&&this.openShareDialog(u),a&&a(e,u),[2]}}))}))},t}return Su(t,e),t.prototype.render=function(){var e=this.props,t=(e.beforeOnClick,e.children),n=e.className,r=e.disabled,a=e.disabledStyle,i=e.forwardedRef,c=(e.networkLink,e.networkName),l=(e.onShareWindowClose,e.openShareDialogOnClick,e.opts,e.resetButtonStyle),u=e.style,s=(e.url,e.windowHeight,e.windowPosition,e.windowWidth,Pu(e,["beforeOnClick","children","className","disabled","disabledStyle","forwardedRef","networkLink","networkName","onShareWindowClose","openShareDialogOnClick","opts","resetButtonStyle","style","url","windowHeight","windowPosition","windowWidth"])),f=Iu()("react-share__ShareButton",{"react-share__ShareButton--disabled":!!r,disabled:!!r},n),d=ku(ku(l?{backgroundColor:"transparent",border:"none",padding:0,font:"inherit",color:"inherit",cursor:"pointer"}:{},u),r&&a);return o.a.createElement("button",ku({},s,{"aria-label":s["aria-label"]||c,className:f,onClick:this.handleClick,ref:i,style:d}),t)},t.defaultProps={disabledStyle:{opacity:.6},openShareDialogOnClick:!0,resetButtonStyle:!0},t}(r.Component),Fu=Du,zu=function(){return zu=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},zu.apply(this,arguments)};var Bu=function(e,t,n,a){function i(r,i){var c=n(r),l=zu({},r);return Object.keys(c).forEach((function(e){delete l[e]})),o.a.createElement(Fu,zu({},a,l,{forwardedRef:i,networkName:e,networkLink:t,opts:n(r)}))}return i.displayName="ShareButton-"+e,Object(r.forwardRef)(i)};var Vu=Bu("facebook",(function(e,t){var n=t.quote,r=t.hashtag;return Eu(e,"facebook.url"),"https://www.facebook.com/sharer/sharer.php"+Cu({u:e,quote:n,hashtag:r})}),(function(e){return{quote:e.quote,hashtag:e.hashtag}}),{windowWidth:550,windowHeight:400});var Hu=Bu("twitter",(function(e,t){var n=t.title,r=t.via,o=t.hashtags,a=void 0===o?[]:o,i=t.related,c=void 0===i?[]:i;return Eu(e,"twitter.url"),Eu(Array.isArray(a),"twitter.hashtags is not an array"),Eu(Array.isArray(c),"twitter.related is not an array"),"https://twitter.com/share"+Cu({url:e,text:n,via:r,hashtags:a.length>0?a.join(","):void 0,related:c.length>0?c.join(","):void 0})}),(function(e){return{hashtags:e.hashtags,title:e.title,via:e.via,related:e.related}}),{windowWidth:550,windowHeight:400}),qu=n(637);function Wu(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,a=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){c=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(c)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Uu(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Uu(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Uu(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var $u=function e(t){var n=t.id,a=t.shareUrl,i=t.embedContent,c=t.trackCopy,l=Wu(Object(r.useState)(!1),2),u=l[0],s=l[1],f=Wu(Object(r.useState)(!1),2),d=f[0],p=f[1],h=Object(m.a)().t,g=Object(r.useCallback)((function(){navigator.clipboard.writeText(a),c({copied:"share_url"}),s(!0),setTimeout((function(){return s(!1)}),750)}),[a,c]),b=Object(r.useCallback)((function(){navigator.clipboard.writeText(i),c({copied:"embed_code"}),p(!0),setTimeout((function(){return p(!1)}),750)}),[i,c]),y=function(e){return e.target.select()};return o.a.createElement(e.FormContent,null,o.a.createElement(e.Row,null,o.a.createElement(e.Label,null,h("share_buttons.share_url")),o.a.createElement(e.Input,{readOnly:!0,id:"share_url_".concat(n),value:a,onFocus:y}),o.a.createElement(e.CopyWrapper,null,o.a.createElement(e.Copy,{disabled:u,onClick:g},u?"".concat(h("copy_button.copied"),"!"):h("copy_button.copy")))),o.a.createElement(e.Row,null,o.a.createElement(e.Label,null,h("share_buttons.embed")),o.a.createElement(e.Input,{readOnly:!0,id:"embed_content_".concat(n),value:i,onFocus:y}),o.a.createElement(e.CopyWrapper,null,o.a.createElement(e.Copy,{disabled:d,onClick:b},d?"".concat(h("copy_button.copied"),"!"):h("copy_button.copy")))))};$u.defaultProps={trackCopy:function(){return null}};var Qu=o.a.memo($u);$u.FormContent=c.f.div.withConfig({displayName:"EmbedForm__FormContent",componentId:"sc-1lu3s99-0"})(["width:100%;display:flex;flex-direction:column;color:",";font-size:",";line-height:",";margin-top:",";@media screen and (min-width:","){font-size:",";}"],(function(e){return e.theme.color.background.on}),(function(e){return e.theme.fontSize.smallReading}),(function(e){return e.theme.fontSize.reading}),(function(e){return e.theme.grid.gap}),(function(e){return e.theme.widths.fixedWidthBreakpoint}),(function(e){return e.theme.fontSize.reading})),$u.Row=c.f.div.withConfig({displayName:"EmbedForm__Row",componentId:"sc-1lu3s99-1"})(["display:flex;gap:",";&:not(:last-child){padding-bottom:",";}"],(function(e){return e.theme.space.small}),(function(e){return e.theme.space.small})),$u.Label=c.f.label.withConfig({displayName:"EmbedForm__Label",componentId:"sc-1lu3s99-2"})(["flex:1 0 3.5rem;align-self:center;text-align:left;@media screen and (min-width:","){flex-basis:4.5rem;}"],(function(e){return e.theme.widths.fixedWidthBreakpoint})),$u.Input=Object(c.f)((function(e){return o.a.createElement(je.a,e)})).withConfig({displayName:"EmbedForm__Input",componentId:"sc-1lu3s99-3"})(["flex:1 1 60%;font-size:",";padding:",";"],(function(e){return e.theme.fontSize.smallReading}),(function(e){return e.theme.space.half})),$u.Copy=Object(c.f)((function(e){return o.a.createElement(Bn.a,e)})).withConfig({displayName:"EmbedForm__Copy",componentId:"sc-1lu3s99-4"})(["width:100%;font-size:inherit;font-family:",";font-weight:",";min-width:5.5rem;@media screen and (min-width:","){min-width:6.5rem;}"],(function(e){return e.theme.font.reading}),(function(e){return e.theme.fontWeight.light}),(function(e){return e.theme.widths.fixedWidthBreakpoint})),$u.CopyWrapper=c.f.div.withConfig({displayName:"EmbedForm__CopyWrapper",componentId:"sc-1lu3s99-5"})(["flex:0 1 20%;text-align:center;"]);var Gu=n(313),Yu=n(314);function Ku(){return Ku=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ku.apply(this,arguments)}function Zu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Xu(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Zu(Object(n),!0).forEach((function(t){Ju(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Zu(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ju(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function es(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,a=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){c=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(c)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ts(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ts(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ts(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ns=function e(t){var n=t.shareableType,a=t.shareableId,i=t.pyong,c=void 0!==i&&i,l=t.toggleEmbed,u=void 0!==l&&l,s=t.className,f=Object(m.a)().t,d=Object(b.a)(n,a),p=d.shareUrl,h=d.embedContent,g=d.twitterShareMessage,v=d.facebookShareMessage,O=d.type,w=Object(r.useMemo)((function(){return null==g?void 0:g.replace(p,"")}),[g,p]),_=Object(r.useMemo)((function(){return null==v?void 0:v.replace(p,"")}),[v,p]),j=es(Object(r.useState)(!1),2),E=j[0],C=j[1],x=Ju({},"".concat(O,"_id"),a),I=Object(y.a)("".concat(O,":share_button_clicked"),Xu({share_type:"facebook"},x)),S=Object(y.a)("".concat(O,":share_button_clicked"),Xu({share_type:"twitter"},x)),k=Object(y.a)("".concat(O,":share_button_clicked"),Xu({share_type:"embed"},x)),A=Object(y.a)("".concat(O,":share_button_clicked"),Xu({share_type:"copy"},x)),T=Object(r.useCallback)((function(){C((function(e){return!e})),k()}),[k]);return o.a.createElement(e.Root,{className:s},o.a.createElement(e.Container,null,o.a.createElement(e.ButtonWrapper,null,o.a.createElement(Vu,{quote:_,url:p,beforeOnClick:I},o.a.createElement(e.Button,null,o.a.createElement(Gu.a,null)))),o.a.createElement(e.ButtonWrapper,null,o.a.createElement(Hu,{title:w,url:p,beforeOnClick:S},o.a.createElement(e.Button,null,o.a.createElement(Yu.a,null)))),c&&o.a.createElement(e.ButtonWrapper,null,o.a.createElement(e.Button,null,o.a.createElement(qu.a,{pyongableType:n,pyongableId:a,height:".75rem"}))),u&&o.a.createElement(e.ButtonWrapper,{onClick:T,as:"button"},o.a.createElement(e.Button,null,f("share_buttons.embed")))),(E||!u)&&o.a.createElement(Qu,{id:"".concat(n,"_").concat(a),shareUrl:p,embedContent:h,trackCopy:A}))},rs=o.a.memo(ns);ns.Root=c.f.div.withConfig({displayName:"ShareButtons__Root",componentId:"jws18q-0"})(["margin-bottom:",";width:100%;font-weight:",";font-size:",";@media screen and (min-width:","){font-size:",";}"],(function(e){return e.theme.space.xLarge}),(function(e){return e.theme.fontWeight.light}),(function(e){return e.theme.fontSize.smallReading}),(function(e){return e.theme.widths.fixedWidthBreakpoint}),(function(e){return e.theme.fontSize.reading})),ns.Container=c.f.div.withConfig({displayName:"ShareButtons__Container",componentId:"jws18q-1"})(["display:flex;flex-direction:row;flex-wrap:wrap;justify-content:space-between;gap:",";"],(function(e){return e.theme.space.small})),ns.Button=Object(c.f)((function(e){return o.a.createElement(Bn.a,Ku({as:"div"},e))})).withConfig({displayName:"ShareButtons__Button",componentId:"jws18q-2"})(["display:flex;justify-content:center;align-items:center;font-size:inherit;line-height:1;font-family:",";font-weight:",";white-space:pre;svg{display:block;height:",";}"],(function(e){return e.theme.font.reading}),(function(e){return e.theme.fontWeight.light}),(function(e){return e.theme.fontSize.reading})),ns.ButtonWrapper=c.f.div.withConfig({displayName:"ShareButtons__ButtonWrapper",componentId:"jws18q-3"})(["& .react-share__ShareButton{width:100%;}flex:1;text-align:center;font-size:inherit;"]);var os=function(e){var t=Object(ea.a)(),n=Object(ie.a)(),r=Object(i.d)((function(e){return e.session.showAds})),o=e.lyricsPlaceholderReason,a=e.isMusic,c=Object(i.d)((function(e){return e.songPage.forceShowContributorSidebar})),l=t&&r,u=Object(O.f)("edit_lyrics",e),s=!Boolean(o)||"instrumental"===o;return!(!t||n||!a)&&(l?c:u||s)};function as(){return as=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},as.apply(this,arguments)}var is=o.a.createElement("path",{d:"M91.3 91.3H8.7v-66h82.6zm-8.7-74.7V0H74v16.6H26V0h-8.6v16.6H0V100h100V16.6zM35.6 41H20.2v6.5h15.6zM20.2 61.5h15.6V55H20zm0 14.3h15.6v-6.5H20zm37.7-35H42.2v6.6h15.6zM42.2 61.6h15.6V55H42.2zm0 14.3h15.6v-6.5H42.2zm37.7-35H64.3v6.6H80zM64.3 61.6H80V55H64.3zm0 14.3H80v-6.5H64.3z"}),cs=function(e){return o.a.createElement("svg",as({viewBox:"0 0 100 100"},e),is)};function ls(){return ls=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ls.apply(this,arguments)}var us=o.a.createElement("path",{d:"M16.58 20.73H2V6.15h9.07l2-2H0v18.58h18.58V8.75l-2 2v9.98z"}),ss=o.a.createElement("path",{d:"M18.65 0l-4.16 4.15-2 2L8 10.66l-1.59 5.25 5.19-1.6 5-5 2-2 3.71-3.71zm-2.07 7.38l-5.71 5.71-1.23.38-.82-.82.38-1.26 5.25-5.23 2-2L18.65 2l1.67 1.67-1.74 1.71z"}),fs=function(e){return o.a.createElement("svg",ls({viewBox:"0 0 22.28 22.73"},e),us,ss)};function ds(){return ds=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ds.apply(this,arguments)}var ps=o.a.createElement("path",{d:"M20.77 2l-14 2.37v13.36a3.29 3.29 0 0 0-1.49-.37 3.32 3.32 0 1 0 3.32 3.32V10.62l10.33-1.69v6.95a3.29 3.29 0 0 0-1.47-.36 3.32 3.32 0 1 0 3.32 3.32L20.77 2zM8.65 8.75V5.92l10.28-1.74v2.88L8.65 8.75z"}),ms={unreleased:cs,incomplete:fs,instrumental:function(e){return o.a.createElement("svg",ds({viewBox:"0 0 25 25"},e),ps)}},hs=function e(t){var n=t.reason,r=t.songId,a=Object(m.a)().t,c=fr()(ms,n,fs),l=Object(ie.a)(),u=Object(b.a)("songs",r),s=Object(i.d)((function(e){return e.songPage.resolveLyricsEditProposalsVisible})),f=os(u);return o.a.createElement(e.Root,null,s&&o.a.createElement(Vc,null),!l&&o.a.createElement(fl,{songId:r}),o.a.createElement(e.Container,{showSidebar:s},o.a.createElement(e.Icon,null,o.a.createElement(c,null)),o.a.createElement(e.Message,null,a("song.lyrics_state.".concat(n,".message"))),o.a.createElement(e.ShareButtons,{shareableId:r,shareableType:"songs",pyong:!0,toggleEmbed:!0})),f&&o.a.createElement(Ou,{songId:r}))},gs=o.a.memo(hs);hs.Root=Object(c.f)((function(e){return o.a.createElement(La.a,e)})).withConfig({displayName:"LyricsPlaceholder__Root",componentId:"uen8er-0"})(["padding-top:",";margin-bottom:",";"],(function(e){return e.isMobile?e.theme.space.full:e.theme.space.xLarge}),(function(e){return e.theme.space.xxLarge})),hs.Container=c.f.div.withConfig({displayName:"LyricsPlaceholder__Container",componentId:"uen8er-1"})(["font:normal ","/"," ",";"," grid-column:left-start / left-end;font-weight:",";margin:auto 0;"],(function(e){return e.theme.fontSize.xSmallHeadline}),(function(e){return e.theme.lineHeight.xShort}),(function(e){return e.theme.font.accent}),(function(e){return!e.showSidebar&&"padding-top: ".concat(e.theme.space.xLarge,";")}),(function(e){return e.theme.fontWeight.light})),hs.Icon=c.f.div.withConfig({displayName:"LyricsPlaceholder__Icon",componentId:"uen8er-2"})(["display:flex;justify-content:center;svg{width:2.25rem;}"]),hs.Message=c.f.div.withConfig({displayName:"LyricsPlaceholder__Message",componentId:"uen8er-3"})(["text-align:center;margin:"," 0 ",";font-weight:",";"],(function(e){return e.theme.space.xLarge}),(function(e){return e.theme.space.xxLarge}),(function(e){return e.theme.fontWeight.normal})),hs.ShareButtons=Object(c.f)((function(e){return o.a.createElement(rs,e)})).withConfig({displayName:"LyricsPlaceholder__ShareButtons",componentId:"uen8er-4"})(["margin-left:auto;margin-right:auto;"]);var bs=n(81),ys=n.n(bs),vs=n(665),Os=n.n(vs);function ws(){return ws=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ws.apply(this,arguments)}function _s(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var js={position:"absolute",opacity:0,width:0,height:0,pointerEvents:"none",zIndex:-1},Es=o.a.forwardRef((function(e,t){var n=e.as,r=void 0===n?"span":n,a=_s(e,["as"]);return o.a.createElement(r,ws({ref:t,tabIndex:0,style:js},a))}));function Cs(e){return Os()(e)}function xs(e){var t=Cs(document.body),n=t.indexOf(e);if(-1!==n){var r=n+1;if(r<t.length)return t[r].focus(),!0}return!1}function Is(e){var t=Cs(document.body),n=t.indexOf(e);if(-1!==n){var r=n-1;if(r>=0)return t[r].focus(),!0}return!1}function Ss(e,t){return!!t&&Boolean(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_FOLLOWING)}Es.displayName="HiddenTabbable";var ks=o.a.createContext();function As(e){var t=e.to,n=_s(e,["to"]),a=Object(r.useContext)(ks);t||(t=a);var i=t,c=i.contentRef,l=i.portalRef,u=Object(r.useCallback)((function(e){e.stopPropagation();var t=!1,n=c.current;if(n){var r=Cs(n),o=Ss(e.currentTarget,e.relatedTarget);if(r.length>2)r[o?r.length-2:1].focus(),t=!0;else t=o?Is(l.current):xs(l.current)}t||e.currentTarget.blur()}),[c,l]);return o.a.createElement(Es,ws({},n,{ref:l,onFocus:u}))}As.displayName="TabPortal.Portal";var Ts=o.a.forwardRef((function(e,t){var n=e.as,a=void 0===n?"div":n,i=e.children,c=e.from,l=e.hiddenTabbableAs,u=_s(e,["as","children","from","hiddenTabbableAs"]),s=Object(r.useRef)(),f=Object(r.useRef)(),d=Object(r.useContext)(ks);c||(c=d);var p=c,m=p.contentRef,h=p.portalRef,g=Object(r.useCallback)((function(e){e.stopPropagation();var t=m.current;(e.relatedTarget===f.current?Is(s.current):e.relatedTarget&&t.contains(e.relatedTarget)?Is(h.current):xs(f.current))||e.currentTarget.blur()}),[m,h]),b=Object(r.useCallback)((function(e){e.stopPropagation();(Ss(e.currentTarget,e.relatedTarget)?Is(s.current):xs(h.current))||e.currentTarget.blur()}),[h]),y=Object(r.useCallback)((function(e){m.current=e,"function"==typeof t?t(e):t&&(t.current=e)}),[t,m]);return o.a.createElement(a,ws({ref:y},u),o.a.createElement(Es,{as:l,ref:s,onFocus:g}),i,o.a.createElement(Es,{as:l,ref:f,onFocus:b}))}));function Ps(e){var t,n,a=e.children,i=(t=Object(r.useRef)(),n=Object(r.useRef)(),Object(r.useMemo)((function(){return{contentRef:t,portalRef:n}}),[]));return o.a.createElement(ks.Provider,{value:i},a)}Ts.displayName="TabPortal.Content",Ps.Portal=As,Ps.Content=Ts;var Ns=n(378),Ms=n(44),Rs=n.n(Ms),Ls=n(666),Ds=n.n(Ls),Fs=function e(t){var n=t.theme,r=t.verified,a=o.a.createElement(e.Block,{width:"6.375rem"}),i=o.a.createElement(e.AvatarUserBadge,null,o.a.createElement(e.Avatar,null),o.a.createElement(e.UserBadge,null,o.a.createElement(e.Block,{height:"".concat(n.lineHeight.short,"rem"),width:"6.375rem"}),o.a.createElement(e.Block,{height:"".concat(n.lineHeight.reading,"rem"),width:"8.375rem"}))),c=o.a.createElement(o.a.Fragment,null,Ds()(6,(function(t){return o.a.createElement(e.Block,{key:t})})),o.a.createElement(e.Block,{width:"50%"})),l=o.a.createElement(o.a.Fragment,null,o.a.createElement(e.Block,{width:"3rem"}),o.a.createElement(e.Block,{width:"9rem"}));return o.a.createElement(e.Container,{verified:r},o.a.createElement(e.Attribution,null,r?i:a,o.a.createElement(e.Block,{width:"6.375rem"})),o.a.createElement(e.Body,null,c),o.a.createElement(e.Actions,null,l),o.a.createElement(e.SuggestionInput,null))},zs=o.a.memo(Object(c.i)(Fs)),Bs=Object(c.g)(["from{opacity:1;}to{opacity:0.5;}"]);Fs.Block=c.f.div.withConfig({displayName:"AnnotationPlaceholder__Block",componentId:"sc-1lhjn27-0"})(["height:",";width:",";animation:"," 800ms ease-in-out alternate infinite;"],(function(e){return e.height||"".concat(e.theme.lineHeight.reading,"rem")}),(function(e){return e.width||"100%"}),Bs),Fs.Attribution=c.f.div.withConfig({displayName:"AnnotationPlaceholder__Attribution",componentId:"sc-1lhjn27-1"})(["display:flex;width:100%;margin-bottom:",";justify-content:space-between;"],(function(e){return e.theme.space.xLarge})),Fs.Body=c.f.div.withConfig({displayName:"AnnotationPlaceholder__Body",componentId:"sc-1lhjn27-2"})(["display:flex;flex-direction:column;& > *:not(:last-child){margin-bottom:",";}"],(function(e){return e.theme.space.hair})),Fs.Actions=c.f.div.withConfig({displayName:"AnnotationPlaceholder__Actions",componentId:"sc-1lhjn27-3"})(["display:flex;margin:"," 0;justify-content:space-between;"],(function(e){return e.theme.space.large})),Fs.AvatarUserBadge=c.f.div.withConfig({displayName:"AnnotationPlaceholder__AvatarUserBadge",componentId:"sc-1lhjn27-4"})(["display:flex;flex-direction:row;align-items:center;"]),Fs.Avatar=Object(c.f)(Fs.Block).withConfig({displayName:"AnnotationPlaceholder__Avatar",componentId:"sc-1lhjn27-5"})(["border-radius:100%;height:40px;width:40px;margin-right:",";"],(function(e){return e.theme.space.small})),Fs.UserBadge=c.f.div.withConfig({displayName:"AnnotationPlaceholder__UserBadge",componentId:"sc-1lhjn27-6"})(["display:flex;flex-direction:column;& >:first-child{margin-bottom:",";}"],(function(e){return e.theme.space.hair})),Fs.SuggestionInput=Object(c.f)(Fs.Block).withConfig({displayName:"AnnotationPlaceholder__SuggestionInput",componentId:"sc-1lhjn27-7"})(["height:3rem;margin-top:",";"],(function(e){return e.theme.space.xxLarge})),Fs.Container=c.f.div.withConfig({displayName:"AnnotationPlaceholder__Container",componentId:"sc-1lhjn27-8"})(["width:100%;background-color:transparent;padding:",";","{background-color:",";}"],(function(e){return e.theme.space.xxLarge}),Fs.Block,(function(e){return e.verified?e.theme.color.background.variant:e.theme.color.background.blockOnVariant}));var Vs=n(923),Hs=function e(){return o.a.createElement(e.Container,null,o.a.createElement("p",null,"Tips for writing a good annotation:"),o.a.createElement("ul",null,o.a.createElement("li",null,"Be Concise"),o.a.createElement("li",null,"Be Objective"),o.a.createElement("li",null,"Don’t Restate The Lyric:",o.a.createElement("br",null),o.a.createElement("em",null,"Not all lines need to be annotated!")),o.a.createElement("li",null,"Do Research & Link to Sources"),o.a.createElement("li",null,"Include Media That Adds Depth")),o.a.createElement("p",null,"Want to know what else goes in annotations?",o.a.createElement("br",null),o.a.createElement(C.a,{newTab:!0,href:"/Genius-how-genius-works-annotated"},"Learn more")))},qs=o.a.memo(Hs);function Ws(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Us(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ws(Object(n),!0).forEach((function(t){$s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ws(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function $s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Qs(e,t,n,r,o,a,i){try{var c=e[a](i),l=c.value}catch(e){return void n(e)}c.done?t(l):Promise.resolve(l).then(r,o)}function Gs(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){Qs(a,r,o,i,c,"next",e)}function c(e){Qs(a,r,o,i,c,"throw",e)}i(void 0)}))}}Hs.Container=c.f.div.withConfig({displayName:"AnnotationEditTips__Container",componentId:"efo01p-0"})(["display:flex;gap:",";flex-direction:column;ul{padding-left:",";}ul li{list-style-type:disc;}"],(function(e){return e.theme.fontSize.smallReading}),(function(e){return e.theme.space.large}));var Ys={globalDropZone:!0,onOpen:function(e){var t=e.config.rootId;Object(O.s)((function(){return document.getElementById(t)})).then((function(){document.getElementById(t).dataset.ignoreOnClickOutside=!0}))},maxFiles:1,transformations:{circle:!1,crop:!0,rotate:!0}},Ks=["image/*"],Zs=["local_file_system","imagesearch","url"],Xs=Rs()(Gs(z.a.mark((function e(){var t,r;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.e(4).then(n.bind(null,1106));case 2:return t=e.sent,r={security:{policy:Po.a.filepickerPolicy,signature:Po.a.filepickerSignature}},e.abrupt("return",t.init(Po.a.filepickerApiKey,r));case 5:case"end":return e.stop()}}),e)})))),Js=function e(){return o.a.createElement(e.Container,null,o.a.createElement("p",null,"Genius uses ",o.a.createElement(C.a,{newTab:!0,href:"/Genius-formatting-and-markdown-guide-annotated"},"Markdown")," for formatting text."),o.a.createElement("p",null,o.a.createElement("strong",null,"Add simple formatting"),o.a.createElement("code",null,"*Italicize*",o.a.createElement("br",null),"**Bold**",o.a.createElement("br",null),"> Blockquote")),o.a.createElement("p",null,o.a.createElement("strong",null,"Add an image, video, or tweet by URL"),o.a.createElement("code",null,"https://genius.com/images/winking_sgnarly.gif")),o.a.createElement("p",null,o.a.createElement("strong",null,"Add a link"),o.a.createElement("code",null,"[Check out my fave website](http://genius.com)")))},ef=o.a.memo(Js);Js.Container=c.f.div.withConfig({displayName:"TextEditorFormatting__Container",componentId:"sc-115xrdp-0"})(["display:flex;gap:",";flex-direction:column;code{display:block;word-break:break-all;}"],(function(e){return e.theme.fontSize.smallReading}));var tf=n(612),nf=["toolbar","tips","value","onChange","onBlur","hasError","rows","hasBorderedContainer","filestackOptions"];function rf(){return rf=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},rf.apply(this,arguments)}function of(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function af(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function cf(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,a=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){c=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(c)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return lf(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return lf(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function lf(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function uf(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var sf=o.a.forwardRef((function(e,t){var n=e.toolbar,a=void 0===n||n,i=e.tips,c=e.value,l=e.onChange,u=e.onBlur,s=e.hasError,f=e.rows,d=void 0===f?5:f,p=e.hasBorderedContainer,h=void 0!==p&&p,g=e.filestackOptions,b=uf(e,nf),v=Object(m.a)().t,O=Object(ie.a)(),w=cf(Object(r.useState)(),2),_=w[0],j=w[1],E=Object(r.useCallback)((function(){return j((function(e){return"tips"===e?null:"tips"}))}),[]),C=Object(r.useCallback)((function(){return j((function(e){return"formatting"===e?null:"formatting"}))}),[]),x=Object(y.a)("text_editor:file_upload"),I=function(e,t,n){var o=Object(r.useCallback)((function(n){var r=n.filesUploaded,o=n.filesFailed;if(r.length>0){var a=r[0].key,i=r[0].source,c="https://".concat(Po.a.filepickerS3ImageBucket,".s3.amazonaws.com/").concat(encodeURIComponent(a));e(c,i)}else o.length>0&&t(o)}),[e,t]),a=Object(r.useMemo)((function(){return Us(Us({},Ys),{},{accept:fr()(n,"accept",Ks),fromSources:fr()(n,"sources",Zs),onUploadDone:o})}),[n,o]),i=Object(r.useCallback)((function(){Xs().then((function(e){e.picker(a).open()}))}),[a]);return{openFilePicker:i}}(Object(r.useCallback)((function(e,t){var n="![Image description](".concat(e,")");l(c?"".concat(c,"\n\n").concat(n):n),x({source:t})}),[c,l,x]),Object(da.a)("error","Image upload failed"),g),S=I.openFilePicker,k=Object(r.useMemo)((function(){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?of(Object(n),!0).forEach((function(t){af(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):of(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({formatting:ef},i&&{tips:i})}),[i]),A=k[_];return o.a.createElement(o.a.Fragment,null,a&&o.a.createElement(sf.Toolbar,null,o.a.createElement(L.a,{onClick:S},v("controls.text_editor.image")),o.a.createElement(sf.ToolbarGap,null),i&&o.a.createElement(Vs.a,{onClick:E,fontSize:"smallReading"},v("controls.text_editor.tips")),o.a.createElement(Vs.a,{onClick:C,fontSize:"smallReading"},v("controls.text_editor.formatting"))),_&&o.a.createElement(sf.HelperText,{isMobile:O,hasBorderedContainer:h},o.a.createElement(A,null)),o.a.createElement(sf.TextArea,rf({$isMobile:O,$hasBorderedContainer:h,value:c,onChange:l,onBlur:u,hasError:s,rows:d,ref:t},b)))}));sf.displayName="ForwardRef(TextEditor)";var ff=o.a.memo(sf);sf.Toolbar=c.f.div.withConfig({displayName:"TextEditor__Toolbar",componentId:"sc-128gj0x-0"})(["display:flex;border-bottom:1px solid ",";& > *{margin:",";}"],(function(e){return e.theme.color.background.on}),(function(e){return e.theme.space.half})),sf.ToolbarGap=c.f.span.withConfig({displayName:"TextEditor__ToolbarGap",componentId:"sc-128gj0x-1"})(["display:block;flex-grow:1;"]),sf.TextArea=Object(c.f)((function(e){return o.a.createElement(tf.a,e)})).attrs({fullWidth:!0,autoResize:!1}).withConfig({displayName:"TextEditor__TextArea",componentId:"sc-128gj0x-2"})([""," ",""],(function(e){return e.$isMobile?Object(c.e)(["background-color:",";border-bottom:0;"," + &{",";}"],e.theme.color.background.main,sf.Toolbar,e.$hasBorderedContainer?"border: 0":"border-top: 0"):Object(c.e)(["&:focus,&:active{border-color:",";}"," + &{",";}"," + &{",";}"],e.theme.color.background.main,sf.Toolbar,e.$hasBorderedContainer?"border: 0":"margin-top: ".concat(e.theme.space.xLarge),sf.HelperText,e.$hasBorderedContainer&&"border-bottom: 0")}),(function(e){return e.$hasBorderedContainer&&"\n    border-left: 0;\n    border-right: 0;\n  "})),sf.HelperText=c.f.div.withConfig({displayName:"TextEditor__HelperText",componentId:"sc-128gj0x-3"})(["opacity:0.75;font-size:",";padding:",";",";"],(function(e){return e.theme.fontSize.smallReading}),(function(e){return e.isMobile?e.theme.space.small:"".concat(e.theme.space.small," 0")}),(function(e){return e.hasBorderedContainer&&"padding: ".concat(e.theme.space.small)}));function df(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,a=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){c=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(c)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return pf(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return pf(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function pf(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var mf=function e(t){var n=t.id,a=Object(m.a)().t,c=Object(i.c)(),l=Object(Da.a)("songHeader"),u=Object(b.a)("annotations",n),s=u.body,f=u.integratedBody,d=u.verified,p=u.beingCreated,h=Object(O.f)("propose_edit_to",u),y=df(Object(r.useState)(!1),2),v=y[0],w=y[1],_=function(e){var t=e.annotationId,n=e.beingCreated,o=e.proposeEdit,a=Object(i.c)();return Object(r.useCallback)((function(){var e="song:annotation_edit_submitted";n?e="song:annotation_create_submitted":o&&(e="song:annotation_proposal_submitted"),a(Object(g.T)(e,{annotation_id:t}))}),[a,t,n,o])}({annotationId:n,beingCreated:p,proposeEdit:h}),j=Object(ue.a)({submitAction:Ns.W,extraValues:{annotationId:n,proposeEdit:h},onSuccess:_}),E=j.methods,C=j.onSubmit,x=j.isSubmitting,I=E.setFocus,S=f||s,k=Object(r.useCallback)((function(){return w((function(e){return!e}))}),[]);Object(r.useLayoutEffect)((function(){v&&I("editNote")}),[v,I]);var T=Object(r.useCallback)((function(){c(Object(Ns.O)({annotationId:n,beingCreated:p,proposeEdit:h}))}),[c,n,p,h]);return Object(A.a)("cmd+enter, ctrl+enter",C,{enableOnTags:["TEXTAREA"]}),o.a.createElement(re.b,E,o.a.createElement(e.Form,{onSubmit:C,verified:d},o.a.createElement(ua.a,{name:"body.markdown",label:a("annotations.form.body"),rules:{required:{value:!0,message:a("annotation.empty_validation")}},defaultValue:S.markdown,hideLabel:!0,wrapWithLabel:!1},o.a.createElement(e.TextEditor,{distanceAboveSongHeader:l,tips:qs,placeholder:a("annotation.placeholder"),rows:8,toolbar:!0})),!p&&(v?o.a.createElement(ua.a,{name:"editNote",label:a("annotations.form.edit_note"),defaultValue:""},o.a.createElement(je.a,{fullWidth:!0})):o.a.createElement(e.LinkButton,{onClick:k},a("annotations.form.edit_note_cta"))),o.a.createElement(e.Controls,null,o.a.createElement(Bn.a,{type:"submit",disabled:x,isLoading:x},a(h?"annotations.form.save_propose_edit":"annotations.form.save")),o.a.createElement(Bn.a,{secondary:!0,onClick:T,disabled:x},"Cancel"))))},hf=o.a.memo(mf);mf.Form=c.f.form.withConfig({displayName:"AnnotationEditFormdesktop__Form",componentId:"sc-15key0q-0"})(["flex:1;display:flex;flex-direction:column;align-items:stretch;gap:",";padding:",";background-color:",";"],(function(e){return e.theme.space.full}),(function(e){return e.theme.space.xLarge}),(function(e){return e.verified?e.theme.color.primary.main:e.theme.color.background.variant})),mf.TextEditor=Object(c.f)((function(e){return o.a.createElement(ff,e)})).withConfig({displayName:"AnnotationEditFormdesktop__TextEditor",componentId:"sc-15key0q-1"})(["max-height:calc(100vh - (","));"],(function(e){return e.distanceAboveSongHeader})),mf.LinkButton=Object(c.f)((function(e){return o.a.createElement(Vs.a,e)})).withConfig({displayName:"AnnotationEditFormdesktop__LinkButton",componentId:"sc-15key0q-2"})(["align-self:flex-start;"]),mf.Controls=c.f.div.withConfig({displayName:"AnnotationEditFormdesktop__Controls",componentId:"sc-15key0q-3"})(["& > *{margin-right:",";}"],(function(e){return e.theme.space.half}));var gf=n(860),bf=n(70),yf=n(685),vf=function e(t){var n=t.id,r=t.avatarSize,a=t.usernameFontSize,i=Object(m.a)().t,c=Object(b.a)("users",n);return o.a.createElement(e.Container,{as:"a",href:c.url},o.a.createElement(e.Avatar,null,o.a.createElement(yf.a,{id:n,size:r})),o.a.createElement(e.NameAndRole,null,o.a.createElement(e.Role,null,i("annotation.verified_brand_name")),o.a.createElement(e.Name,{size:a},c.name)))};vf.defaultProps={avatarSize:32,usernameFontSize:"reading"};var Of=o.a.memo(vf);vf.Container=c.f.div.withConfig({displayName:"VerifiedUserBadge__Container",componentId:"sc-1su6f5r-0"})(["display:flex;flex-direction:row;align-items:center;font-weight:100;color:inherit;"]),vf.Avatar=c.f.div.withConfig({displayName:"VerifiedUserBadge__Avatar",componentId:"sc-1su6f5r-1"})(["flex-shrink:0;"]),vf.NameAndRole=c.f.div.withConfig({displayName:"VerifiedUserBadge__NameAndRole",componentId:"sc-1su6f5r-2"})(["margin-left:",";line-height:1;"],(function(e){return e.theme.space.small})),vf.Name=c.f.div.withConfig({displayName:"VerifiedUserBadge__Name",componentId:"sc-1su6f5r-3"})(["font-size:",";text-decoration:underline;"],(function(e){return e.theme.fontSize[e.size]})),vf.Role=c.f.div.withConfig({displayName:"VerifiedUserBadge__Role",componentId:"sc-1su6f5r-4"})(["margin-bottom:",";"],(function(e){return e.theme.space.quarter}));var wf=n(667),_f=n.n(wf),jf=n(100);function Ef(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,a=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){c=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(c)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Cf(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Cf(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Cf(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var xf=function e(t){var n=t.id,a=t.isDescription,c=Object(m.a)().t,l=Ef(Object(r.useState)(!1),2),u=l[0],s=l[1],f=Object(i.d)((function(e){var t=fr()(e.entities,["annotations",n,"referentId"]);return fr()(e.entities,["referents",t,"annotatable","type"])})),d=c("activerecord.models.".concat(f)),p=[_f()(d),c("description_annotation.".concat(f))].join(" ");return o.a.createElement(e.Container,null,o.a.createElement(e.Unreviewed,null,o.a.createElement(e.Alert,null),o.a.createElement("div",null,a?c("annotation.unreviewed_notice.notice_description_fragment",{annotation_name:p}):c("annotation.unreviewed_notice.notice_fragment")," ",o.a.createElement(e.ExplainerToggle,{onClick:function(){return s((function(e){return!e}))}},c("annotation.unreviewed_notice.notice_adjective")))),u&&o.a.createElement(e.Explainer,null,c("annotation.unreviewed_notice.tooltip")," ",o.a.createElement("a",{href:Po.a.unreviewedAnnotationTooltipInfoUrl},c("annotation.unreviewed_notice.tooltip_link"))))},If=o.a.memo(xf);xf.Container=c.f.div.withConfig({displayName:"UnreviewedAnnotation__Container",componentId:"sc-1fjei54-0"})(["margin-bottom:",";font-size:",";"],(function(e){return e.theme.space.xxLarge}),(function(e){return e.theme.fontSize.smallReading})),xf.Unreviewed=c.f.div.withConfig({displayName:"UnreviewedAnnotation__Unreviewed",componentId:"sc-1fjei54-1"})(["padding:0.8rem 0;display:flex;align-items:center;justify-content:center;border:1px solid ",";color:",";background:repeating-linear-gradient( 45deg,#ffffff,#ffffff 7px,#ffecf3 7px,#ffecf3 14px );"],(function(e){return e.theme.color.accent.main}),(function(e){return e.theme.color.accent.main})),xf.ExplainerToggle=c.f.span.withConfig({displayName:"UnreviewedAnnotation__ExplainerToggle",componentId:"sc-1fjei54-2"})(["text-decoration:underline;cursor:pointer;"]),xf.Alert=Object(c.f)(jf.a).withConfig({displayName:"UnreviewedAnnotation__Alert",componentId:"sc-1fjei54-3"})(["fill:",";height:",";margin-right:",";"],(function(e){return e.theme.color.accent.main}),(function(e){return e.theme.fontSize.smallReading}),(function(e){return e.theme.space.quarter})),xf.Explainer=c.f.div.withConfig({displayName:"UnreviewedAnnotation__Explainer",componentId:"sc-1fjei54-4"})(["color:white;padding:",";background-color:",";text-align:center;line-height:1.33;a{color:inherit;text-decoration:underline;}"],(function(e){return e.theme.space.full}),(function(e){return e.theme.color.accent.main}));var Sf=n(616);function kf(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,a=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){c=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(c)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Af(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Af(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Af(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Tf=function e(t){var n=t.label,a=t.authorLabel,c=t.authorId,l=t.acceptedById,u=t.createdAt,s=t.contributors,f=t.contributorsCount,d=t.onShowContributors,p=t.onShowEditHistory,h=t.renderEditHistoryModal,g=t.state,y=t.entityType,v=t.entityId,O=Object(m.a)().t,w=Object(i.c)(),_=Object(b.a)("users",c),j=Object(b.a)("users",l),E=Object(i.d)((function(e){return fr()(e.songPage,["attributionsForEntity",y,v],!1)})),x=kf(Object(r.useState)(!1),2),I=x[0],S=x[1],k=Object(r.useCallback)((function(){w(Object(Q.Eb)(y,v,!E)),d()}),[d,w,y,v,E]),A=Object(r.useCallback)((function(){S(!1)}),[]),T=Object(r.useCallback)((function(){S(!0),p()}),[p]),P="pending"===g,N=j&&g&&!P,R=g&&!P&&h;return o.a.createElement(e.Container,null,o.a.createElement(e.Header,null,n&&o.a.createElement("span",null,n),o.a.createElement(M.a,{onClick:k,textDecoration:"underline"},O("attribution.contributor",{count:f||s.length}))),E&&o.a.createElement(o.a.Fragment,null,o.a.createElement(Sf.a,{contributors:s}),o.a.createElement(e.Footer,null,o.a.createElement(e.Row,null,o.a.createElement(e.Author,null,a||O("attribution.created_by")," ",o.a.createElement(C.a,{href:_.url},_.name)," ",o.a.createElement(ic,{time:u})),R&&o.a.createElement(e.EditHistory,{onClick:T,textDecoration:"underline"},O("annotation_edits.view_all_edits"))),N&&o.a.createElement(e.Row,null,o.a.createElement("span",null,O("attribution.annotation.accepted_by")," ",o.a.createElement(C.a,{href:j.url},j.name))))),R&&(null==h?void 0:h({show:I,onClose:A})))},Pf=Tf;Tf.defaultProps={onShowContributors:function(){},onShowEditHistory:function(){}},Tf.Container=c.f.div.withConfig({displayName:"Attribution__Container",componentId:"sc-1nmry9o-0"})(["font-size:",";color:",";"],(function(e){return e.theme.fontSize.smallReading}),(function(e){return e.theme.color.background.on})),Tf.Header=c.f.div.withConfig({displayName:"Attribution__Header",componentId:"sc-1nmry9o-1"})(["display:flex;justify-content:space-between;margin-bottom:",";"],(function(e){return e.theme.space.full})),Tf.Author=c.f.div.withConfig({displayName:"Attribution__Author",componentId:"sc-1nmry9o-2"})(["display:block;padding-right:",";"],(function(e){return e.theme.space.large})),Tf.Footer=c.f.div.withConfig({displayName:"Attribution__Footer",componentId:"sc-1nmry9o-3"})(["margin-top:",";display:flex;flex-direction:column;"],(function(e){return e.theme.space.full})),Tf.Row=c.f.div.withConfig({displayName:"Attribution__Row",componentId:"sc-1nmry9o-4"})(["display:flex;flex-direction:row;justify-content:space-between;align-items:flex-start;"]),Tf.EditHistory=Object(c.f)((function(e){return o.a.createElement(M.a,e)})).withConfig({displayName:"Attribution__EditHistory",componentId:"sc-1nmry9o-5"})(["min-width:5rem;text-align:end;"]);var Nf="songPage/ANNOTATION_EDITS_VISIBLE",Mf="songPage/ANNOTATION_EDITS_CLOSED",Rf="songPage/ANNOTATION_EDITS_FETCHED",Lf="songPage/ANNOTATION_EDITS_FETCH_FAILED";function Df(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,a=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){c=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(c)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Ff(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ff(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ff(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var zf=function e(t){var n=t.annotationId,a=t.editId,c=t.onClose,l=Object(i.c)(),u=Object(m.a)().t,s=Object(i.d)((function(e){return e.songPage})),f=s.annotationEdits,d=void 0===f?[]:f,p=s.loadingRevertAnnotation,h=void 0!==p&&p,g=Object(b.a)("annotations",n),v=Object(b.a)("versions",a),w=v.body,_=v.user,j=v.createdAt,E=a===d[0],C=Object(ce.a)({mobile:"smallReading",desktop:"reading"}),x=Object(O.f)("edit",g),I=Object(da.a)("success",u("annotation_edits.revert.success")),S=Object(r.useCallback)((function(){I(),c()}),[I,c]),k=Df(Object(r.useState)(null),2),A=k[0],T=k[1],P=Object(r.useCallback)((function(e){T(u("annotation_edits.revert.error",{errorMessage:e.message}))}),[u]),N=Object(y.a)("song:revert_annotation",{annotation_id:n,version_id:a}),M=Object(r.useCallback)((function(){N(),l(Object(Ns.db)({annotationId:n,versionId:a},{onSuccess:S,onError:P}))}),[N,l,n,a,S,P]);return o.a.createElement(e.ListItem,null,o.a.createElement(e.Header,{fontSize:C},o.a.createElement(li.a,{id:_,avatarSize:18,usernameFontSize:C}),o.a.createElement(ic,{time:j})),o.a.createElement(e.Body,null,o.a.createElement(gf.a,{html:w.html})),!E&&o.a.createElement(e.Actions,null,x&&o.a.createElement(o.a.Fragment,null,o.a.createElement(L.a,{onClick:M,disabled:h,isLoading:h},u("annotation_edits.revert.submit")),A&&o.a.createElement(e.RevertAlert,{message:A}))))},Bf=zf;zf.ListItem=c.f.li.withConfig({displayName:"AnnotationEdit__ListItem",componentId:"sc-1d4liqe-0"})(["padding:"," 0;&:not(:last-child){border-bottom:1px solid ",";}"],(function(e){return e.theme.space.xLarge}),(function(e){return e.theme.color.background.on})),zf.Header=c.f.div.withConfig({displayName:"AnnotationEdit__Header",componentId:"sc-1d4liqe-1"})(["display:flex;align-items:center;justify-content:space-between;padding-bottom:",";font-size:",";"],(function(e){return e.theme.space.half}),(function(e){return e.theme.fontSize[e.fontSize]})),zf.Body=c.f.div.withConfig({displayName:"AnnotationEdit__Body",componentId:"sc-1d4liqe-2"})(["max-width:100%;word-wrap:break-word;width:auto;height:auto;"]),zf.Actions=c.f.div.withConfig({displayName:"AnnotationEdit__Actions",componentId:"sc-1d4liqe-3"})([""]),zf.RevertAlert=Object(c.f)(de.a).withConfig({displayName:"AnnotationEdit__RevertAlert",componentId:"sc-1d4liqe-4"})(["margin-top:",";"],(function(e){return e.theme.space.half}));var Vf=function e(t){var n=t.annotationId,r=t.onClose,a=Object(i.d)((function(e){return e.songPage})),l=a.loadingAnnotationEdits,u=a.annotationEdits,s=void 0===u?[]:u,f=Object(m.a)().t,d=Object(ce.a)({mobile:"small",desktop:"xLarge"});return o.a.createElement(c.c,{theme:h.f},o.a.createElement(e.Container,{paddingHorizontalKey:d},o.a.createElement(e.Title,null,f("annotation_edits.edit_history")),l?o.a.createElement(e.Spinner,null):o.a.createElement(o.a.Fragment,null,o.a.createElement(e.CurrentVersion,null,f("annotation_edits.current_version")),s.map((function(e){return o.a.createElement(Bf,{key:e,annotationId:n,editId:e,onClose:r})})))))},Hf=Vf;Vf.Spinner=Object(c.f)(cc.a).withConfig({displayName:"AnnotationEditHistory__Spinner",componentId:"sc-1txqdx7-0"})(["margin:"," 0;"],(function(e){return e.theme.space.xxxLarge})),Vf.Container=c.f.div.withConfig({displayName:"AnnotationEditHistory__Container",componentId:"sc-1txqdx7-1"})(["font-weight:",";background-color:",";padding:"," ",";color:",";min-height:-webkit-fill-available;"],(function(e){return e.theme.fontWeight.light}),(function(e){return e.theme.color.background.variant}),(function(e){return e.theme.space.xLarge}),(function(e){return e.theme.space[e.paddingHorizontalKey]}),(function(e){return e.theme.color.background.on})),Vf.Title=c.f.h2.withConfig({displayName:"AnnotationEditHistory__Title",componentId:"sc-1txqdx7-2"})(["font-size:",";font-weight:",";text-align:center;"],(function(e){return e.theme.fontSize.headline}),(function(e){return e.theme.fontWeight.normal})),Vf.CurrentVersion=c.f.h3.withConfig({displayName:"AnnotationEditHistory__CurrentVersion",componentId:"sc-1txqdx7-3"})(["font-size:",";text-align:center;padding-top:",";"],(function(e){return e.theme.fontSize.reading}),(function(e){return e.theme.space.full}));var qf=function(e){var t=e.onClose,n=e.show,a=e.annotationId,c=e.hideMobileOverlay,l=Object(i.c)(),u=Object(ce.a)({mobile:"leftArrow",desktop:"x"}),s=Object(ce.a)({mobile:c?0:.7,desktop:.7});Object(r.useEffect)((function(){n&&l(function(e){return{type:Nf,annotationId:e}}(a))}),[l,n,a]);var f=Object(r.useCallback)((function(){l(function(e){return{type:Mf,annotationId:e}}(a)),t()}),[l,t,a]);return o.a.createElement(G.a,{show:n,onClose:f,position:"top",closeIcon:u,backgroundOpacity:s},o.a.createElement(Hf,{annotationId:a,onClose:f}))};qf.defaultProps={hideMobileOverlay:!0};var Wf=qf,Uf=function e(t){var n=t.id,a=t.isDescription,c=t.className,l=Object(m.a)().t,u=Object(i.c)(),s=Object(b.a)("annotations",n),f=Object(ea.a)(),d=a?"description_annotation":"annotation",p=Object(y.a)("song:".concat(d,"_edit_clicked"),{annotation_id:n}),h=Object(y.a)("song:".concat(d,"_delete_clicked"),{annotation_id:n}),g=Object(y.a)("song:".concat(d,"_delete_confirmed"),{annotation_id:n}),v=Object(y.a)("song:".concat(d,"_proposals_toggled"),{annotation_id:n}),w=f&&s.proposedEditCount>0,_=Object(O.f)("edit",s),j=Object(O.f)("propose_edit_to",s),E=Object(O.f)("destroy",s),C=Object(r.useCallback)((function(){u(Object(Ns.P)(n)),p()}),[u,n,p]),x=Object(r.useCallback)((function(){h();var e=confirm(l("annotations.confirm_delete"));g({confirmed:e}),e&&u(Object(Ns.N)(n))}),[h,l,g,u,n]),I=Object(r.useCallback)((function(){u(Object(Ns.S)(n)),v()}),[u,n,v]);return _||j||E||w?o.a.createElement(e.Container,{className:c},_&&o.a.createElement(L.a,{onClick:C},l("annotations.edit")),j&&o.a.createElement(L.a,{onClick:C},l("annotation.propose_edit_prompt")),E&&o.a.createElement(L.a,{onClick:x},l("annotations.delete")),w&&o.a.createElement(L.a,{onClick:I},s.showProposals?l("annotations.hide_proposals"):l("annotations.show_proposals",{count:s.proposedEditCount}))):null},$f=o.a.memo(Uf);Uf.Container=c.f.div.withConfig({displayName:"AnnotationEditActions__Container",componentId:"sc-10x4ilq-0"})(["display:flex;flex-wrap:wrap;gap:",";& > *{white-space:pre;}"],(function(e){return e.theme.grid.gap}));var Qf=function(e){return Object(i.d)((function(t){return Object.values(fr()(t,["entities","annotationEdits"],{})).filter((function(t){return t.annotationId===e})).filter((function(e){return"pending"===e.state})).sort((function(e,t){return e.createdAt<t.createdAt})).map((function(e){return e.id}))}),i.b)},Gf=n(668),Yf=n.n(Gf),Kf=function(e){var t=e.before,n=e.after,r=Yf.a.execute(t,n);return o.a.createElement("div",null,o.a.createElement(gf.a,{html:r}))},Zf=o.a.memo(Kf);function Xf(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,a=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){c=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(c)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Jf(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Jf(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Jf(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ed=function e(t){var n=t.id,a=t.beforeHtml,c=Xf(Object(r.useState)(null),2),l=c[0],u=c[1],s=Xf(Object(r.useState)(null),2),f=s[0],d=s[1],p=Object(m.a)().t,h=Object(i.c)(),g=Object(b.a)("annotationEdits",n),v=Object(O.f)("moderate",g),w=Object(ci.a)("youMergedAnAnnotationEdit"),_=Object(ci.a)("youRejectedAnAnnotationEdit"),j=Object(y.a)("song:annotation_proposal_accept_clicked",{proposal_id:n}),E=Object(y.a)("song:annotation_proposal_accept_confirmed",{proposal_id:n}),C=Object(y.a)("song:annotation_proposal_reject_clicked",{proposal_id:n}),x=Object(y.a)("song:annotation_proposal_reject_confirmed",{proposal_id:n}),I=g.annotationAfter.id,S=Object(r.useCallback)((function(e){"reject"===e?C():j();var t=confirm(p("reject"===e?"annotations.moderation.confirm_reject":"annotations.moderation.confirm_accept"));if("reject"===e?x({confirmed:t}):E({confirmed:t}),t){var r=function(){return u(null)},o=function(e){u(null),d(e.message)};u(e),h("reject"===e?Object(Ns.mb)(n,{onSuccess:r,onError:o,annotationId:I}):Object(Ns.G)(n,{onSuccess:r,onError:o,annotationId:I}))}}),[I,h,n,p,j,E,C,x]),k=Object(r.useCallback)((function(){return S("accept")}),[S]),A=Object(r.useCallback)((function(){return S("reject")}),[S]);return o.a.createElement(e.Container,null,o.a.createElement(e.UserDetails,null,o.a.createElement(li.a,{id:g.createdBy,avatarSize:18,showIQ:!1}),o.a.createElement(e.RelativeTimestamp,{time:g.createdAt})),o.a.createElement(Zf,{before:a,after:g.annotationAfter.body.html}),f&&o.a.createElement(de.a,{status:"error",message:f}),v&&o.a.createElement(e.Controls,null,o.a.createElement(L.a,{onClick:k,disabled:null!==l,showLoadingSpinner:"accept"===l},p("annotations.moderation.accept"),o.a.createElement(e.IQ,null,Object(O.n)(w)," IQ")),o.a.createElement(L.a,{onClick:A,disabled:null!==l,showLoadingSpinner:"reject"===l,secondary:!0},o.a.createElement("span",null,p("annotations.moderation.reject"),o.a.createElement(e.IQ,null,Object(O.n)(_)," IQ")))))},td=o.a.memo(ed);ed.Container=c.f.div.withConfig({displayName:"AnnotationEditProposal__Container",componentId:"sc-1f2vsx0-0"})([""]),ed.UserDetails=c.f.div.withConfig({displayName:"AnnotationEditProposal__UserDetails",componentId:"sc-1f2vsx0-1"})(["margin-bottom:",";display:flex;justify-content:space-between;"],(function(e){return e.theme.space.xLarge})),ed.RelativeTimestamp=Object(c.f)((function(e){return o.a.createElement(ic,e)})).withConfig({displayName:"AnnotationEditProposal__RelativeTimestamp",componentId:"sc-1f2vsx0-2"})(["font-weight:",";font-size:",";"],(function(e){return e.theme.fontWeight.light}),(function(e){return e.theme.fontSize.smallReading})),ed.Controls=c.f.div.withConfig({displayName:"AnnotationEditProposal__Controls",componentId:"sc-1f2vsx0-3"})(["font-size:",";margin:"," 0;display:flex;& > *:not(:last-child){margin-right:",";}"],(function(e){return e.theme.fontSize.smallReading}),(function(e){return e.theme.space.large}),(function(e){return e.theme.space.small})),ed.IQ=c.f.span.withConfig({displayName:"AnnotationEditProposal__IQ",componentId:"sc-1f2vsx0-4"})(["margin-left:",";color:",";display:inline-block;text-decoration:none;"],(function(e){return e.theme.space.quarter}),(function(e){return e.theme.color.primary.onVariant}));var nd=function e(t){var n=t.id,a=t.className,c=Object(m.a)().t,l=Object(i.c)(),u=Object(b.a)("annotations",n),s=u.loadingProposals,f=u.body,d=Qf(n);return Object(r.useEffect)((function(){l(Object(Ns.V)(n))}),[l,n]),o.a.createElement(e.Container,{className:a},o.a.createElement(e.Label,{size:"reading",textTransform:"none",fontWeight:"light"},c("annotations.proposals_title"),":"),s&&o.a.createElement(cc.a,null),o.a.createElement(e.Proposals,null,d.map((function(t){return o.a.createElement(e.Proposal,{key:t},o.a.createElement(td,{id:t,beforeHtml:f.html}))}))))},rd=o.a.memo(nd);nd.Container=c.f.div.withConfig({displayName:"AnnotationEditProposals__Container",componentId:"ssm8fc-0"})(["margin:"," 0 ",";"],(function(e){return e.theme.space.full}),(function(e){return e.theme.space.xLarge})),nd.Proposals=c.f.div.withConfig({displayName:"AnnotationEditProposals__Proposals",componentId:"ssm8fc-1"})([""]),nd.Proposal=c.f.div.withConfig({displayName:"AnnotationEditProposals__Proposal",componentId:"ssm8fc-2"})(["&:not(:last-child){padding-bottom:",";border-bottom:1px solid ",";margin-bottom:",";}"],(function(e){return e.theme.space.xSmall}),(function(e){return e.theme.color.background.on}),(function(e){return e.theme.space.large})),nd.Label=Object(c.f)((function(e){return o.a.createElement(ni.a,e)})).withConfig({displayName:"AnnotationEditProposals__Label",componentId:"ssm8fc-3"})(["display:block;margin-bottom:",";"],(function(e){return e.theme.space.large}));var od=["options","name","hasError","className","value"];function ad(){return ad=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ad.apply(this,arguments)}function id(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var cd=o.a.forwardRef((function(e,t){var n=e.options,r=e.name,a=e.hasError,i=e.className,c=e.value,l=id(e,od);return o.a.createElement(cd.Container,{className:i},n.map((function(e){var n=e.key,i=e.value,u=e.label;return o.a.createElement(cd.Label,{key:n,htmlFor:"".concat(r,"_").concat(n)},o.a.createElement(cd.RadioInput,ad({},l,{id:"".concat(r,"_").concat(n),type:"radio",name:r,checked:(i||n)===c,value:i||n,ref:t})),o.a.createElement(cd.Button,{hasError:a}),o.a.createElement("span",null,u))})))}));cd.displayName="ForwardRef(RadioButtons)";var ld=cd;function ud(){return ud=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ud.apply(this,arguments)}function sd(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function fd(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?sd(Object(n),!0).forEach((function(t){dd(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sd(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function dd(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}cd.propTypes={options:p.a.arrayOf(p.a.shape({key:p.a.string.isRequired,value:p.a.any,label:p.a.string.isRequired})).isRequired,name:p.a.string.isRequired,value:p.a.string,hasError:p.a.bool,className:p.a.string},cd.Container=c.f.div.withConfig({displayName:"RadioButtons__Container",componentId:"sc-1m2sz3s-0"})(["margin-top:",";"],(function(e){return e.theme.space.half})),cd.Label=c.f.label.withConfig({displayName:"RadioButtons__Label",componentId:"sc-1m2sz3s-1"})(["position:relative;display:flex;align-items:center;cursor:pointer;user-select:none;font-weight:100;margin-bottom:",";"],(function(e){return e.theme.space.half})),cd.RadioInput=c.f.input.withConfig({displayName:"RadioButtons__RadioInput",componentId:"sc-1m2sz3s-2"})(["position:absolute;visibility:hidden;"]),cd.Button=c.f.div.withConfig({displayName:"RadioButtons__Button",componentId:"sc-1m2sz3s-3"})(["display:flex;margin-right:",";border:1px solid ",';border-radius:100%;height:1.25rem;width:1.25rem;input[type="radio"]:checked ~ &{&::before{background-color:',";}}&::before{content:'';border-radius:100%;height:0.6rem;width:0.6rem;margin:auto;}"],(function(e){return e.theme.space.half}),(function(e){return e.hasError?e.theme.color.accent.main:e.theme.color.background.on}),(function(e){return e.theme.color.background.on}));var pd=Po.a.commentReasons||[],md=pd.map((function(e){return{key:e.slug,value:e.rawName,label:e.handle}})),hd={body:"",reason:"other"},gd=function e(t){var n=t.prefix,a=t.onSubmit,i=t.onCancel,c=t.bodyI18nKey,l=Object(m.a)().t,u=Object(re.d)({defaultValues:dd({},n,hd)}),s=u.reset,f=u.control,d=u.watch,p=u.handleSubmit,h=u.formState.isSubmitting,g=u.setError,b=d("".concat(n,".reason"),""),y=Object(r.useMemo)((function(){var e=pd.find((function(e){return e.rawName===b}));return e&&e.requiresBody}),[b]),v=Object(r.useCallback)((function(e){return a(fd(fd({},e[n]),{},{setError:function(e,t){return g("".concat(n,".").concat(e),t)},reset:function(){return s(dd({},n,hd))}}))}),[a,n,g,s]);return o.a.createElement(e.Form,{onSubmit:p(v)},o.a.createElement(e.Header,null,o.a.createElement(ni.a,{size:"largeReading",textTransform:"none",fontWeight:"light"},l("annotations.comment.title")),o.a.createElement(ni.a,{size:"smallReading",textTransform:"none",fontWeight:"light"},o.a.createElement(C.a,{href:Po.a.commentReasonsHelpUrl},l("annotations.comment.subtitle")))),o.a.createElement(e.Field,{control:f,name:"".concat(n,".reason"),label:l("annotations.comment.reasons.label"),rules:{required:{value:!0,message:l("annotations.comment.reasons.required")}},disabled:h,isRequired:!0},(function(t){return o.a.createElement(e.RadioButtons,ud({name:"".concat(n,".reason"),options:md},t))})),o.a.createElement(e.Field,{control:f,name:"".concat(n,".body"),rules:{required:{value:y,message:l("".concat(c,".required"))}},label:l("".concat(c,".label")),isRequired:y},(function(e){return o.a.createElement(je.a,ud({as:"textarea",rows:3,fullWidth:!0,disabled:h,placeholder:l("".concat(c,".placeholder"))},e))})),o.a.createElement(e.ButtonGroup,null,o.a.createElement(e.Button,{type:"submit",disabled:h,isLoading:h},l(h?"annotations.comment.submitting":"annotations.comment.submit")),o.a.createElement(Vs.a,{onClick:i},l("annotations.comment.cancel"))))},bd=o.a.memo(gd);gd.Form=c.f.form.withConfig({displayName:"AnnotationCommentForm__Form",componentId:"row148-0"})(["font-weight:",";border-top:1px solid ",";"],(function(e){return e.theme.fontWeight.light}),(function(e){return e.theme.color.background.on})),gd.ButtonGroup=c.f.div.withConfig({displayName:"AnnotationCommentForm__ButtonGroup",componentId:"row148-1"})(["margin-top:",";display:flex;flex-direction:column;align-items:center;justify-content:center;& > *:not(:last-child){margin-bottom:",";}"],(function(e){return e.theme.space.large}),(function(e){return e.theme.space.small})),gd.Field=Object(c.f)((function(e){return o.a.createElement(Pr,e)})).withConfig({displayName:"AnnotationCommentForm__Field",componentId:"row148-2"})(["&:not(:last-child){margin-bottom:",";}"],(function(e){return e.theme.space.full})),gd.Button=Object(c.f)((function(e){return o.a.createElement(Bn.a,e)})).withConfig({displayName:"AnnotationCommentForm__Button",componentId:"row148-3"})(["display:flex;margin:0;padding:"," ",";"],(function(e){return e.theme.space.half}),(function(e){return e.theme.space.full})),gd.RadioButtons=Object(c.f)((function(e){return o.a.createElement(ld,e)})).withConfig({displayName:"AnnotationCommentForm__RadioButtons",componentId:"row148-4"})(["display:grid;grid-template-columns:repeat(2,1fr);grid-gap:",";margin-bottom:",";"],(function(e){return e.theme.space.small}),(function(e){return e.theme.space.full})),gd.Header=c.f.div.withConfig({displayName:"AnnotationCommentForm__Header",componentId:"row148-5"})(["margin:"," 0;text-align:center;& > *{display:block;}& > *:not(:last-child){margin-bottom:",";}"],(function(e){return e.theme.space.xxLarge}),(function(e){return e.theme.space.half}));var yd=n(83);function vd(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,a=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){c=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(c)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Od(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Od(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Od(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var wd=function e(t){var n=t.id,a=t.isDescription,c=Object(m.a)().t,l=Object(i.c)(),u=a?"description_annotation":"annotation",s=Object(y.a)("song:unreviewed_".concat(u,"_accepted"),{annotation_id:n}),f=Object(y.a)("song:unreviewed_".concat(u,"_reject_toggled"),{annotation_id:n}),d=Object(y.a)("song:unreviewed_".concat(u,"_rejected"),{annotation_id:n}),p=vd(Object(r.useState)(""),2),h=p[0],g=p[1],v=vd(Object(r.useState)(!1),2),w=v[0],_=v[1],j=vd(Object(r.useState)(!1),2),E=j[0],x=j[1],I=Object(b.a)("annotations",n),S=Object(O.f)("accept",I),k=Object(O.f)("reject",I),A=Object(ci.a)("accept",I),T=Object(ci.a)("reject",I),P=Object(r.useCallback)((function(){_(!0),l(Object(Ns.F)(n,{onSuccess:function(){_(!1),s()},onError:function(e){g(e.message),_(!1)}}))}),[n,l,s]),N=Object(r.useCallback)((function(){x((function(e){return!e})),f()}),[f]),M=Object(r.useCallback)((function(e){var t=e.body,r=e.reason,o=e.setError;return new Promise((function(e,a){l(Object(Ns.lb)(n,{body:t,reason:r,onSuccess:function(){e(),d({reason:r})},onError:function(e){Object(yd.a)(e.validation_errors,o),a(e)}}))}))}),[n,l,d]);return o.a.createElement(e.Container,null,h&&o.a.createElement(e.Alert,{status:"error",message:h}),!E&&o.a.createElement(e.Controls,null,o.a.createElement(e.ButtonGroup,null,S&&o.a.createElement(e.IQButton,{onClick:P,showLoadingSpinner:w,disabled:w},c("annotations.moderation.accept"),o.a.createElement(e.IQ,null,Object(O.n)(A)," IQ")),k&&o.a.createElement(e.IQButton,{secondary:!0,onClick:N,disabled:w},o.a.createElement("u",null,c("annotations.moderation.reject")),o.a.createElement(e.IQ,null,Object(O.n)(T)," IQ"))),o.a.createElement(C.a,{href:"/Genius-coaching-best-practices-annotated",newTab:!0},c("annotations.moderation.coaching"))),E&&o.a.createElement(bd,{prefix:"annotation_reject",bodyI18nKey:"annotations.moderation.body",onSubmit:M,onCancel:N}))},_d=o.a.memo(wd);wd.Container=c.f.div.withConfig({displayName:"AnnotationModeration__Container",componentId:"e31yid-0"})(["margin:"," 0;"],(function(e){return e.theme.space.full})),wd.IQButton=Object(c.f)((function(e){return o.a.createElement(L.a,e)})).withConfig({displayName:"AnnotationModeration__IQButton",componentId:"e31yid-1"})(["text-decoration:none;"]),wd.IQ=c.f.span.withConfig({displayName:"AnnotationModeration__IQ",componentId:"e31yid-2"})(["margin-left:",";color:",";"],(function(e){return e.theme.space.quarter}),(function(e){return Object(P.g)(e.theme.color.background.on,.6)})),wd.ButtonGroup=c.f.div.withConfig({displayName:"AnnotationModeration__ButtonGroup",componentId:"e31yid-3"})(["display:flex;& > *{margin-right:",";}"],(function(e){return e.theme.space.small})),wd.Controls=c.f.div.withConfig({displayName:"AnnotationModeration__Controls",componentId:"e31yid-4"})(["font-size:",";font-weight:",";display:flex;justify-content:space-between;align-items:center;"],(function(e){return e.theme.fontSize.smallReading}),(function(e){return e.theme.fontWeight.light})),wd.Alert=Object(c.f)((function(e){return o.a.createElement(de.a,e)})).withConfig({displayName:"AnnotationModeration__Alert",componentId:"e31yid-5"})(["margin-bottom:",";"],(function(e){return e.theme.space.full}));var jd=function(e){return Object(i.d)((function(e){return e.session.features})).includes(e)};function Ed(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,a=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){c=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(c)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Cd(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Cd(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Cd(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var xd=n(985);function Id(){return Id=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Id.apply(this,arguments)}var Sd=o.a.createElement("path",{d:"M16.52 21.29H6V8.5l.84-.13a3.45 3.45 0 0 0 1.82-1.09 13.16 13.16 0 0 0 .82-1.85c1.06-2.69 2-4.78 3.52-5.31a2.06 2.06 0 0 1 1.74.17c2.5 1.42 1 5 .16 6.95-.11.27-.25.6-.31.77a.78.78 0 0 0 .6.36h4.1a2.29 2.29 0 0 1 2.37 2.37c0 .82-1.59 5.4-2.92 9.09a2.39 2.39 0 0 1-2.22 1.46zm-8.52-2h8.56a.48.48 0 0 0 .31-.17c1.31-3.65 2.73-7.82 2.79-8.44 0-.22-.1-.32-.37-.32h-4.1A2.61 2.61 0 0 1 12.54 8 4.29 4.29 0 0 1 13 6.46c.45-1.06 1.64-3.89.7-4.43-.52 0-1.3 1.4-2.38 4.14a10 10 0 0 1-1.13 2.38A5.28 5.28 0 0 1 8 10.11zM0 8.4h4.86v12.96H0z"}),kd=function(e){return o.a.createElement("svg",Id({viewBox:"0 0 21.62 21.36"},e),Sd)};function Ad(){return Ad=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ad.apply(this,arguments)}var Td=o.a.createElement("path",{d:"M8 21.36a2.12 2.12 0 0 1-1.06-.29c-2.5-1.42-1-5-.16-6.95.11-.27.25-.6.31-.77a.78.78 0 0 0-.6-.36H2.37A2.29 2.29 0 0 1 0 10.64c0-.82 1.59-5.4 2.92-9.09A2.39 2.39 0 0 1 5.1.07h10.56v12.79l-.84.13A3.45 3.45 0 0 0 13 14.08a13.16 13.16 0 0 0-.82 1.85c-1.06 2.69-2 4.79-3.49 5.31a2.06 2.06 0 0 1-.69.12zM5.1 2.07a.48.48 0 0 0-.31.17C3.48 5.89 2.07 10.06 2 10.68c0 .22.1.32.37.32h4.1a2.61 2.61 0 0 1 2.61 2.4 4.29 4.29 0 0 1-.48 1.51c-.46 1.09-1.65 3.89-.7 4.42.52 0 1.3-1.4 2.38-4.14a10 10 0 0 1 1.13-2.38 5.27 5.27 0 0 1 2.25-1.56V2.07zM16.76 0h4.86v12.96h-4.86z"}),Pd=function(e){return o.a.createElement("svg",Ad({viewBox:"0 0 21.62 21.36"},e),Td)},Nd="songPage/VOTE_SUBMITTED",Md="songPage/VOTERS_FETCHED",Rd="songPage/VOTERS_FETCH_SUCCEEDED",Ld="songPage/CLEAR_VOTES_SUBMITTED",Dd="songPage/CLEAR_VOTES_SUCCEEDED",Fd=function e(t){var n=t.onClose,a=t.show,c=t.voteableType,l=t.voteableId,u=Object(i.c)(),s=Object(ie.a)(),f=Object(b.a)(c,l),d=f.voters,p=(d=void 0===d?{}:d).up,m=void 0===p?[]:p,h=d.down,g=void 0===h?[]:h,y=f.loading,v=void 0===y||y;return Object(r.useEffect)((function(){a&&u({type:Md,entityType:c,entityId:l})}),[u,a,l,c]),o.a.createElement(G.a,{show:a,onClose:n,position:"top",bodyWidth:0===m.length||0===g.length?"20rem":"40rem"},v?o.a.createElement(e.Spinner,null):o.a.createElement(e.Container,{isMobile:s},m.length>0&&o.a.createElement(e.Voters,{fullWidth:s||0===g.length},o.a.createElement(e.Heading,null,o.a.createElement(e.ThumbsUp,null),o.a.createElement(e.Count,null,m.length)),o.a.createElement(e.VotersList,null,m.map((function(t){return o.a.createElement(e.VoterContainer,{key:t},o.a.createElement(li.a,{id:t,avatarSize:18,showIQ:!0,usernameFontSize:"reading"}))})))),g.length>0&&o.a.createElement(e.Voters,{fullWidth:s||0===m.length},o.a.createElement(e.Heading,null,o.a.createElement(e.ThumbsDown,null),o.a.createElement(e.Count,null,g.length)),o.a.createElement(e.VotersList,null,g.map((function(t){return o.a.createElement(e.VoterContainer,{key:t},o.a.createElement(li.a,{id:t,avatarSize:18,showIQ:!0,usernameFontSize:"reading"}))}))))))};Fd.ThumbsUp=Object(c.f)(kd).withConfig({displayName:"VotesModal__ThumbsUp",componentId:"sc-1jjk3o3-0"})(["height:",";"],(function(e){return e.theme.space.xLarge})),Fd.ThumbsDown=Object(c.f)(Pd).withConfig({displayName:"VotesModal__ThumbsDown",componentId:"sc-1jjk3o3-1"})(["height:",";"],(function(e){return e.theme.space.xLarge})),Fd.Container=c.f.div.withConfig({displayName:"VotesModal__Container",componentId:"sc-1jjk3o3-2"})(["background-color:#e9e9e9;display:flex;padding:"," ",";gap:",";",""],(function(e){return e.theme.space.full}),(function(e){return e.theme.space.xLarge}),(function(e){return e.theme.space.xLarge}),(function(e){return e.isMobile&&"flex-direction: column;"})),Fd.Heading=c.f.div.withConfig({displayName:"VotesModal__Heading",componentId:"sc-1jjk3o3-3"})(["display:flex;flex-direction:row;align-items:center;gap:",";"],(function(e){return e.theme.space.half})),Fd.Voters=c.f.div.withConfig({displayName:"VotesModal__Voters",componentId:"sc-1jjk3o3-4"})(["width:",";"],(function(e){return e.fullWidth?"100%":"50%"})),Fd.Count=c.f.span.withConfig({displayName:"VotesModal__Count",componentId:"sc-1jjk3o3-5"})(["font-size:",";"],(function(e){return e.theme.fontSize.smallHeadline})),Fd.VotersList=c.f.ul.withConfig({displayName:"VotesModal__VotersList",componentId:"sc-1jjk3o3-6"})([""]),Fd.VoterContainer=c.f.li.withConfig({displayName:"VotesModal__VoterContainer",componentId:"sc-1jjk3o3-7"})(["border-bottom:1px solid black;padding:calc("," + ",") 0;overflow:hidden;:last-child{border-bottom:none;}"],(function(e){return e.theme.space.hair}),(function(e){return e.theme.space.half})),Fd.Spinner=Object(c.f)(cc.a).withConfig({displayName:"VotesModal__Spinner",componentId:"sc-1jjk3o3-8"})(["margin:"," 0;"],(function(e){return e.theme.space.xxxLarge}));var zd=Fd;function Bd(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,a=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){c=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(c)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Vd(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Vd(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Vd(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Hd=function e(t){var n=t.voteableType,a=t.voteableId,c=t.onLoggedOutVoteAttempt,l=Object(i.c)(),u=Object(m.a)().t,s=Object(ea.a)(),f=Object(b.a)(n,a),d=Bd(Object(r.useState)(J.d),2),p=d[0],h=d[1],g=f.hasVoters,v=f.votesTotal,w=f.currentUserMetadata.interactions.vote,_=Object(y.a)("song:vote",{voteable_type:n,voteable_id:a}),j=Bd(Object(r.useState)(!1),2),E=j[0],C=j[1],x=Object(r.useCallback)((function(e){if(s){if(Object(O.f)("vote",f)&&p!==J.c){h(J.c);var t=e===w?null:e;l(function(e,t){var n=e.entityType,r=e.entityId,o=e.vote;return{type:Nd,payload:{entityType:n,entityId:r,vote:o},meta:t}}({entityType:n,entityId:a,vote:t},{onSuccess:function(){return h(J.e)},onError:function(){return h(J.b)}})),_({direction:t})}}else c&&c()}),[s,f,w,l,n,a,_,c,p]),I=Object(r.useCallback)((function(){return x("up")}),[x]),S=Object(r.useCallback)((function(){return x("down")}),[x]),k=Object(r.useCallback)((function(){return C(!0)}),[C]),A=Object(r.useCallback)((function(){return C(!1)}),[C]),T=Object(r.useCallback)((function(){return l({type:Ld,annotationId:a})}),[l,a]),P="annotations"===n&&v<0&&Object(O.f)("clear_votes",f);return o.a.createElement(e.Container,null,o.a.createElement(e.ThumbsUp,{onClick:I,vote:w,"aria-label":"upvote","aria-pressed":"up"===w}),g&&o.a.createElement(e.VotingModalButton,{onClick:k},Object(O.n)(v)),o.a.createElement(e.ThumbsDown,{onClick:S,vote:w,"aria-label":"downvote","aria-pressed":"down"===w}),P&&o.a.createElement(e.Button,{onClick:T},u("clear_votes")),o.a.createElement(zd,{show:E,onClose:A,voteableType:n,voteableId:a}))};Hd.defaultProps={onLoggedOutVoteAttempt:function(){}};var qd=o.a.memo(Hd);Hd.Container=c.f.div.withConfig({displayName:"VotingActions__Container",componentId:"sc-1w1brao-0"})(["font-size:",";font-weight:",";display:flex;align-items:center;cursor:default;gap:",";height:",";svg{fill:",";display:block;height:1em;cursor:pointer;}"],(function(e){return e.theme.fontSize.smallReading}),(function(e){return e.theme.fontWeight.light}),(function(e){return e.theme.space.small}),(function(e){return e.theme.space.full}),(function(e){return e.theme.color.background.on})),Hd.Button=c.f.button.withConfig({displayName:"VotingActions__Button",componentId:"sc-1w1brao-1"})(["all:unset;cursor:pointer;font-family:inherit;text-decoration:underline;:hover{text-decoration:none;}"]),Hd.VotingModalButton=Object(c.f)(Hd.Button).withConfig({displayName:"VotingActions__VotingModalButton",componentId:"sc-1w1brao-2"})(["min-width:1rem;text-align:center;"]),Hd.ThumbsUp=Object(c.f)(kd).withConfig({displayName:"VotingActions__ThumbsUp",componentId:"sc-1w1brao-3"})(["opacity:",";"],(function(e){return"down"===e.vote?"0.5":1})),Hd.ThumbsDown=Object(c.f)(Pd).withConfig({displayName:"VotingActions__ThumbsDown",componentId:"sc-1w1brao-4"})(["opacity:",";"],(function(e){return"up"===e.vote?"0.5":1}));var Wd="songPage/REPORTED_AS_ABUSIVE_SUBMITTED",Ud=function(e,t){return{type:Wd,reportableType:e,reportableId:t}},$d="songPage/REPORTED_AS_ABUSIVE",Qd=function(e,t,n){return{type:$d,reportableType:e,reportableId:t,params:n}},Gd="songPage/REPORTED_AS_ABUSIVE_SUCCEEDED",Yd="songPage/REPORTED_AS_ABUSIVE_FAILED",Kd="songPage/REPORT_ABUSE_FORM_OPENED",Zd="songPage/REPORT_ABUSE_FORM_CLOSED",Xd=function(e,t){return{type:Zd,reportableType:e,reportableId:t}},Jd=function(e){var t=e.onLoad,n=e.scriptProps,r=n.defer,o=void 0!==r&&r,a=n.async,i=void 0!==a&&a,c=n.id,l=void 0===c?"google-recaptcha-v3":c,u=e.siteKey;if(s=l,Boolean(document.querySelector("#".concat(s))))t();else{var s,f=document.createElement("script");f.id=l,f.src="https://www.google.com/recaptcha/api.js?render=".concat(u),f.defer=Boolean(o),f.async=Boolean(i),f.onload=t,document.body.appendChild(f)}};function ep(e,t,n,r,o,a,i){try{var c=e[a](i),l=c.value}catch(e){return void n(e)}c.done?t(l):Promise.resolve(l).then(r,o)}function tp(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,a=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){c=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(c)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return np(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return np(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function np(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var rp=Object(r.createContext)({}),op=(rp.Consumer,function(e){var t=e.children,n=e.scriptProps,a=e.siteKey,i=tp(Object(r.useState)(null),2),c=i[0],l=i[1],u=function(){window&&window.grecaptcha&&window.grecaptcha.ready((function(){l(window.grecaptcha)}))},s=Object(r.useCallback)((function(){c&&c.execute||Jd({siteKey:a,scriptProps:n,onLoad:u})}),[c,a,n]),f=Object(r.useCallback)(function(){var e,t=(e=z.a.mark((function e(t){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c&&c.execute||console.warn("Recaptcha not initialized. Did you call `initRecaptcha` first?"),e.next=3,c.execute(a,{action:t});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){ep(a,r,o,i,c,"next",e)}function c(e){ep(a,r,o,i,c,"throw",e)}i(void 0)}))});return function(e){return t.apply(this,arguments)}}(),[c,a]);return o.a.createElement(rp.Provider,{value:{initRecaptcha:s,executeRecaptcha:f}},t)});op.defaultProps={scriptProps:{}};function ap(){return ap=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ap.apply(this,arguments)}function ip(e,t,n,r,o,a,i){try{var c=e[a](i),l=c.value}catch(e){return void n(e)}c.done?t(l):Promise.resolve(l).then(r,o)}var cp=function e(t){var n=t.title,a=t.reportableType,l=t.reportableId,u=t.children,s=Object(i.c)(),f=Object(m.a)().t,d=Object(b.a)(a,l),p=d.reportAsAbusiveFailed,g=d.reportAsAbusiveSubmitting,y=d.reportedAsAbusive,v=d.showReportAbuseForm,O=Object(ea.a)(),w=Object(r.useContext)(rp),_=w.initRecaptcha,j=w.executeRecaptcha,E=Object(re.d)(),x=E.control,I=E.watch,S=E.handleSubmit,k="other"===I("reason",""),A=Object(r.useCallback)(function(){var e,t=(e=z.a.mark((function e(t){var n,r;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.reason,r=t.details,s(Ud(a,l)),(O?Promise.resolve(null):j("report_abuse")).then((function(e){return s(Qd(a,l,{reason:n,details:r,recaptchaToken:e}))}));case 4:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){ip(a,r,o,i,c,"next",e)}function c(e){ip(a,r,o,i,c,"throw",e)}i(void 0)}))});return function(e){return t.apply(this,arguments)}}(),[s,j,O,l,a]),T=Object(r.useCallback)((function(){s(Xd(a,l))}),[s,l,a]),P=Object(r.useCallback)((function(){_(),s(function(e,t){return{type:Kd,reportableType:e,reportableId:t}}(a,l))}),[s,_,l,a]),N=Object(r.useMemo)((function(){return[{key:"harmful",label:f("report_abuse.reasons.harmful")},{key:"discrimination",label:f("report_abuse.reasons.discrimination")},{key:"misleading",label:f("report_abuse.reasons.misleading")},{key:"suspicious",label:f("report_abuse.reasons.suspicious")},{key:"other",label:f("report_abuse.reasons.other")}]}),[f]);return o.a.createElement(o.a.Fragment,null,u({reported:y,onClick:P}),o.a.createElement(G.a,{show:v||!1,onClose:T,bodyWidth:"25rem"},o.a.createElement(c.c,{theme:h.f},o.a.createElement(e.Form,{onSubmit:S(A)},o.a.createElement(e.Title,null,n),p&&o.a.createElement(e.Error,null,f("report_abuse.error")),o.a.createElement(e.Field,{control:x,name:"reason",label:"Select a reason",rules:{required:{value:!0,message:f("report_abuse.reason_error")}},isRequired:!0},(function(t){return o.a.createElement(o.a.Fragment,null,o.a.createElement(ld,ap({name:"reason_".concat(l),options:N},t)),o.a.createElement(e.Policies,{newTab:!0,href:Po.a.communityPolicyAndModerationGuidelines},f("report_abuse.learn_more")))})),o.a.createElement(e.Field,{control:x,name:"details",label:"Details",isRequired:k,rules:{required:{value:k,message:f("report_abuse.details_error")}}},(function(e){return o.a.createElement(je.a,ap({as:"textarea",rows:5,placeholder:f("report_abuse.details_placeholder"),fullWidth:!0},e))})),o.a.createElement(e.ButtonGroup,null,o.a.createElement(e.SubmitButton,{type:"submit",disabled:g,isLoading:g},f(g?"report_abuse.submitting":"report_abuse.submit")),o.a.createElement(Vs.a,{onClick:T},f("report_abuse.cancel"))),!O&&o.a.createElement(e.RecaptchaInfo,null,"This site is protected by reCAPTCHA and the Google ",o.a.createElement(C.a,{newTab:!0,href:"https://policies.google.com/privacy"},"Privacy Policy")," and ",o.a.createElement(C.a,{newTab:!0,href:"https://policies.google.com/terms"},"Terms of Service")," apply.")))))},lp=o.a.memo(cp);cp.Title=c.f.div.withConfig({displayName:"ReportAbuse__Title",componentId:"sc-1tkacta-0"})(["font-size:",";padding-bottom:",";margin-bottom:",";border-bottom:1px solid ",";"],(function(e){return e.theme.fontSize.largeReading}),(function(e){return e.theme.space.half}),(function(e){return e.theme.space.small}),(function(e){return e.theme.color.background.on})),cp.Form=c.f.form.withConfig({displayName:"ReportAbuse__Form",componentId:"sc-1tkacta-1"})(["background-color:",";padding:",";"],(function(e){return e.theme.color.background.variant}),(function(e){return e.theme.space.large})),cp.Field=Object(c.f)((function(e){return o.a.createElement(Pr,e)})).withConfig({displayName:"ReportAbuse__Field",componentId:"sc-1tkacta-2"})(["&:not(:last-child){margin-bottom:",";}"],(function(e){return e.theme.space.full})),cp.Error=c.f.div.withConfig({displayName:"ReportAbuse__Error",componentId:"sc-1tkacta-3"})(["color:",";margin-bottom:",";"],(function(e){return e.theme.color.accent.main}),(function(e){return e.theme.space.half})),cp.RecaptchaInfo=c.f.div.withConfig({displayName:"ReportAbuse__RecaptchaInfo",componentId:"sc-1tkacta-4"})(["margin-top:",";font-size:",";color:",";font-weight:100;"],(function(e){return e.theme.space.large}),(function(e){return e.theme.fontSize.smallReading}),(function(e){return Object(P.g)(e.theme.color.background.on,.6)})),cp.Policies=Object(c.f)((function(e){return o.a.createElement(C.a,e)})).withConfig({displayName:"ReportAbuse__Policies",componentId:"sc-1tkacta-5"})(["display:inline-block;text-decoration:none;font-size:",";color:",";border-bottom:1px dashed ",";font-weight:100;margin-bottom:",";"],(function(e){return e.theme.fontSize.smallReading}),(function(e){return Object(P.g)(e.theme.color.background.on,.6)}),(function(e){return Object(P.g)(e.theme.color.background.on,.6)}),(function(e){return e.theme.space.small})),cp.ButtonGroup=c.f.div.withConfig({displayName:"ReportAbuse__ButtonGroup",componentId:"sc-1tkacta-6"})(["margin-top:",";display:flex;align-items:center;"],(function(e){return e.theme.space.xLarge})),cp.SubmitButton=Object(c.f)((function(e){return o.a.createElement(Bn.a,e)})).withConfig({displayName:"ReportAbuse__SubmitButton",componentId:"sc-1tkacta-7"})(["margin:0;margin-right:",";padding:"," ",";display:flex;align-items:center;&:hover svg{fill:black;stroke:white;}"],(function(e){return e.theme.space.full}),(function(e){return e.theme.space.half}),(function(e){return e.theme.space.full}));var up="songPage/MORE_ANNOTATION_COMMENTS_CLICKED",sp="songPage/ANNOTATION_COMMENTS_FETCHED",fp="songPage/ANNOTATION_COMMENTS_FETCH_FAILED",dp="songPage/ANNOTATION_COMMENT_SUBMITTED",pp="songPage/ANNOTATION_COMMENT_SUCCEEDED",mp="songPage/ANNOTATION_COMMENT_MODERATION_SUBMITTED",hp="songPage/ANNOTATION_COMMENT_MODERATION_SUCCEEDED";function gp(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,a=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){c=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(c)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return bp(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return bp(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function bp(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var yp=function e(t){var n=t.annotationId,a=t.onSuccess,c=t.onLoggedOutCommentAttempt,l=Object(m.a)().t,u=Object(i.c)(),s=Object(ea.a)(),f=gp(Object(r.useState)(!1),2),d=f[0],p=f[1],h=Object(y.a)("song:annotation_comment_submitted",{annotation_id:n}),g=Object(b.a)("annotations",n),v=Object(r.useCallback)((function(e){e.preventDefault(),e.nativeEvent&&e.nativeEvent.stopImmediatePropagation(),s?p((function(e){return!e})):c()}),[s,c]),w=Object(r.useCallback)((function(e){var t=e.body,r=e.reason,o=e.name,i=e.email,c=e.setError;return new Promise((function(e,l){u(function(e,t){var n=t.body,r=t.reason,o=t.name,a=t.email,i=t.userId,c=t.onSuccess,l=t.onError;return{type:dp,annotationId:e,body:n,reason:r,name:o,email:a,userId:i,onSuccess:c,onError:l}}(n,{userId:s,body:t,reason:r,name:o,email:i,onSuccess:function(){e(),p(!1),a(),h({reason:r})},onError:function(e){Object(yd.a)(e.validation_errors,c),l(e)}}))}))}),[n,u,s,a,h]);return s&&!Object(O.f)("create_comment",g)?null:o.a.createElement("div",null,!d&&o.a.createElement(e.ToggleButton,{type:"button",onClick:v},l("annotations.suggestion.cta")),d&&o.a.createElement(bd,{prefix:"annotation_suggestion",bodyI18nKey:"annotations.suggestion.body",onSubmit:w,onCancel:v}))},vp=o.a.memo(yp);yp.ToggleButton=Object(c.f)((function(e){return o.a.createElement(Bn.a,e)})).withConfig({displayName:"NewAnnotationComment__ToggleButton",componentId:"kzaewh-0"})(["margin:0;border-radius:0;padding:"," ",";width:100%;text-align:left;font-size:",";&:hover{background-color:inherit;color:inherit;cursor:text;}"],(function(e){return e.theme.space.half}),(function(e){return e.theme.space.full}),(function(e){return e.theme.fontSize.reading}));var Op=n(255),wp=n(383),_p=n(384),jp="songPage/SONG_COMMENTS_VISIBLE",Ep=function(e){return{type:jp,songId:e}},Cp="songPage/SONG_INITIAL_COMMENTS_LOADED",xp=function(){return{type:Cp}},Ip="songPage/MORE_COMMENTS_CLICKED",Sp="songPage/COMMENTS_FETCHED",kp=function(e,t){var n=t.result,r=t.entities;return{type:Sp,songId:e,result:n,entities:r}},Ap="songPage/COMMENTS_FETCH_FAILED",Tp=function(e){return{type:Ap,songId:e}},Pp="songPage/COMMENT_SUBMITTED",Np=function(e,t){var n=e.songId,r=e.body,o=e.name,a=e.email;return{type:Pp,songId:n,body:r,name:o,email:a,meta:t}},Mp="songPage/COMMENT_SUBMIT_SUCCEEDED",Rp="songPage/COMMENT_DELETED",Lp=function(e,t){var n=e.commentId;return{type:Rp,commentId:n,meta:t}},Dp="songPage/COMMENT_DELETE_SUCCEEDED",Fp="songPage/COMMENT_MARKED_AS_SPAM",zp=function(e,t){var n=e.commentId;return{type:Fp,commentId:n,meta:t}},Bp="songPage/COMMENT_MARK_AS_SPAM_SUCCEEDED",Vp=n(285),Hp=function e(t){var n=t.className,a=t.commentId,i=Object(m.a)().t,c=Object(ie.a)(),l=Object(b.a)("comments",a),u=Object(O.f)("mark_spam",l),s=Object(O.f)("destroy",l),f=u||s,d=Object(da.a)("success",i("comments.moderate.mark_spam.success")),p=Object(da.a)("error",i("comments.moderate.mark_spam.failure")),h=Object(ue.a)({submitAction:zp,extraValues:{commentId:a},onSuccess:d,onError:p}),g=Object(r.useCallback)((function(){confirm(i("comments.moderate.mark_spam.confirm"))&&h.onSubmit()}),[i,h]),y=Object(da.a)("success",i("comments.moderate.delete.success")),v=Object(da.a)("error",i("comments.moderate.delete.failure")),w=Object(ue.a)({submitAction:Lp,extraValues:{commentId:a},onSuccess:y,onError:v}),_=Object(r.useCallback)((function(){confirm(i("comments.moderate.delete.confirm"))&&w.onSubmit()}),[i,w]);return f?o.a.createElement(e.Container,{className:n},o.a.createElement(N.a,{renderToggle:function(){return o.a.createElement(j.a,{aspectRatio:.78,lineHeight:.8125,verticalAlign:"middle",svg:Vp.a})}},(function(){return o.a.createElement(e.ManageDropdownList,{isMobile:c},u&&o.a.createElement("li",null,o.a.createElement(e.TextButton,{onClick:g,disabled:h.isSubmitting},i("comments.moderate.mark_spam.submit"),h.isSubmitting&&o.a.createElement(e.Spinner,null))),s&&o.a.createElement("li",null,o.a.createElement(e.TextButton,{onClick:_,disabled:w.isSubmitting},o.a.createElement(e.DangerText,null,i("comments.moderate.delete.submit")),w.isSubmitting&&o.a.createElement(e.Spinner,null))))}))):null},qp=o.a.memo(Hp);function Wp(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,a=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){c=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(c)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Up(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Up(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Up(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}Hp.Container=c.f.div.withConfig({displayName:"CommentModerate__Container",componentId:"sc-34cmjs-0"})(["display:flex;align-items:center;svg{fill:",";}"],(function(e){return e.theme.color.background.on})),Hp.ManageDropdownList=c.f.ul.withConfig({displayName:"CommentModerate__ManageDropdownList",componentId:"sc-34cmjs-1"})(["",";background-color:",";border:1px solid ",";margin-top:",";font-size:",";position:absolute;"," min-width:100%;cursor:pointer;white-space:nowrap;li{color:",";}&:before{"," ","}"],Object(T.a)("dropdown"),(function(e){return e.theme.color.background.main}),(function(e){return e.theme.color.background.on}),(function(e){return e.theme.space.half}),(function(e){return e.theme.fontSize.smallReading}),(function(e){return e.isMobile?"right: -4px;":"left: -4px;"}),(function(e){return e.theme.color.background.on}),(function(e){return Object(P.b)({direction:"top",size:"8px",color:e.theme.color.background.main,borderColor:e.theme.color.background.on})}),(function(e){return e.isMobile?"left: unset; right: 1px;":"left: 10px;"})),Hp.TextButton=Object(c.f)(M.a).withConfig({displayName:"CommentModerate__TextButton",componentId:"sc-34cmjs-2"})(["padding:"," ",";text-align:left;"],(function(e){return e.theme.space.xSmall}),(function(e){return e.theme.space.half})),Hp.DangerText=c.f.span.withConfig({displayName:"CommentModerate__DangerText",componentId:"sc-34cmjs-3"})(["color:",";"],(function(e){return e.theme.color.accent.main})),Hp.Spinner=Object(c.f)(R.a).withConfig({displayName:"CommentModerate__Spinner",componentId:"sc-34cmjs-4"})(["fill:none !important;vertical-align:-2px;stroke:",";padding-left:",""],(function(e){return e.theme.color.background.on}),(function(e){return e.theme.space.half}));var $p=function e(t){var n=t.commentId,a=t.controls,i=Object(b.a)("comments",n),c=i.author,l=i.anonymousAuthor,u=i.body,s=i.createdAt,f=i.reason,d=void 0===f?null:f,p=Object(m.a)().t,h=Wp(Object(r.useState)(!1),2),g=h[0],y=h[1],v=Object(r.useCallback)((function(){return y(!g)}),[g]);return o.a.createElement(e.Container,null,o.a.createElement(e.Meta,null,o.a.createElement(Op.a,{content:c?o.a.createElement(wp.a,{userId:c}):null},o.a.createElement(e.UserBadge,{id:c,anonymousUser:l,usernameFontSize:"reading",userRoleFontSize:"smallReading"})),o.a.createElement(e.Date,null,o.a.createElement(ic,{time:s}))),d&&o.a.createElement(e.Reason,null,p("reason.sentence_intro_react"),o.a.createElement(e.ReasonReference,{href:d.contextUrl,target:"_blank"},p("reason.inline.".concat(d.name)))),o.a.createElement(e.Body,null,o.a.createElement(gf.a,{html:u.html})),o.a.createElement(e.Footer,null,o.a.createElement(qd,{voteableType:"comments",voteableId:n,onLoggedOutVoteAttempt:v}),o.a.createElement(e.ControlsContainer,null,a,o.a.createElement(e.Moderate,{commentId:n}))),g&&o.a.createElement(xd.a,{closeForm:function(){return y(!1)},showDivider:!0}))},Qp=o.a.memo($p);function Gp(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,a=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){c=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(c)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Yp(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Yp(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Yp(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}$p.Container=c.f.div.withConfig({displayName:"Comment__Container",componentId:"qhf03b-0"})(["padding:"," 0;"],(function(e){return e.theme.space.large})),$p.UserBadge=Object(c.f)((function(e){return o.a.createElement(_p.a,e)})).withConfig({displayName:"Comment__UserBadge",componentId:"qhf03b-1"})(['img,[role="img"]{width:2.5rem;height:2.5rem;}']),$p.Meta=c.f.div.withConfig({displayName:"Comment__Meta",componentId:"qhf03b-2"})(["display:flex;justify-content:space-between;"]),$p.Date=c.f.div.withConfig({displayName:"Comment__Date",componentId:"qhf03b-3"})(["margin-top:auto;margin-bottom:auto;font-size:",";font-weight:",";"],(function(e){return e.theme.fontSize.smallReading}),(function(e){return e.theme.fontWeight.light})),$p.Body=c.f.div.withConfig({displayName:"Comment__Body",componentId:"qhf03b-4"})(["margin:"," 0;"],(function(e){return e.theme.space.xxLarge})),$p.Reason=c.f.div.withConfig({displayName:"Comment__Reason",componentId:"qhf03b-5"})(["font-size:",";font-weight:",";margin:"," 0;"],(function(e){return e.theme.fontSize.smallReading}),(function(e){return e.theme.fontWeight.light}),(function(e){return e.theme.space.large})),$p.ReasonReference=c.f.a.withConfig({displayName:"Comment__ReasonReference",componentId:"qhf03b-6"})(["color:currentColor;text-decoration:underline;"]),$p.ControlsContainer=c.f.div.withConfig({displayName:"Comment__ControlsContainer",componentId:"qhf03b-7"})(["display:flex;&:empty{display:none;}"]),$p.Moderate=Object(c.f)((function(e){return o.a.createElement(qp,e)})).withConfig({displayName:"Comment__Moderate",componentId:"qhf03b-8"})(["margin-left:",";"],(function(e){return e.theme.space.small})),$p.Footer=c.f.div.withConfig({displayName:"Comment__Footer",componentId:"qhf03b-9"})(["display:flex;justify-content:space-between;align-items:center;"]);var Kp=function e(t){var n,a,c=t.annotationId,l=t.commentId,u=Object(i.c)(),s=Object(m.a)().t,f=Object(b.a)("comments",l),d=Object(y.a)("song:annotation_comment_archived",{annotation_id:c,comment_id:l,reason:null===(n=f.reason)||void 0===n?void 0:n.slug}),p=Object(y.a)("song:annotation_comment_integrated",{annotation_id:c,comment_id:l,reason:null===(a=f.reason)||void 0===a?void 0:a.slug}),h=Object(O.f)("integrate",f),g=Object(O.f)("archive",f),v=Object(ci.a)("youIntegratedAComment"),w=Object(ci.a)("youArchivedAComment"),_=Gp(Object(r.useState)(""),2),j=_[0],E=_[1],C=Gp(Object(r.useState)(!1),2),x=C[0],I=C[1],S=Object(r.useCallback)((function(e){I(!0),E(e),u(function(e,t){var n=t.commentId,r=t.moderationType,o=t.onSuccess,a=t.onError;return{type:mp,annotationId:e,commentId:n,moderationType:r,onSuccess:o,onError:a}}(c,{commentId:l,moderationType:e,onSuccess:function(){I(!1),E(""),"integrate"===e?p():d()},onError:function(){I(!1),E("")}}))}),[c,l,u,d,p]);return h||g?o.a.createElement(e.Controls,null,h&&o.a.createElement(L.a,{disabled:x,showLoadingSpinner:"integrate"===j,onClick:function(){return S("integrate")},"data-moderation":"integrate"},s("annotations.comment.integrate"),o.a.createElement(e.IQ,null,Object(O.n)(v)," IQ")),g&&o.a.createElement(L.a,{secondary:!0,disabled:x,onClick:function(){return S("archive")},"data-moderation":"archive",showLoadingSpinner:"archive"===j},o.a.createElement("span",null,s("annotations.comment.archive"),o.a.createElement(e.IQ,null,Object(O.n)(w)," IQ")))):null},Zp=o.a.memo(Kp);Kp.Controls=c.f.div.withConfig({displayName:"AnnotationCommentModeration__Controls",componentId:"sc-4lllm8-0"})(["display:flex;& > *:not(:last-child){margin-right:",";}"],(function(e){return e.theme.space.half})),Kp.IQ=c.f.span.withConfig({displayName:"AnnotationCommentModeration__IQ",componentId:"sc-4lllm8-1"})(["margin-left:",";color:",";display:inline-block;text-decoration:none;"],(function(e){return e.theme.space.quarter}),(function(e){return Object(P.g)(e.theme.color.background.on,.6)}));function Xp(e){var t=e.annotationId,n=Object(i.c)(),a=Object(m.a)().t,c=Object(b.a)("annotations",t),l=c.commentCount,u=c.commentsLoading,s=void 0!==u&&u,f=function(e){var t=Object(b.a)("annotations",e),n=t.topComment,r=t.comments,o=void 0===r?bc()([n]):r;return Object(i.d)((function(e){return o.filter((function(t){var n=fr()(e,["entities","comments",t,"state"]);return!n||"pending"===n}))}))}(t),d=Object(y.a)("song:annotation_comments_load_more_clicked",{annotation_id:t}),p=Object(r.useCallback)((function(){n(function(e){return{type:up,annotationId:e}}(t)),d()}),[n,t,d]);return 0===l?null:o.a.createElement(Xp.Container,null,f.map((function(e){return o.a.createElement(o.a.Fragment,{key:e},o.a.createElement(Xp.Divider,null),o.a.createElement(Qp,{commentId:e,controls:o.a.createElement(Zp,{commentId:e,annotationId:t})}))})),l>f.length&&o.a.createElement(Xp.LoadMore,{disabled:s,showLoadingSpinner:s,onClick:p},"".concat(a("comments.show_more")," (").concat(l-f.length,")")))}var Jp=o.a.memo(Xp);function em(){return em=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},em.apply(this,arguments)}Xp.Container=c.f.div.withConfig({displayName:"AnnotationComments__Container",componentId:"sc-1r5ims6-0"})(["margin:"," 0 0 0;"],(function(e){return e.theme.space.large})),Xp.Divider=c.f.hr.withConfig({displayName:"AnnotationComments__Divider",componentId:"sc-1r5ims6-1"})(["border-color:inherit;margin:0;"]),Xp.LoadMore=Object(c.f)((function(e){return o.a.createElement(L.a,e)})).withConfig({displayName:"AnnotationComments__LoadMore",componentId:"sc-1r5ims6-2"})(["margin-top:",";"],(function(e){return e.theme.space.full}));var tm=o.a.createElement("path",{d:"M19.29 1.91v11.46H7.69l-.57.7L5 16.64v-3.27H1.91V1.91h17.38M21.2 0H0v15.28h3.12V22l5.48-6.72h12.6V0z"}),nm=o.a.createElement("path",{d:"M4.14 4.29h12.93V6.2H4.14zm0 4.09h12.93v1.91H4.14z"}),rm=function(e){return o.a.createElement("svg",em({viewBox:"0 0 21.2 22"},e),tm,nm)};function om(){return om=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},om.apply(this,arguments)}var am=o.a.createElement("path",{d:"M16.03 7.39v12.7H1.91V7.39H0V22h17.94V7.39h-1.91"}),im=o.a.createElement("path",{d:"M8.08 3.7v11.81h1.91V3.63l2.99 2.98 1.35-1.35L9.07 0 3.61 5.46l1.36 1.35L8.08 3.7"}),cm=function(e){return o.a.createElement("svg",om({viewBox:"0 0 17.94 22"},e),am,im)};function lm(){return lm=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},lm.apply(this,arguments)}var um=o.a.createElement("path",{d:"M16 3.93C13.56 2 11.09 2.38 8.91 2.72a9.31 9.31 0 0 1-3.8.08L5.5.31 3.52 0 2 9.55l-.28 1.59-.1.59L0 22.71 2 23l1.54-10.05a9.43 9.43 0 0 0 5.68.36 7.87 7.87 0 0 1 4.43.13l1.17.51.18-1.27c.45-2.67.89-5.28 1.34-7.79l.1-.59zm-2.75 7.28a11.57 11.57 0 0 0-4.34.11c-1.84.29-3.45.53-5.05-.46L4 9.93c.29-1.67.58-3.38.88-5.12a11.54 11.54 0 0 0 4.34-.11c1.85-.29 3.46-.54 5.07.47q-.52 2.95-1.04 6.05z"}),sm=function(e){return o.a.createElement("svg",lm({viewBox:"0 0 16.48 23.01"},e),um)};function fm(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,a=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){c=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(c)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return dm(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return dm(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function dm(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var pm=function e(t){var n=t.id,a=t.alwaysShowCommentForm,i=t.isDescription,c=t.className,l=Object(b.a)("annotations",n).commentCount,u=Object(m.a)().t,s=Object(ie.a)(),f=jd("report_abuse"),d=!a||Boolean(l),p=function(e){var t=e.states,n=e.defaultState,o=void 0===n?null:n,a=Ed(Object(r.useState)(o),2),i=a[0],c=a[1],l=Object(r.useCallback)((function(e){return c((function(t){return t!==e?e:o}))}),[o]);return{toggleState:i,toggles:t.map((function(e){return function(){return l(e)}}))}}({states:["auth_form","comments","share_drawer"]}),h=p.toggleState,g=fm(p.toggles,3),v=g[0],O=g[1],w=g[2],_=i?"description_annotation":"annotation",j=Object(y.a)("song:toggle_".concat(_,"_comments"),{annotation_id:n}),E=Object(r.useCallback)((function(){O(),j()}),[O,j]),C=Object(r.useCallback)((function(){"comments"!==h&&E()}),[h,E]);return o.a.createElement(o.a.Fragment,null,o.a.createElement(e.Container,{className:c},o.a.createElement(qd,{voteableType:"annotations",voteableId:n,onLoggedOutVoteAttempt:v}),o.a.createElement(e.FlexSpace,null),d&&o.a.createElement(Bl.a,{icon:o.a.createElement(rm,null),label:l,showZero:!1,underline:!1,onClick:E}),!s&&o.a.createElement(e.Pyong,{pyongableType:"annotations",pyongableId:n,onLoggedOutPyongAttempt:v}),o.a.createElement(Bl.a,{icon:o.a.createElement(cm,null),label:u("annotation.share"),underline:!1,onClick:w}),f&&o.a.createElement(lp,{title:u("report_abuse.report_annotation"),reportableType:"annotations",reportableId:n},(function(t){var n=t.reported,r=t.onClick;return o.a.createElement(N.a,{hover:!0,renderToggle:function(t){var n=t.hovering;return o.a.createElement(e.ReportAbuse,{hovering:n},o.a.createElement(sm,null))}},(function(t){var a=t.onClose;return o.a.createElement(e.ReportAbuseDropdown,{onClick:function(e){a(e),r(e)},disabled:n},u(n?"report_abuse.reported_annotation":"report_abuse.report_annotation"))}))}))),"share_drawer"===h&&o.a.createElement(e.ShareContainer,null,o.a.createElement(e.ShareLabel,null,u("annotations.share")),o.a.createElement(rs,{shareableType:"annotations",shareableId:n})),a&&o.a.createElement(vp,{annotationId:n,onSuccess:C,onLoggedOutCommentAttempt:v}),"comments"===h&&o.a.createElement(o.a.Fragment,null,!a&&o.a.createElement(vp,{annotationId:n}),o.a.createElement(Jp,{annotationId:n})),"auth_form"===h&&o.a.createElement(xd.a,{closeForm:v,showDivider:!0,reason:"annotation_actions"}))},mm=o.a.memo(pm);function hm(){return hm=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},hm.apply(this,arguments)}pm.Container=c.f.div.withConfig({displayName:"AnnotationActions__Container",componentId:"sc-1597gb-0"})(["font-size:",";display:flex;align-items:center;svg{display:block;height:1em;}& > *{margin-right:",";}& > *:last-child{margin-right:0;}&:last-child{margin-bottom:0;}"],(function(e){return e.theme.fontSize.smallReading}),(function(e){return e.theme.space.full})),pm.FlexSpace=c.f.div.withConfig({displayName:"AnnotationActions__FlexSpace",componentId:"sc-1597gb-1"})(["flex-grow:1;"]),pm.Pyong=Object(c.f)((function(e){return o.a.createElement(qu.a,e)})).withConfig({displayName:"AnnotationActions__Pyong",componentId:"sc-1597gb-2"})(["display:flex;"]),pm.ReportAbuse=c.f.div.withConfig({displayName:"AnnotationActions__ReportAbuse",componentId:"sc-1597gb-3"})(["color:",";padding:",";cursor:pointer;svg{fill:currentColor;}",""],(function(e){return e.theme.color.background.on}),(function(e){return e.theme.space.half}),(function(e){return e.hovering&&"\n    background-color: ".concat(e.theme.color.background.on,";\n    color: ").concat(e.theme.color.background.main,";\n  ")})),pm.ReportAbuseDropdown=c.f.button.withConfig({displayName:"AnnotationActions__ReportAbuseDropdown",componentId:"sc-1597gb-4"})(["cursor:pointer;padding:",";background-color:white;width:max-content;text-align:left;border:1px solid black;position:absolute;right:0;&:disabled{color:",";}&:hover:not(:disabled){background-color:black;color:white;}"],(function(e){return e.theme.space.quarter}),(function(e){return e.theme.color.background.onVariant})),pm.ShareContainer=c.f.div.withConfig({displayName:"AnnotationActions__ShareContainer",componentId:"sc-1597gb-5"})(["padding:"," 0;border-top:1px solid ",";"],(function(e){return e.theme.space.full}),(function(e){return e.theme.color.background.on})),pm.ShareLabel=c.f.h3.withConfig({displayName:"AnnotationActions__ShareLabel",componentId:"sc-1597gb-6"})(["font-weight:",";text-align:center;margin-bottom:",";"],(function(e){return e.theme.fontWeight.light}),(function(e){return e.theme.space.full}));var gm=function e(t){var n=t.hasAd,r=t.hasBackgroundColor,a=t.id,i=Object(b.a)("annotations",a),c=i.authors,l=i.createdBy,u=i.acceptedBy,s=i.body,f=i.createdAt,d=i.state,p=i.verified,h=i.verifiedBy,g=i.showProposals,v=Object(m.a)().t,w="pending"===d,_=Object(O.f)("accept",i),j=Object(y.a)("song:show_annotation_contributors",{annotation_id:a}),E=Object(y.a)("song:show_annotation_history",{annotation_id:a}),C=o.a.createElement(e.Verified,null,o.a.createElement(Of,{id:h,avatarSize:40}),o.a.createElement(ic,{time:f})),x=Object(ce.a)({desktop:"desktop_song_annotation",mobile:"mobile_song_annotation"});return o.a.createElement(o.a.Fragment,null,o.a.createElement(e.Container,{verified:p,hasBackgroundColor:r},w&&o.a.createElement(If,{id:a}),p?C:o.a.createElement(Pf,{entityId:a,entityType:"annotations",label:v("attribution.annotation.heading"),contributors:c,authorId:l,acceptedById:u,createdAt:f,state:d,onShowContributors:j,onShowEditHistory:E,renderEditHistoryModal:function(e){return o.a.createElement(Wf,hm({annotationId:a},e))}}),o.a.createElement(gf.a,{html:s.html}),o.a.createElement($f,{id:a}),g&&o.a.createElement(rd,{id:a}),_&&w&&o.a.createElement(_d,{id:a}),o.a.createElement(e.AnnotationActions,{id:a,alwaysShowCommentForm:!0}),n&&o.a.createElement(e.Ad,null,o.a.createElement(bf.a,{name:x,instance:"".concat(x,"_").concat(a),placeholderSize:{width:300,height:250},hasFixedHeight:!0,maxCreativeHeight:250}))))};gm.defaultProps={hasAd:!1,hasBackgroundColor:!0};var bm=o.a.memo(gm);gm.Container=c.f.div.withConfig({displayName:"Annotation__Container",componentId:"l76qjh-0"})(["padding:",";background-color:",""],(function(e){return e.theme.space.xLarge}),(function(e){return e.hasBackgroundColor?e.verified?e.theme.color.primary.main:e.theme.color.background.variant:"transparent"})),gm.Verified=c.f.div.withConfig({displayName:"Annotation__Verified",componentId:"l76qjh-1"})(["font-size:",";display:flex;flex-direction:row;justify-content:space-between;"],(function(e){return e.theme.fontSize.smallReading})),gm.Ad=c.f.div.withConfig({displayName:"Annotation__Ad",componentId:"l76qjh-2"})(["display:flex;justify-content:center;margin-top:",";margin-bottom:",";"],(function(e){return e.theme.space.large}),(function(e){return e.theme.space.small})),gm.AnnotationActions=Object(c.f)((function(e){return o.a.createElement(mm,e)})).withConfig({displayName:"Annotation__AnnotationActions",componentId:"l76qjh-3"})(["margin:"," 0;"],(function(e){return e.theme.space.large}));var ym=o.a.forwardRef((function(e,t){var n=e.id,a=e.hasVerifiedAnnotation,c=e.forFragment,l=Object(i.c)(),u=Object(b.a)("referents",n),s=Object(i.d)((function(e){return e.songPage.editingAnnotationId})),f=fr()(u,"annotations",[]),d=f[f.length-1],p=f.includes(s),m=Object(r.useCallback)((function(e){l(Object(Ns.J)({id:n,closeMethod:e,fragment:c}))}),[l,n,c]),h=Object(r.useCallback)((function(){return m("button")}),[m]),g=Object(r.useCallback)((function(){return m("click_outside")}),[m]),y=Object(r.useCallback)((function(){return m("escape_key")}),[m]);Object(ei.a)({element:t,onClickOutside:g}),Object(A.a)("Escape",y,{enableOnTags:["TEXTAREA"]});var v=Object(i.d)((function(e){return e.session.showAds})),O=o.a.createElement(ym.Controls,null,o.a.createElement(ym.Control,{onClick:h},o.a.createElement(mn.a,null)));return Boolean(null==u?void 0:u.annotations)?o.a.createElement(ym.Container,{ref:t},o.a.createElement("div",{style:{position:"relative"}},v&&o.a.createElement(ym.AdLeaderboard,{verified:a},o.a.createElement(bf.a,{name:"genius_desktop_song_annotation_leaderboard",instance:"annotation_".concat(n),hasFixedHeight:!0,maxCreativeHeight:50,placeholderSize:{width:320,height:50},keepPlaceholder:!0})),o.a.createElement("div",null,f.map((function(e){return o.a.createElement(ym.InnerContainer,{key:e},e===s?o.a.createElement(hf,{id:e}):o.a.createElement(bm,{id:e,hasAd:e===d}))}))),!p&&O)):o.a.createElement(ym.Container,{ref:t},o.a.createElement(ym.InnerContainer,{verified:a},o.a.createElement(zs,{verified:a})),O)}));ym.displayName="ForwardRef(BaseAnnotation)";var vm=o.a.memo(ym);ym.Container=c.f.div.withConfig({displayName:"BaseAnnotationdesktop__Container",componentId:"sc-1l72s1l-0"})(["display:flex;position:relative;margin-right:",";flex-direction:column;& + br{display:none;}"],(function(e){return"calc(".concat(e.theme.grid.columnWidth," + ").concat(e.theme.grid.gap,")")})),ym.InnerContainer=c.f.div.withConfig({displayName:"BaseAnnotationdesktop__InnerContainer",componentId:"sc-1l72s1l-1"})(["margin-bottom:",";position:relative;&:not(:first-child):before{content:'';width:20px;height:",";top:-",";display:block;position:absolute;transform:translateX(-100%);background-color:#fff;}"],(function(e){return e.theme.grid.gap}),(function(e){return"calc(100% + (".concat(e.theme.grid.gap," * 2))")}),(function(e){return e.theme.grid.gap})),ym.Controls=c.f.div.withConfig({displayName:"BaseAnnotationdesktop__Controls",componentId:"sc-1l72s1l-2"})(["width:70px;color:",";position:absolute;left:calc(100% + ",");top:",";"],(function(e){return e.theme.color.background.on}),(function(e){return e.theme.space.small}),(function(e){return e.theme.grid.gap})),ym.Control=c.f.button.withConfig({displayName:"BaseAnnotationdesktop__Control",componentId:"sc-1l72s1l-3"})(["font-size:",";width:2.5rem;height:2.5rem;cursor:pointer;color:inherit;background:inherit;font-weight:inherit;border:",";border-radius:50%;position:sticky;top:0;svg{display:inline;width:",";overflow:visible;margin:auto;fill:",";}&:hover{","}"],(function(e){return e.theme.fontSize.smallReading}),(function(e){return"1px solid ".concat(e.theme.color.background.on)}),(function(e){return e.theme.space.half}),(function(e){return e.theme.color.background.on}),(function(e){return Object(P.d)(e.theme.color.background.on)})),ym.AdLeaderboard=c.f.div.withConfig({displayName:"BaseAnnotationdesktop__AdLeaderboard",componentId:"sc-1l72s1l-4"})(["display:flex;justify-content:center;border-bottom:1px solid ",";padding:"," 0;background-color:",";"],(function(e){return e.theme.color.primary.onVariant}),(function(e){return e.theme.space.full}),(function(e){return e.verified?e.theme.color.primary.main:e.theme.color.background.variant}));var Om=n(32);function wm(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?wm(Object(n),!0).forEach((function(t){jm(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wm(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function jm(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Em(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,a=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){c=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(c)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Cm(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Cm(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Cm(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function xm(e,t,n,r,o,a,i){try{var c=e[a](i),l=c.value}catch(e){return void n(e)}c.done?t(l):Promise.resolve(l).then(r,o)}function Im(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){xm(a,r,o,i,c,"next",e)}function c(e){xm(a,r,o,i,c,"throw",e)}i(void 0)}))}}var Sm=Rs()(Im(z.a.mark((function e(){var t,r,o,a;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.e(3).then(n.bind(null,1107));case 2:return t=e.sent,r=t.gsap,e.next=6,n.e(3).then(n.bind(null,1105));case 6:return o=e.sent,a=o.ScrollTrigger,r.registerPlugin(a),e.abrupt("return",a);case 10:case"end":return e.stop()}}),e)})))),km="4rem",Am="5.125rem",Tm=function e(t){var n=t.id,a=t.hasVerifiedAnnotation,c=t.forFragment,l=t.fragmentRef,u=t.onClose,s=Object(m.a)().t,f=Object(b.a)("referents",n),d=Boolean(null==f?void 0:f.annotations),p=Object(i.d)((function(e){return e.session.showAds&&"filled"===fr()(e.ads,"desktop_song_annotation.desktop_song_annotation_".concat(n,".state"))})),h=Object(i.d)((function(e){return e.session.showAds})),g=Em(Object(r.useState)(!1),2),y=g[0],v=g[1],w=Em(Object(r.useState)(!1),2),_=w[0],j=w[1],E=Object(r.useRef)(),C=Object(r.useRef)(),x=Object(r.useRef)(),I=Object(r.useRef)(),S=Object(r.useRef)(),k=Object(r.useRef)([]),A=Object(r.useRef)(),T=Object(r.useCallback)((function(e){var t=document.getElementById(Ph),n=document.createElement("div");t.appendChild(n),n.style.setProperty("height","calc(".concat(e,")"));var r=n.getBoundingClientRect().height;return t.removeChild(n),r}),[]),P=Object(Da.a)("songHeader"),N=Object(r.useRef)(T(P)),M=Object(r.useCallback)((function(){return"top ".concat(N.current,"px")}),[]),R=Object(r.useCallback)((function(){k.current.length&&k.current.forEach((function(e){return e.refresh()}))}),[]),L=Object(r.useCallback)((function(){var e=S.current;!_&&e&&e.getBoundingClientRect().top<0&&(e.scrollIntoView(),j(!0))}),[_]),D=Object(r.useCallback)((function(){if(l.current&&C.current){var e=C.current,t=document.getElementById(Ph).getBoundingClientRect(),n=e.getBoundingClientRect(),r=l.current.getBoundingClientRect(),o=window.scrollY;(!A.current||t.height<=A.current)&&(A.current=t.height);var a=A.current,i=window.innerHeight-N.current,c=Math.max(0,a-Math.min(n.height,i)),u=t.top+o,s=r.top+o-u,f=n.height>a;Object(Om.c)("--annotation-position","absolute"),Object(Om.c)("--annotation-height","".concat(n.height,"px")),Object(Om.c)("--annotation-width","".concat(n.width,"px")),Object(Om.c)("--annotation-fragment-top","".concat(s,"px")),Object(Om.c)("--annotation-top-limit","".concat(c,"px")),Object(Om.c)("--annotation-fragment-height","".concat(r.height,"px")),s>c?Object(Om.c)("--annotation-callout-offset-top","".concat(s-c,"px")):Object(Om.b)("--annotation-callout-offset-top"),f&&Object(Om.c)("--annotation-offset","0px"),R(),v(!0)}}),[l,R]),F=Object(r.useCallback)((function(){["--annotation-position","--annotation-width","--annotation-height","--annotation-fragment-top","--annotation-fragment-height","--annotation-top-limit","--annotation-offset","--annotation-callout-offset-top"].forEach((function(e){Object(Om.b)(e)}))}),[]);return Object(r.useEffect)((function(){return function(){F(),u&&u()}}),[F,u]),Object(r.useEffect)((function(){window.requestAnimationFrame(D);var e=setTimeout((function(){window.requestAnimationFrame(D)}),100),t=new O.c((function(){window.requestAnimationFrame(D)}));return x.current&&t.observe(x.current),function(){t.disconnect(),clearTimeout(e)}}),[D]),Object(r.useEffect)((function(){p&&window.requestAnimationFrame(D)}),[p,D]),Object(r.useEffect)((function(){N.current=T(P),R()}),[P,R,T]),Object(r.useLayoutEffect)((function(){if(d&&y)return Sm().then((function(e){var t={trigger:C.current,start:M,end:"bottom bottom"};window.requestAnimationFrame((function(){k.current.push(e.create(_m(_m({},t),{},{pin:"#".concat(Ph),pinSpacer:"#".concat(Nh)}))),k.current.push(e.create(_m(_m({},t),{},{pin:I.current,pinSpacing:!1}))),window.requestAnimationFrame(D),window.requestAnimationFrame(L)}))})),function(){k.current.length&&(k.current.forEach((function(e){return e.kill()})),k.current=[])}}),[d,y,D,M,L,l]),o.a.createElement(o.a.Fragment,null,Object(Ne.createPortal)(o.a.createElement(e.Grid,{ref:E},o.a.createElement(e.Column,null,o.a.createElement(Ps.Content,null,o.a.createElement(e.Sticky,{ref:C,distanceAboveSongHeader:P,"aria-label":s("annotation.singular_noun"),showAds:h},o.a.createElement(e.Callout,{ref:I,verified:a,visible:d,showAds:h}),o.a.createElement(e.Top,{ref:S,distanceAboveSongHeader:P}),o.a.createElement(vm,{id:n,hasVerifiedAnnotation:a,forFragment:c,ref:x}))))),document.getElementById("annotation-portal-target")))},Pm=o.a.memo(Tm);Tm.Grid=Object(c.f)(La.a).withConfig({displayName:"AnnotationPortaldesktop__Grid",componentId:"sc-17hre1n-0"})(["position:absolute;top:0;width:100%;height:100%;pointer-events:none;overflow:hidden;",""],Object(T.a)("annotationPortal")),Tm.Column=c.f.div.withConfig({displayName:"AnnotationPortaldesktop__Column",componentId:"sc-17hre1n-1"})(["grid-column:right-start / grid-end;pointer-events:all;"]),Tm.Sticky=c.f.aside.withConfig({displayName:"AnnotationPortaldesktop__Sticky",componentId:"sc-17hre1n-2"})(["position:var(--annotation-position,sticky);width:var(--annotation-width,100%);padding-top:",";top:max( calc( min(var(--annotation-fragment-top),var(--annotation-top-limit)) - (var(--annotation-offset,",") + ",") ),0px );scroll-margin:",";"],(function(e){return e.theme.grid.gap}),km,(function(e){return e.showAds?Am:"0px"}),(function(e){return"calc(".concat(e.distanceAboveSongHeader,")")})),Tm.Callout=c.f.div.withConfig({displayName:"AnnotationPortaldesktop__Callout",componentId:"sc-17hre1n-3"})(["position:absolute;top:min( calc( var(--annotation-callout-offset-top,0px) + calc(var(--annotation-fragment-height,0px) / 2) + var(--annotation-offset,",") + "," ),calc(var(--annotation-height) - (1.7rem * 2)) );width:0.75rem;&:before{transition:opacity 200ms ease,transform 200ms ease;opacity:",";transform:"," translateY(-50%);","}"],km,(function(e){return e.showAds?Am:"0px"}),(function(e){return e.visible?1:0}),(function(e){return e.visible?"translateX(calc(-100% + 1px))":"translateX(0)"}),(function(e){return Object(P.m)({direction:"left",color:e.verified?e.theme.color.primary.main:e.theme.color.background.variant,height:"0.75rem",width:"1.7rem"})})),Tm.Top=c.f.div.withConfig({displayName:"AnnotationPortaldesktop__Top",componentId:"sc-17hre1n-4"})(["scroll-margin:",";"],(function(e){return"calc(".concat(e.distanceAboveSongHeader,")")}));var Nm=n(390),Mm=n(1005),Rm=function(e){var t=Object(Nm.a)(),n=Object(Mm.a)(),r=Object(O.f)("see_unreviewed_referents",n);return"verified"===e?{activeColor:fr()(t,"color.brandPrimary"),inactiveColor:{main:fr()(t,"color.primary.variant"),on:fr()(t,"color.background.on")}}:"unreviewed"===e&&r?{activeColor:fr()(t,"color.unreviewedReferentHover"),inactiveColor:fr()(t,"color.unreviewedReferent")}:{activeColor:fr()(t,"color.referent"),inactiveColor:{main:fr()(t,"color.background.variant"),on:fr()(t,"color.background.on")}}},Lm=function e(t){var n=t.baseAnnotation,a=t.fragment,c=t.href,l=t.children,u=Object(i.c)(),s=Object(i.e)(),f=Object(i.d)((function(e){return e.songPage.hoveredOverReferent===n})),d=Object(i.d)((function(e){return e.songPage.activeFragment})),p=d===a,m=d&&Number(d.split(":")[0])===n,h=Object(b.a)("referents",n),g="verified"===(null==h?void 0:h.classification),y=Rm(null==h?void 0:h.classification),v=y.activeColor,O=y.inactiveColor,w=Object(Da.a)("referentFragment"),_=Object(r.useCallback)((function(){return u(Object(Ns.gb)(n))}),[u,n]),j=Object(r.useCallback)((function(){return u(Object(Ns.gb)(void 0))}),[u]),E=Object(r.useCallback)((function(e){e.preventDefault(),u(p?Object(Ns.J)({}):Object(Ns.fb)({baseAnnotation:n,fragment:a}))}),[n,a,p,u]),C=Object(r.useRef)(),x=Object(r.useCallback)((function(){var e=s.getState();(fr()(e.stickyNav,"stickySectionVisibility.lyrics",!1)||fr()(e.stickyNav,"siteLinksVisible"))&&!e.songPage.activeFragment&&C.current&&C.current.focus({preventScroll:!0})}),[s]);return function(e){var t=e.fragment,n=e.element,o=Object(i.d)((function(e){return e.songPage.scrollToFragment}));Object(r.useEffect)((function(){t===o&&n.current.scrollIntoView({behavior:"smooth"})}),[t,o,n])}({element:C,fragment:a}),o.a.createElement(Ps,null,o.a.createElement(e.ClickTarget,{href:c,onClick:E,onMouseEnter:_,onMouseLeave:j,scrollMargin:w,ref:C},o.a.createElement(e.Highlight,{backgroundColor:m?v:O,hoverColor:v,showHoverState:f},l)),o.a.createElement(Ps.Portal,null),p?o.a.createElement(Pm,{id:n,hasVerifiedAnnotation:g,forFragment:a,fragmentRef:C,onClose:x}):o.a.createElement(Ps.Content,{as:"span"}))},Dm=o.a.memo(Lm);function Fm(){return Fm=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Fm.apply(this,arguments)}Lm.ClickTarget=c.f.a.withConfig({displayName:"ReferentFragmentdesktop__ClickTarget",componentId:"sc-110r0d9-0"})(["position:relative;padding:calc(",") 0;scroll-margin:",";"],P.f,(function(e){return"calc(".concat(e.scrollMargin,")")})),Lm.Highlight=c.f.span.withConfig({displayName:"ReferentFragmentdesktop__Highlight",componentId:"sc-110r0d9-1"})([""," padding-top:calc((",") - 0.75px);padding-bottom:calc((",") - 0.25px);"],(function(e){return e.showHoverState?"\n    color: ".concat(e.hoverColor.on,";\n    background-color: ").concat(e.hoverColor.main,";\n  "):"\n    color: ".concat(e.backgroundColor.on,";\n    background-color: ").concat(e.backgroundColor.main,";\n  ")}),P.h,P.h);var zm=function(e){return o.a.createElement("svg",Fm({width:16,height:12},e),o.a.createElement("path",{style:{stroke:"none",fillRule:"nonzero",fill:"#000",fillOpacity:1},d:"M15.2 4.89c.3 0 .55-.25.55-.56V1.54a1.1 1.1 0 0 0-1.1-1.11H1.52C.9.43.42.93.42 1.54v2.79c0 .3.25.56.55.56.6 0 1.1.5 1.1 1.11a1.1 1.1 0 0 1-1.1 1.11c-.3 0-.55.25-.55.56v2.79c0 .61.49 1.11 1.1 1.11h13.13c.6 0 1.1-.5 1.1-1.11V7.67c0-.3-.25-.56-.55-.56-.6 0-1.1-.5-1.1-1.11 0-.62.5-1.11 1.1-1.11Zm-.55 3.27v2.3h-3.83V8.79h-1.1v1.67h-8.2v-2.3A2.22 2.22 0 0 0 3.15 6c0-1.02-.67-1.9-1.63-2.16v-2.3h8.2v1.67h1.1V1.54h3.83v2.3A2.22 2.22 0 0 0 13.02 6c0 1.01.67 1.9 1.63 2.16Zm0 0"}),o.a.createElement("path",{style:{stroke:"none",fillRule:"nonzero",fill:"#000",fillOpacity:1},d:"M10.82 4.33h-1.1v3.34h1.1Zm0 0"}))},Bm=function e(t){var n=t.stubhubArtistId,r=Object(m.a)().t,a=Object(ie.a)(),i=Object(b.a)("stubhubArtists",n),c=i.trackingUrl,l=i.minConcertTicketPriceForDisplay,u=i.artist,s=Object(b.a)("artists",u).name,f=Object(y.a)("song:click_stubhub_link",{artist_id:u,artist_name:s,min_ticket_price:l});return l?o.a.createElement(e.Container,{isMobile:a},o.a.createElement(e.Link,{as:"a",href:c,target:"_blank",onClick:function(){return f()}},o.a.createElement(e.Left,null,o.a.createElement(zm,null),o.a.createElement(e.Information,null,o.a.createElement(e.Headline,null,r("stubhub.headline",{artistName:s})),o.a.createElement(e.Body,null,r("stubhub.ticket_price",{ticketPrice:l})))),o.a.createElement(e.Right,null,o.a.createElement(Aa.a,null)))):null},Vm=o.a.memo(Bm);Bm.Container=c.f.div.withConfig({displayName:"StubhubArtistLink__Container",componentId:"sc-1dstuvi-0"})(["",""],(function(e){return e.isMobile?"\n    display: grid;\n    grid-column: grid-start / grid-end;\n  ":"\n    width: 100%;\n  "})),Bm.Link=c.f.div.withConfig({displayName:"StubhubArtistLink__Link",componentId:"sc-1dstuvi-1"})(["display:flex;border:1px solid ",";padding:"," ",";justify-content:space-between;"],(function(e){return e.theme.color.background.blockOnColor}),(function(e){return e.theme.space.half}),(function(e){return e.theme.space.small})),Bm.Left=c.f.div.withConfig({displayName:"StubhubArtistLink__Left",componentId:"sc-1dstuvi-2"})(["display:flex;align-items:center;"]),Bm.Right=c.f.div.withConfig({displayName:"StubhubArtistLink__Right",componentId:"sc-1dstuvi-3"})(["display:flex;align-items:center;svg{color:",";height:8px;width:8px;}"],(function(e){return e.theme.color.background.on})),Bm.Information=c.f.div.withConfig({displayName:"StubhubArtistLink__Information",componentId:"sc-1dstuvi-4"})(["color:black;font-size:",";margin-left:",";line-height:",";"],(function(e){return e.theme.fontSize.smallReading}),(function(e){return e.theme.space.small}),(function(e){return e.theme.lineHeight.short})),Bm.Headline=c.f.div.withConfig({displayName:"StubhubArtistLink__Headline",componentId:"sc-1dstuvi-5"})(["font-weight:",";"],(function(e){return e.theme.fontWeight.normal})),Bm.Body=c.f.div.withConfig({displayName:"StubhubArtistLink__Body",componentId:"sc-1dstuvi-6"})(["font-weight:300;"]);var Hm=n(636),qm=n(619),Wm=n(620),Um=n(621);function $m(){return $m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$m.apply(this,arguments)}var Qm=function(e){var t=Object(i.d)((function(e){return Boolean(e.songPage.activeFragment)}));return o.a.createElement(Um.a,$m({},e,{hidden:t}))},Gm=o.a.memo(Qm),Ym=n(434),Km=n.n(Ym);function Zm(e){return function(e){if(Array.isArray(e))return nh(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||th(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Xm(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Jm(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function eh(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,a=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){c=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(c)throw o}}return a}(e,t)||th(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function th(e,t){if(e){if("string"==typeof e)return nh(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?nh(e,t):void 0}}function nh(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var rh=function(e){var t=e.cloneContents();return null!==oh(e).closest("[data-lyrics-container]")&&0===t.querySelectorAll("a, img, [data-exclude-from-selection]").length&&null===ah(e.startContainer).closest("a, img, [data-exclude-from-selection]")&&null===ah(e.endContainer).closest("a, img, [data-exclude-from-selection]")&&!ae()(t.textContent)},oh=function(e){for(var t=e.commonAncestorContainer;t.nodeType!==Node.ELEMENT_NODE;)t=t.parentNode;return t},ah=function(e){for(var t=e;t.nodeType!==Node.ELEMENT_NODE;)t=t.parentNode;return t},ih=function(e){for(var t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Xm(Object(n),!0).forEach((function(t){Jm(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Xm(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e),n=0,r=Object.keys(t);n<r.length;n++){var o=r[n];t[o]=Math.round(t[o])}return t},ch=function(e,t){var n=uh(t);return n.setEnd(e.startContainer,e.startOffset),sh(n).toString()},lh=function(e,t){var n=uh(t);return n.setStart(e.endContainer,e.endOffset),sh(n).toString()},uh=function(e){var t=document.createRange();return t.selectNodeContents(e),t},sh=function(e){var t=e.cloneContents();return Zm(t.children).forEach((function(e){e.dataset.lyricsContainer||t.removeChild(e)})),Zm(t.querySelectorAll("[data-exclude-from-selection]")).forEach((function(e){e.parentElement.removeChild(e)})),uh(t)},fh=function e(t){var n=t.songId,a=t.lyricsFontSize,c=t.lyricsRootRef,l=Object(r.useRef)(),u=Object(r.useRef)(),s=Object(m.a)().t,f=Object(i.c)(),d=Object(ea.a)(),p=Object(i.d)((function(e){return e.songPage.creatingAnnotation})),h=Object(y.a)("song:click_annotation_CTA"),b=Object(y.a)("song:annotation_create_clicked"),v=Object(i.d)((function(e){var t=fr()(e.entities.songs,e.songPage.song);return Object(O.f)("add_community_annotation_to",t)})),w=Object(i.d)((function(e){var t=fr()(e.entities.songs,e.songPage.song);return Object(O.f)("add_pinned_annotation_to",t)})),_=v||w,j=Object(ci.a)(w?"createdPinnedAnnotation":"createdCommunityAnnotation");Object(r.useEffect)((function(){var e=function(){var e=document.createElement("div");return e.className="LyricsHighlightTooltipContainer",document.body.appendChild(e),e}();return u.current=e,function(){e.parentElement.removeChild(e),u.current=null}}),[]);var E=function(e,t){var n=Object(ie.a)(),o=eh(Object(r.useState)(null),2),a=o[0],c=o[1],l=Object(r.useRef)(!1),u=eh(Object(r.useState)(!1),2),s=u[0],f=u[1],d=Object(r.useRef)(null),p=Object(r.useCallback)((function(){var e=window.getSelection();if(e.isCollapsed)return l.current=!1,void(n&&(f(!1),c(null)));var t=e.getRangeAt(0);if(d.current=t,!rh(t))return l.current=!1,void(n&&(f(!1),c(null)));var r=t.getBoundingClientRect();c((function(e){var t=ih({x:r.x,y:r.y+window.scrollY,height:r.height,width:r.width});return Object(i.b)(e,t)?e:t})),l.current=!0,n&&f(!0)}),[n]),m=Object(r.useCallback)((function(){l.current?f(!0):(f(!1),c(null))}),[]),h=Object(r.useCallback)((function(){var t=d.current,n=e.current;return{text:t.cloneContents().textContent,previousContext:Object(O.q)(ch(t,n).replace(/\s+/g,"")),nextContext:Object(O.q)(lh(t,n).replace(/\s+/g,""))}}),[e]),g=Object(r.useCallback)((function(){l.current=!1,f(!1),c(null),window.getSelection().removeAllRanges()}),[]);return Object(r.useEffect)((function(){if(!t)return document.addEventListener("selectionchange",p),n||(document.addEventListener("pointerup",m),document.addEventListener("pointerdown",m)),function(){document.removeEventListener("selectionchange",p),n||(document.removeEventListener("pointerup",m),document.removeEventListener("pointerdown",m))}}),[t,n,p,m]),{selectionRect:a,lyricsHighlighted:s,getReferent:h,clearSelection:g}}(c,p),C=E.selectionRect,x=E.lyricsHighlighted,I=E.getReferent,S=E.clearSelection,k=Object(r.useCallback)((function(){if(h(),_){var e=I(),t=e.text,r=e.previousContext,o=e.nextContext;f(Object(Ns.eb)({text:t,previousContext:r,nextContext:o,totalOffset:r.length,community:!w,songId:n},{onSuccess:S})),b()}else f(Object(g.L)())}),[h,_,I,f,w,n,S,b]),A=Object(r.useCallback)((function(e){Km.a.ios&&k(e)}),[k]),T=s(_?w?"annotation.new_verified_prompt":"annotation.new_community_prompt":d?"annotation.cannot_annotate_on_locked_song":"annotation.sign_up_to_annotate");return Object(r.useLayoutEffect)((function(){if(l.current){var e=l.current.getBoundingClientRect();l.current.style.setProperty("--width","".concat(e.width,"px"))}}),[x,p,T]),x||p?Object(Ne.createPortal)(o.a.createElement(e.Container,{selectionRect:C,onClick:k,onPointerDown:A,disabled:p,lyricsFontSize:a,ref:l},o.a.createElement(e.Content,null,p?o.a.createElement(o.a.Fragment,null,s("annotation.creating"),o.a.createElement(e.Spinner,null)):o.a.createElement(o.a.Fragment,null,T,_&&o.a.createElement(e.IQ,null,Object(O.n)(j)," IQ")))),u.current):null},dh=o.a.memo(fh);fh.Container=c.f.button.withConfig({displayName:"LyricsHighlightTooltip__Container",componentId:"sc-16s2xh1-0"})(["",";position:absolute;width:fit-content;top:",";left:max(calc(var(--width,16rem) / 2),","px);transform:translateX(-50%);font-family:",";user-select:none;-webkit-user-select:none;outline:none;&:disabled{color:inherit;}&:before{"," top:1px;}&:hover:before{background-color:black;}"],Object(T.a)("tooltip"),(function(e){return Object(c.e)(["calc( ","px + ","px + (("," * ",") - ",") )"],e.selectionRect.y,e.selectionRect.height,e.theme.fontSize[e.lyricsFontSize],e.theme.lineHeight.reading,e.theme.fontSize[e.lyricsFontSize])}),(function(e){return e.selectionRect.x+e.selectionRect.width/2}),(function(e){return e.theme.font.reading}),(function(e){return Object(P.b)({direction:"top",size:"8px",color:e.theme.color.background.main,borderColor:e.theme.color.background.on})})),fh.Spinner=Object(c.f)((function(e){return o.a.createElement(R.a,e)})).withConfig({displayName:"LyricsHighlightTooltip__Spinner",componentId:"sc-16s2xh1-1"})(["margin-left:",";height:",";vertical-align:-2px;",":hover &{stroke:white;}"],(function(e){return e.theme.space.quarter}),(function(e){return e.theme.fontSize.smallReading}),fh.Container),fh.Content=c.f.div.withConfig({displayName:"LyricsHighlightTooltip__Content",componentId:"sc-16s2xh1-2"})(["border:1px solid black;width:fit-content;background-color:white;color:black;height:fit-content;font-size:.875rem;padding:calc("," - 4px) ",";font-weight:",";line-height:1;",":hover &{background-color:black;color:white;}"],(function(e){return e.theme.space.half}),(function(e){return e.theme.space.small}),(function(e){return e.theme.fontWeight.light}),fh.Container),fh.IQ=c.f.span.withConfig({displayName:"LyricsHighlightTooltip__IQ",componentId:"sc-16s2xh1-3"})(["opacity:0.7;margin-left:",";"],(function(e){return e.theme.space.half}));var ph=n(114),mh=function e(t){var n=t.name,r=t.placeholderSize,a=t.lazy,i=t.lazyMargin,c=t.className;return"empty"===Object(ph.a)(n).state?null:o.a.createElement(e.Container,{className:c,placeholderSize:r},o.a.createElement(bf.a,{name:n,placeholderSize:r,lazy:a,lazyMargin:i,hasFixedHeight:!0,maxCreativeHeight:250}))};mh.defaultProps={placeholderSize:{width:300,height:250},lazy:!0};var hh=o.a.memo(mh);mh.Container=c.f.div.withConfig({displayName:"InnerSectionAd__Container",componentId:"i9knyt-0"})(["display:flex;justify-content:center;margin:"," auto;"],(function(e){return e.theme.space.xLarge}));var gh=function e(){return o.a.createElement(e.Container,null,o.a.createElement(e.Flex,null,o.a.createElement(e.CoverArt,{height:"48px",width:"48px"}),o.a.createElement(e.Content,null,o.a.createElement(e.Bar,{height:"1rem",width:"60%"}),o.a.createElement(e.Bar,{height:".875rem",width:"40%"}))))},bh=o.a.memo(gh),yh=Object(c.g)(["from{opacity:1;}to{opacity:0.5;}"]);gh.Container=c.f.aside.withConfig({displayName:"RecommendedSongPlaceholder__Container",componentId:"purfp2-0"})(["padding:"," 1.125rem;animation:"," 800ms ease-in-out alternate infinite;"],(function(e){return e.theme.space.small}),yh),gh.Flex=c.f.div.withConfig({displayName:"RecommendedSongPlaceholder__Flex",componentId:"purfp2-1"})(["display:flex;"]),gh.CoverArt=c.f.div.withConfig({displayName:"RecommendedSongPlaceholder__CoverArt",componentId:"purfp2-2"})(["background-color:",";height:",";width:",";"],(function(e){return e.theme.color.background.variant}),(function(e){return e.height}),(function(e){return e.width})),gh.Content=c.f.div.withConfig({displayName:"RecommendedSongPlaceholder__Content",componentId:"purfp2-3"})(["width:100%;"]),gh.Bar=c.f.div.withConfig({displayName:"RecommendedSongPlaceholder__Bar",componentId:"purfp2-4"})(["background-color:",";height:",";width:",";margin-left:",";&:not(:last-of-type){margin-bottom:",";}"],(function(e){return e.theme.color.background.variant}),(function(e){return e.height}),(function(e){return e.width}),(function(e){return e.theme.space.full}),(function(e){return e.theme.space.full}));var vh=n(19),Oh=function e(t){var n=t.songId,r=t.referrerId,a=t.position,i=t.uniqueCommonViewers,c=t.recommendationStrategy,l=Object(m.a)().t,u=Object(b.a)("songs",n),s=u.primaryArtist,f=u.songArtImageUrl,d=u.title,p=u.url,h=Object(b.a)("artists",s),g=Object(y.a)("song:click_recommendation",{recommendation_id:n,recommendation_position:a,referrer_id:r,unique_common_viewers:i,recommendation_strategy:c});if(h)return o.a.createElement(e.Container,{as:"a",href:p,onClick:function(){return g()}},o.a.createElement(e.Image,{src:f,height:48,width:48,alt:l("recommended_songs.cover_art_alt",{title:d,artistName:h.name})}),o.a.createElement(e.ItemContent,null,o.a.createElement(e.SongTitle,null,d),o.a.createElement(e.ArtistName,null,h.name)));vh.a.notify(new Error("RecommendedSong. No primary artist"))},wh=o.a.memo(Oh);Oh.Container=c.f.div.withConfig({displayName:"RecommendedSong__Container",componentId:"ntae2r-0"})(["display:flex;color:",";padding:",";&:not(:last-child){border-bottom:1px solid ",";}"],(function(e){return e.theme.color.background.on}),(function(e){return"".concat(e.theme.space.small," ").concat(e.theme.space.full)}),(function(e){return e.theme.color.background.on})),Oh.Image=Object(c.f)(qc.a).withConfig({displayName:"RecommendedSong__Image",componentId:"ntae2r-1"})(["flex-shrink:0;"]),Oh.ItemContent=c.f.div.withConfig({displayName:"RecommendedSong__ItemContent",componentId:"ntae2r-2"})(["display:flex;flex-direction:column;padding-left:",";"],(function(e){return e.theme.space.full})),Oh.SongTitle=c.f.div.withConfig({displayName:"RecommendedSong__SongTitle",componentId:"ntae2r-3"})(["font-size:",";"],(function(e){return e.theme.fontSize.reading})),Oh.ArtistName=c.f.div.withConfig({displayName:"RecommendedSong__ArtistName",componentId:"ntae2r-4"})(["color:",";font-size:",";"],(function(e){return e.theme.color.background.onVariant}),(function(e){return e.theme.fontSize.smallReading}));var _h=function e(t){var n=t.adPlacementName,a=t.isVisible,c=Object(m.a)().t,l=Object(i.c)(),u=Object(i.d)((function(e){var t=fr()(e,"songPage.trendingSongsSection.chartItems",[]).map((function(e){return e.item.id})),n=fr()(e,"entities.songs",[]);return t.map((function(e){return n[e]}))}),i.b),s=Object(y.a)("song:chart_item_clicked"),f=Object(y.a)("song:see_more_trending_songs_clicked");return Object(r.useEffect)((function(){a&&0===u.length&&l(Object(Q.Kb)())}),[l,a,u]),o.a.createElement(e.Container,null,a&&o.a.createElement(o.a.Fragment,null,o.a.createElement(e.Header,{onClick:function(){return f()},href:"/#top-songs"},c("recommended_songs.trending_songs"),o.a.createElement(e.NewTab,null)),o.a.createElement(e.Body,null,u.map((function(t,n){var r=t.id,a=t.songArtImageUrl,i=t.title,l=t.url,u=t.artistNames;return o.a.createElement(e.SongRow,{key:r,onClick:function(){return s()},href:l},o.a.createElement(e.Index,null,n+1),o.a.createElement(e.SizedImage,{src:a,height:48,width:48,alt:c("recommended_songs.cover_art_alt",{title:i,artistNames:u})}),o.a.createElement(e.Metadata,null,o.a.createElement(e.SongTitle,null,i),o.a.createElement(e.ArtistName,null,u)))})))),o.a.createElement(bf.a,{name:n,lazy:!1,refreshIntervalSeconds:null}))},jh=o.a.memo(_h);_h.Container=c.f.div.withConfig({displayName:"MiniChart__Container",componentId:"sc-1hz8qdc-0"})(["font-size:",";width:100%;"],(function(e){return e.theme.fontSize.smallReading})),_h.Body=c.f.div.withConfig({displayName:"MiniChart__Body",componentId:"sc-1hz8qdc-1"})(["display:flex;flex-direction:column;"]),_h.Header=c.f.a.withConfig({displayName:"MiniChart__Header",componentId:"sc-1hz8qdc-2"})(["display:flex;text-decoration:none;background:",";color:",";font-size:",";padding:",";justify-content:space-between;align-items:center;"],(function(e){return e.theme.color.background.on}),(function(e){return e.theme.color.background.main}),(function(e){return e.theme.fontSize.reading}),(function(e){return"".concat(e.theme.space.quarter," ").concat(e.theme.space.full)})),_h.SongRow=c.f.a.withConfig({displayName:"MiniChart__SongRow",componentId:"sc-1hz8qdc-3"})(["text-decoration:none;display:flex;color:",";padding:",";align-items:center;border-bottom:1px solid ",";"],(function(e){return e.theme.color.background.on}),(function(e){return"".concat(e.theme.space.small," ").concat(e.theme.space.full)}),(function(e){return e.theme.color.background.on})),_h.Index=c.f.div.withConfig({displayName:"MiniChart__Index",componentId:"sc-1hz8qdc-4"})(["display:flex;align-items:center;justify-items:left;padding-right:",";font-size:",";width:",";"],(function(e){return e.theme.space.full}),(function(e){return e.theme.fontSize.reading}),(function(e){return e.theme.space.xLarge})),_h.Metadata=c.f.div.withConfig({displayName:"MiniChart__Metadata",componentId:"sc-1hz8qdc-5"})(["display:flex;flex-direction:column;padding:0 ",";max-width:100%;"],(function(e){return e.theme.space.full})),_h.SongTitle=c.f.div.withConfig({displayName:"MiniChart__SongTitle",componentId:"sc-1hz8qdc-6"})(["font-size:",";"],(function(e){return e.theme.fontSize.reading})),_h.ArtistName=c.f.div.withConfig({displayName:"MiniChart__ArtistName",componentId:"sc-1hz8qdc-7"})(["color:",";font-size:",";"],(function(e){return e.theme.color.background.onVariant}),(function(e){return e.theme.fontSize.smallReading})),_h.NewTab=Object(c.f)(Aa.a).withConfig({displayName:"MiniChart__NewTab",componentId:"sc-1hz8qdc-8"})(["width:",";> path{fill:white;stroke:black;}"],(function(e){return e.theme.space.small})),_h.SizedImage=Object(c.f)(qc.a).withConfig({displayName:"MiniChart__SizedImage",componentId:"sc-1hz8qdc-9"})(["flex-shrink:0;"]);var Eh=function e(t){var n=t.songId,a=t.className,c=Object(m.a)().t,l=Object(i.c)(),u=Object(ce.a)({mobile:{adPlacementName:"mobile_song_recommended_song",miniChartAdPlacement:"mobile_song_sponsored_minicharts"},desktop:{adPlacementName:"desktop_song_recommended_song",miniChartAdPlacement:"desktop_song_sponsored_minicharts"}}),s=u.adPlacementName,f=u.miniChartAdPlacement,d=Object(ph.a)(f).state,p=Object(b.a)("songs",n),h=p.songRecommendations,g=void 0===h?{}:h,y=p.recommendationsFetchStatus,v=g.recommendations,O=void 0===v?[]:v,w=g.recommendationStrategy,_="filled"===d?O.slice(0,2):O;if(Object(r.useEffect)((function(){l(Object(Q.zb)(n))}),[l,n]),y===J.b||y===J.e&&0===O.length)return null;var j=y===J.e&&O.length;return o.a.createElement(e.Container,{className:a},o.a.createElement(e.Header,null,c("recommended_songs.header")),o.a.createElement(e.Body,null,y===J.c?o.a.createElement(bh,null):_.map((function(e,t){var r=e.recommendedSong,a=e.uniqueCommonViewers;return o.a.createElement(o.a.Fragment,{key:r},2===t&&o.a.createElement(bf.a,{name:s,lazy:!1,refreshIntervalSeconds:null}),o.a.createElement(wh,{key:r,songId:r,position:t+1,referrerId:n,recommendationStrategy:w,uniqueCommonViewers:a}))}))),j&&o.a.createElement(jh,{adPlacementName:f,isVisible:"filled"===d}))},Ch=o.a.memo(Eh);function xh(){return xh=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},xh.apply(this,arguments)}function Ih(e){return function(e){if(Array.isArray(e))return Ah(e)}(e)||Th(e)||kh(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Sh(e){return function(e){if(Array.isArray(e))return e}(e)||Th(e)||kh(e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function kh(e,t){if(e){if("string"==typeof e)return Ah(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ah(e,t):void 0}}function Ah(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Th(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}Eh.Container=c.f.aside.withConfig({displayName:"RecommendedSongs__Container",componentId:"fhtuij-0"})(["border:1px solid ",";font-size:",";width:100%;"],(function(e){return e.theme.color.background.on}),(function(e){return e.theme.fontSize.smallReading})),Eh.Body=c.f.div.withConfig({displayName:"RecommendedSongs__Body",componentId:"fhtuij-1"})(["display:flex;flex-direction:column;"]),Eh.Header=c.f.div.withConfig({displayName:"RecommendedSongs__Header",componentId:"fhtuij-2"})(["background:",";color:",";font-size:",";padding:",";"],(function(e){return e.theme.color.background.on}),(function(e){return e.theme.color.background.main}),(function(e){return e.theme.fontSize.reading}),(function(e){return"".concat(e.theme.space.quarter," ").concat(e.theme.space.full)}));var Ph="lyrics-root",Nh="lyrics-root-pin-spacer",Mh=[{name:"desktop_song_lyrics_sidebar",sticky:!0,lazy:!1},{name:"desktop_song_lyrics_sidebar2",sticky:!1,lazy:!0},{name:"desktop_song_lyrics_sidebar3",sticky:!1,lazy:!0},{name:"desktop_song_lyrics_sidebar4",sticky:!1,lazy:!0}],Rh=Oc()((function(e){return{h1:Fh.H1,h2:Fh.H2,h3:Fh.H3,h4:Fh.H4,h5:Fh.H5,h6:Fh.H6,ul:Fh.UnorderedList,ol:Fh.OrderedList,table:Fh.Table}[e]})),Lh=function(e){return e?ys()(e,["style"]):{}},Dh=function e(t){var n,r=t.element,a=t.fragmentCounts,i=r.tag,c=r.attributes,l=r.children,u=void 0===l?[]:l,s=r.data,f=void 0===s?{}:s,d=u.map((function(t,n){return o.a.createElement(e,{element:t,key:n,fragmentCounts:a})}));return"a"===i&&f.id?o.a.createElement(Dm,{baseAnnotation:Number(f.id),fragment:"".concat(f.id,":").concat((n=f.id,a[n]?++a[n]:a[n]=1)),href:c.href},d):"img"===i?o.a.createElement(Fh.Image,{"data-exclude-from-selection":!0},o.a.createElement(qc.a,{src:c.src})):Rh(i)?o.a.createElement.apply(o.a,[Rh(i),Lh(c)].concat(Ih(d))):i?o.a.createElement.apply(o.a,[i,Lh(c)].concat(Ih(d))):r},Fh=function e(t){var n=t.data,a=t.songId,c=t.hide,l=function(e){if(!e.children)return[];var t=Sh(e.children),n=t[0],r=t.slice(1),o="p"===n.tag&&n.children,a=0,i={lyrics:[],sidebarAd:Mh[a++]};if(!o)return i.lyrics=e.children,[i];var c,l=[];return n.children.forEach((function(e){"inread-ad"===e.tag?(l.push(i,{inreadAd:e}),i={lyrics:[],sidebarAd:Mh[a++]}):i.lyrics.push(e)})),(i.lyrics.length||r.length)&&((c=i.lyrics).push.apply(c,Ih(r)),l.push(i)),l}(n.body),s={},f=Object(r.useRef)(),d=Object(m.a)().t,p=jd("report_abuse"),h=Object(i.d)((function(e){return u()(e.songPage,["resolveLyricsEditProposalsVisible","activeFragment"])}),i.b),g=h.resolveLyricsEditProposalsVisible,y=h.activeFragment,v=Object(ce.a)({mobile:"reading",desktop:"largeReading"}),w=Object(ie.a)(),_=Object(Da.a)("stickyAd"),j=Object(b.a)("songs",a),E=j.stubhubArtist,C=!w&&g,x=Object(O.f)("view_recommendations",j),I=os(j);return o.a.createElement("div",{id:Nh},o.a.createElement(e.Root,{hide:c&&!w,$fontSize:v,id:Ph,ref:f,isMobile:w},w&&E&&o.a.createElement(Vm,{stubhubArtistId:E}),o.a.createElement(fl,{songId:a}),g&&o.a.createElement(Vc,null),l.map((function(t,n){var i=t.lyrics,c=t.inreadAd,l=t.sidebarAd;return o.a.createElement(r.Fragment,{key:n},i&&o.a.createElement(e.Container,{isMobile:w,"data-lyrics-container":!0},i.map((function(e,t){return"primis-player"===e.tag?o.a.createElement(Hm.a,xh({key:t,hidden:C},e.data)):o.a.createElement(Dh,{key:t,element:e,fragmentCounts:s})}))),!I&&c&&o.a.createElement(qm.a,xh({},c.data,{hidden:C})),!I&&!w&&l&&o.a.createElement(Wm.a,{hidden:C},0===n&&!w&&E&&o.a.createElement(Vm,{stubhubArtistId:E}),o.a.createElement(Gm,l),0===n&&x&&o.a.createElement(e.RecommendationsContainer,null,o.a.createElement(e.Recommendations,{songId:a,isMobile:w,distanceAboveStickyAd:_,hidden:Boolean(y)}))),0===n&&I&&o.a.createElement(Ou,{songId:a}))})),o.a.createElement(dh,{songId:a,lyricsRootRef:f,lyricsFontSize:v}),o.a.createElement(e.Footer,null,w&&o.a.createElement(hh,{name:"mobile_song_lyrics_footer",lazyMargin:"25%"}),w&&x&&o.a.createElement(e.Recommendations,{songId:a,isMobile:w}),o.a.createElement(e.FooterShareButtons,{shareableId:a,shareableType:"songs",pyong:!0,toggleEmbed:!0}),p&&o.a.createElement(lp,{title:"Report Song",reportableId:a,reportableType:"songs"},(function(t){var n=t.reported,r=t.onClick;return o.a.createElement(e.FooterLabelWithIcon,{disabled:n,icon:o.a.createElement(sm,null),label:d(n?"report_abuse.reported_song":"report_abuse.report_song"),underline:!1,onClick:function(e){e.preventDefault(),n||r(e)}})})))))};Fh.defaultProps={hide:!1};var zh=o.a.memo(Fh);Fh.Root=Object(c.f)(La.a).withConfig({displayName:"Lyrics__Root",componentId:"sc-1ynbvzw-0"})(["font:100 ","/"," ",";padding:0;padding-top:",";grid-auto-rows:max-content;min-height:min(var(--annotation-height),100vh);position:relative;width:100%;"," ",";"],(function(e){return e.theme.fontSize[e.$fontSize]}),(function(e){return e.theme.lineHeight.reading}),(function(e){return e.theme.font.reading}),(function(e){return e.isMobile?e.theme.space.full:e.theme.space.xLarge}),(function(e){return e.hide&&"display: none;"}),P.c),Fh.Footer=c.f.div.withConfig({displayName:"Lyrics__Footer",componentId:"sc-1ynbvzw-1"})(["display:flex;flex-direction:column;align-items:center;justify-content:center;grid-column:left-start / left-end;"]),Fh.FooterShareButtons=Object(c.f)((function(e){return o.a.createElement(rs,e)})).withConfig({displayName:"Lyrics__FooterShareButtons",componentId:"sc-1ynbvzw-2"})(["&&{margin:"," 0 calc("," + ",");}"],(function(e){return e.theme.grid.gap}),(function(e){return e.theme.grid.gap}),(function(e){return e.theme.space.large})),Fh.FooterLabelWithIcon=Object(c.f)((function(e){return o.a.createElement(Bl.a,e)})).withConfig({displayName:"Lyrics__FooterLabelWithIcon",componentId:"sc-1ynbvzw-3"})(["margin-bottom:calc("," + ",");"],(function(e){return e.theme.grid.gap}),(function(e){return e.theme.space.large})),Fh.Image=c.f.div.withConfig({displayName:"Lyrics__Image",componentId:"sc-1ynbvzw-4"})(["margin:1rem 0;"]),Fh.Container=c.f.div.withConfig({displayName:"Lyrics__Container",componentId:"sc-1ynbvzw-5"})(["grid-column:left-start / left-end;padding-top:",";padding-bottom:",";padding-right:",";"],(function(e){return e.isMobile?e.theme.space.quarter:e.theme.space.half}),(function(e){return e.isMobile?e.theme.space.quarter:e.theme.space.xLarge}),(function(e){return e.isMobile?0:e.theme.space.xLarge})),Fh.H=c.f.div.withConfig({displayName:"Lyrics__H",componentId:"sc-1ynbvzw-6"})(["font-weight:",";margin:"," 0;"],(function(e){return e.theme.fontWeight.bold}),(function(e){return e.theme.space.full})),Fh.H1=Object(c.f)(Fh.H).attrs({as:"h1"}).withConfig({displayName:"Lyrics__H1",componentId:"sc-1ynbvzw-7"})(["font-size:",";"],(function(e){return e.theme.fontSize.smallHeadline})),Fh.H2=Object(c.f)(Fh.H).attrs({as:"h2"}).withConfig({displayName:"Lyrics__H2",componentId:"sc-1ynbvzw-8"})(["font-size:",";"],(function(e){return e.theme.fontSize.xSmallHeadline})),Fh.H3=Object(c.f)(Fh.H).attrs({as:"h3"}).withConfig({displayName:"Lyrics__H3",componentId:"sc-1ynbvzw-9"})(["font-size:",";"],(function(e){return e.theme.fontSize.largeReading})),Fh.H4=Object(c.f)(Fh.H3).attrs({as:"h4"}).withConfig({displayName:"Lyrics__H4",componentId:"sc-1ynbvzw-10"})([""]),Fh.H5=Object(c.f)(Fh.H3).attrs({as:"h5"}).withConfig({displayName:"Lyrics__H5",componentId:"sc-1ynbvzw-11"})([""]),Fh.H6=Object(c.f)(Fh.H3).attrs({as:"h6"}).withConfig({displayName:"Lyrics__H6",componentId:"sc-1ynbvzw-12"})([""]),Fh.UnorderedList=c.f.ul.withConfig({displayName:"Lyrics__UnorderedList",componentId:"sc-1ynbvzw-13"})(["margin:"," 0;padding-left:",";&,li{list-style:unset;}"],(function(e){return e.theme.space.full}),(function(e){return e.theme.space.large})),Fh.OrderedList=c.f.ol.withConfig({displayName:"Lyrics__OrderedList",componentId:"sc-1ynbvzw-14"})(["margin:"," 0;padding-left:",";list-style:decimal;li{list-style:decimal;&::marker{font-feature-settings:'tnum';}}"],(function(e){return e.theme.space.full}),(function(e){return e.theme.space.large})),Fh.Table=c.f.table.withConfig({displayName:"Lyrics__Table",componentId:"sc-1ynbvzw-15"})(["margin:"," 0;width:100%;th,td{padding:"," "," 0;}td{font-weight:",";}th{border-bottom:1px solid ",";font-weight:",";text-align:left;}"],(function(e){return e.theme.space.full}),(function(e){return e.theme.space.half}),(function(e){return e.theme.space.half}),(function(e){return e.theme.fontWeight.light}),(function(e){return e.theme.color.background.variant}),(function(e){return e.theme.fontWeight.bold})),Fh.RecommendationsContainer=c.f.div.withConfig({displayName:"Lyrics__RecommendationsContainer",componentId:"sc-1ynbvzw-16"})(["",""],(function(e){return e.isMobile?"\n    margin: ".concat(e.theme.space.large," 0;\n  "):"\n    ".concat(e.hidden&&"display: none",";\n    flex-grow: 1;\n    padding-bottom: ").concat(e.theme.space.xLarge,";\n  ")})),Fh.Recommendations=Object(c.f)((function(e){return o.a.createElement(Ch,e)})).withConfig({displayName:"Lyrics__Recommendations",componentId:"sc-1ynbvzw-17"})(["",""],(function(e){return e.isMobile?"margin: ".concat(e.theme.space.large," 0;"):"position: sticky;\n    top: calc(".concat(e.distanceAboveStickyAd,");\n")}));var Bh=n(1002);var Vh=function(e){var t=e.songId,n=e.data,o=e.editorEl,a=e.context,c=Object(i.c)(),l=fr()(n,["body","html"]),u=Object(m.a)().t,s=Object(y.a)("song:lyrics_edit_save_clicked"),f=Object(y.a)("song:lyrics_edit_save_and_exit_clicked"),d=Object(y.a)("song:lyrics_edit_propose_clicked"),p=Object(y.a)("song:lyrics_edit_cancel_clicked"),h=Object(y.a)("song:lyrics_edit_explainer_toggled"),g=Object(y.a)("song:lyrics_edit_propose_submit_confirmed"),b=Object(y.a)("song:lyrics_edit_propose_submit_cancelled");Object(r.useEffect)((function(){if(a===za){var e=Sc(Ic(l));c(Object(Q.db)(e))}else a===Ba&&c(Object(Q.jb)(t))}),[a,c,l,t]);var v=Object(Bh.a)({callback:function(){var e=a===Ba?"plain":"markdown";c(Object(Q.db)(function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},e,o.current.value)))},delay:500,dependencies:[a]}),O=Object(r.useCallback)((function(e){c(Object(Q.X)(e))}),[c]),w=Object(r.useCallback)((function(){var e=confirm(u("lyrics.confirm_propose"));g({confirmed:e}),e&&(d(),c(Object(Q.bb)(t)))}),[c,t,u,d,g]);return{onLyricsChange:v,onSubmit:Object(r.useCallback)((function(e){var n=e.hideFormAfterSubmit;c(Object(Q.eb)(t,{hideFormAfterSubmit:n})),n?f():s()}),[c,t,f,s]),onCancel:Object(r.useCallback)((function(){if(a===Ba){var e=confirm(u("lyrics.confirm_cancel"));if(b({confirmed:e}),!e)return}c(Object(Q.fb)({revertContext:a})),p()}),[a,c,u,p,b]),onPropose:w,onErrorRemove:O,trackLyricEditExplainerToggle:h}},Hh=function(){return o.a.createElement(o.a.Fragment,null,"Editing the lyrics of a staff approved song will invalidate all of its lyric synchronizations until they're manually updated. After saving your changes, please also update the lyrics synchronizations!")},qh=o.a.memo(Hh),Wh=function e(t){var n=t.className;return o.a.createElement(e.Container,{className:n},o.a.createElement("p",null,"How to Format Lyrics:"),o.a.createElement("ul",null,o.a.createElement("li",null,"Type out all lyrics, even repeating song parts like the chorus"),o.a.createElement("li",null,"Lyrics should be broken down into individual lines"),o.a.createElement("li",null,"Use section headers above different song parts like [Verse], [Chorus], etc."),o.a.createElement("li",null,"Use ",o.a.createElement(e.Italic,null,"italics")," (","<i>lyric</i>",") and ",o.a.createElement(e.Bold,null,"bold")," (","<b>lyric</b>",") to distinguish between different vocalists in the same song part"),o.a.createElement("li",null,"If you don’t understand a lyric, use [?]")),o.a.createElement("p",null,"To learn more, check out our ",o.a.createElement(C.a,{href:"https://genius.com/Genius-how-to-add-songs-to-genius-annotated"},"transcription guide")," or visit our ",o.a.createElement(C.a,{href:"https://genius.com/transcribers"},"transcribers forum")))},Uh=o.a.memo(Wh);Wh.Container=c.f.div.withConfig({displayName:"LyricsEditExplainer__Container",componentId:"sc-1aeph76-0"})(["font-size:",";ul{padding-left:",";margin-bottom:",";}li{list-style-type:disc;}"],(function(e){return e.theme.fontSize.smallReading}),(function(e){return e.theme.space.full}),(function(e){return e.theme.space.full})),Wh.Bold=c.f.span.withConfig({displayName:"LyricsEditExplainer__Bold",componentId:"sc-1aeph76-1"})(["font-weight:",";"],(function(e){return e.theme.fontWeight.bold})),Wh.Italic=c.f.span.withConfig({displayName:"LyricsEditExplainer__Italic",componentId:"sc-1aeph76-2"})(["font-style:italic;"]);var $h=n(1011),Qh=function(e){var t=e.approvedById,n=e.markedCompleteById,r=Object(b.a)("users",n),a=Object(b.a)("users",t),i="lyrics.evaluation.".concat(a?"staff_approved":"marked_complete"),c=a||r;return o.a.createElement($h.a,{i18nKey:i,values:{transcriberGuideUrl:Po.a.transcriberGuideUrl,userName:c.name,userUrl:c.url},components:{styledLink:o.a.createElement(C.a,null)}})},Gh=o.a.memo(Qh),Yh=["onChange","defaultValue"];function Kh(){return Kh=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Kh.apply(this,arguments)}function Zh(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var Xh=function e(t,n){var a=t.onChange,i=t.defaultValue,c=Zh(t,Yh),l=Object(r.useCallback)((function(){var e,t,r;e=function(){var e=n.current;e.style.height="auto",e.style.height="".concat(e.scrollHeight,"px")},t=window.scrollY,r=document.body.scrollTop,e(),window.scrollTo({top:t}),document.body.scrollTop=r}),[n]);Object(r.useEffect)(l,[i,l]);var u=Object(r.useCallback)((function(e){a&&a(e),l()}),[a,l]);return o.a.createElement(e.Textarea,Kh({ref:n},c,{defaultValue:i,onChange:u}))},Jh=o.a.memo(o.a.forwardRef(Xh));function eg(){return eg=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},eg.apply(this,arguments)}Xh.Textarea=c.f.textarea.withConfig({displayName:"ExpandingTextarea__Textarea",componentId:"sc-4cgivl-0"})(["width:100%;height:100%;font-family:inherit;resize:none;overflow-y:hidden;min-height:18.75rem;padding:",";font-size:",";font-weight:",";border-radius:0;line-height:",";"],(function(e){return e.theme.space.full}),(function(e){return e.theme.fontSize.largeReading}),(function(e){return e.theme.fontWeight.light}),(function(e){return e.theme.lineHeight.reading}));var tg=function e(t){var n=t.songId,a=t.data,c=t.hide,l=Object(m.a)().t,s=Object(i.d)((function(e){return fr()(e,"modal.showing",!1)})),f=Object(i.d)((function(e){return u()(e.songPage,["hasVisibleModal","lyricsEdit","submittingLyricsEdit","lyricsEditErrors","lyricsEditBlocked","lyricsEditContext"])}),i.b),d=f.lyricsEdit,p=void 0===d?{}:d,h=f.submittingLyricsEdit,g=f.lyricsEditErrors,v=void 0===g?[]:g,w=f.lyricsEditBlocked,_=f.lyricsEditContext,j=Object(r.useRef)(),E=Object(Da.a)("lyricsEditControls"),C=Object(y.a)("song:lyrics_edit_save_shortcut"),x=Object(y.a)("song:lyrics_edit_save_and_exit_shortcut"),I=Object(y.a)("song:lyrics_edit_proposal_shortcut"),S=function(e){var t=e.songId,n=e.context,r=Object(b.a)("songs",t),o=r.lyricsMarkedCompleteBy,a=r.lyricsMarkedStaffApprovedBy,i=Object(O.f)("edit_lyrics",r),c=Object(O.f)("edit_annotation_brackets",r),l=Object(O.f)("propose_lyrics_edit",r)&&!i,u=Object(O.f)("view_lyrics_synchronization",r)&&Boolean(a),s=n===Ba&&l;return{isEdit:n===za&&(i||c),isProposeEdit:s,lyricsMarkedCompleteBy:o,lyricsMarkedStaffApprovedBy:a,showLyricsCompleteBanner:s&&(o||a),showLyricsSyncWarning:u}}({songId:n,context:_}),k=S.isEdit,T=S.isProposeEdit,P=S.lyricsMarkedCompleteBy,N=S.lyricsMarkedStaffApprovedBy,M=S.showLyricsCompleteBanner,R=S.showLyricsSyncWarning,L=O.k&&/(Win32)|(Win64)|(Windows)|(WinCE)/.test(navigator.userAgent),D=Vh({songId:n,data:a,editorEl:j,context:_}),F=D.onSubmit,z=D.onLyricsChange,B=D.onErrorRemove,V=D.onCancel,H=D.onPropose,q=Object(r.useCallback)((function(e){return e.preventDefault()}),[]),W=Object(r.useCallback)((function(){k?(F({hideFormAfterSubmit:!0}),x()):T&&(H(),I())}),[F,H,k,T,x,I]);Object(A.a)("shift+enter, cmd+l, control+l",(function(e,t){switch(e.preventDefault(),t.key){case"shift+enter":!T&&F({hideFormAfterSubmit:!1}),C();break;case"cmd+l":W();break;case"control+l":L&&W()}}),{filter:function(){return!s&&!c&&!w},enableOnTags:["TEXTAREA"]},[s,k,T,F,H]);var U=L?"Control + L":"Command + L";return o.a.createElement(e.Container,{onSubmit:q,hide:c},o.a.createElement(e.Editor,null,h&&o.a.createElement(e.PlaceholderSpinner,null),!c&&o.a.createElement(Jh,{ref:j,defaultValue:T?p.plain:p.markdown,onChange:z,disabled:w})),o.a.createElement(e.ControlsContainer,null,o.a.createElement(e.Controls,{distanceAboveLyricsControls:E},M&&o.a.createElement(e.Banner,{status:"warning",message:o.a.createElement(e.LyricsEvaluationInfo,{markedCompleteById:P,approvedById:N})}),R&&o.a.createElement(e.Banner,{status:"warning",message:o.a.createElement(qh,null)}),Boolean(v.length)&&o.a.createElement(e.Alerts,null,v.map((function(e,t){return o.a.createElement(de.a,{key:e,status:"error",message:e,onClose:function(){return B(t)}})}))),k&&o.a.createElement(o.a.Fragment,null,o.a.createElement(e.SaveButton,{disabled:w,onClick:function(){return F({hideFormAfterSubmit:!1})}},l("lyrics.save"),o.a.createElement(e.Shortcut,null,"Shift + Enter")),o.a.createElement(e.Button,{disabled:w,onClick:function(){return F({hideFormAfterSubmit:!0})}},l("lyrics.save_and_exit"),o.a.createElement(e.Shortcut,null,U))),T&&o.a.createElement(e.SaveButton,{disabled:w,onClick:H},l("lyrics.propose"),o.a.createElement(e.Shortcut,null,U)),o.a.createElement(e.Button,{onClick:V,disabled:w},l("lyrics.cancel")),o.a.createElement(e.Explainer,null))))},ng=o.a.memo(tg);tg.defaultProps={hide:!1},tg.Container=Object(c.f)((function(e){return o.a.createElement(La.a,eg({},e,{as:"form"}))})).withConfig({displayName:"LyricsEditdesktop__Container",componentId:"sc-19lxrhp-0"})([""," grid-column:page-start / page-end;font-weight:",";margin-bottom:",";margin-top:",";"],(function(e){return e.hide&&"display: none;"}),(function(e){return e.theme.fontWeight.light}),(function(e){return e.theme.space.xxxLarge}),(function(e){return e.theme.space.large})),tg.Editor=c.f.div.withConfig({displayName:"LyricsEditdesktop__Editor",componentId:"sc-19lxrhp-1"})(["grid-column:left-start / left-end;position:relative;"]),tg.ControlsContainer=c.f.div.withConfig({displayName:"LyricsEditdesktop__ControlsContainer",componentId:"sc-19lxrhp-2"})(["grid-column:right-start / right-end;margin-left:",";"],(function(e){return e.theme.space.large})),tg.Controls=c.f.div.withConfig({displayName:"LyricsEditdesktop__Controls",componentId:"sc-19lxrhp-3"})(["position:sticky;top:",";"],(function(e){return"calc(".concat(e.distanceAboveLyricsControls,")")})),tg.Button=Object(c.f)(Bn.a).withConfig({displayName:"LyricsEditdesktop__Button",componentId:"sc-19lxrhp-4"})(["display:flex;justify-content:center;padding:"," ",";margin:0;margin-bottom:",";"],(function(e){return e.theme.space.half}),(function(e){return e.theme.space.full}),(function(e){return e.theme.space.small})),tg.SaveButton=Object(c.f)(tg.Button).withConfig({displayName:"LyricsEditdesktop__SaveButton",componentId:"sc-19lxrhp-5"})(["color:",";background-color:",";border:none;span.shortcut{color:",";}"],(function(e){return e.theme.color.background.main}),(function(e){return e.theme.color.success.main}),(function(e){return e.theme.color.background.variant})),tg.Explainer=Object(c.f)((function(e){return o.a.createElement(Uh,e)})).withConfig({displayName:"LyricsEditdesktop__Explainer",componentId:"sc-19lxrhp-6"})(["margin-top:",";"],(function(e){return e.theme.space.large})),tg.Footer=c.f.div.withConfig({displayName:"LyricsEditdesktop__Footer",componentId:"sc-19lxrhp-7"})(["grid-column:left-start / left-end;margin:"," 0;"],(function(e){return e.theme.space.xLarge})),tg.PlaceholderSpinner=Object(c.f)(cc.a).withConfig({displayName:"LyricsEditdesktop__PlaceholderSpinner",componentId:"sc-19lxrhp-8"})(["position:absolute;right:0;margin-right:",";margin-top:",";"],(function(e){return e.theme.space.small}),(function(e){return e.theme.space.small})),tg.Alerts=c.f.div.withConfig({displayName:"LyricsEditdesktop__Alerts",componentId:"sc-19lxrhp-9"})(["margin-bottom:",";& > *{margin-bottom:",";}"],(function(e){return e.theme.space.large}),(function(e){return e.theme.space.small})),tg.Shortcut=c.f.span.attrs((function(){return{className:"shortcut"}})).withConfig({displayName:"LyricsEditdesktop__Shortcut",componentId:"sc-19lxrhp-10"})(["margin-left:",";font-size:",";color:",";"],(function(e){return e.theme.space.half}),(function(e){return e.theme.fontSize.xSmallReading}),(function(e){return e.theme.color.background.onVariant})),tg.LyricsEvaluationInfo=Object(c.f)((function(e){return o.a.createElement(Gh,e)})).withConfig({displayName:"LyricsEditdesktop__LyricsEvaluationInfo",componentId:"sc-19lxrhp-11"})(["margin-bottom:",";"],(function(e){return e.theme.space.large})),tg.Banner=Object(c.f)((function(e){return o.a.createElement(de.a,e)})).withConfig({displayName:"LyricsEditdesktop__Banner",componentId:"sc-19lxrhp-12"})(["margin-bottom:",";"],(function(e){return e.theme.space.large}));var rg=n(622),og=n(51);function ag(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,a=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){c=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(c)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ig(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ig(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ig(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var cg=function e(t){var n=t.annotationId,a=Object(m.a)().t,c=Object(i.c)(),l=Object(b.a)("annotations",n),u=l.integratedBody,s=l.body,f=u||s,d=""===s.markdown,p=Object(O.f)("propose_edit_to",l),h=ag(Object(r.useState)(!1),2),g=h[0],v=h[1],w=Object(r.useCallback)((function(){return v((function(e){return!e}))}),[]),_=Object(da.a)("success",a("annotations.song_description.form.propose_success")),j=Object(y.a)("song:description_annotation_submitted",{annotation_id:n,annotatable:"song"}),E=Object(y.a)("song:description_annotation_proposal_submitted",{annotation_id:n,annotatable:"song"}),C=Object(r.useCallback)((function(){p?(E(),_()):j()}),[p,j,E,_]),x=Object(r.useCallback)((function(){c(Object(Ns.O)({annotationId:n}))}),[c,n]),I=Object(ue.a)({submitAction:Ns.W,extraValues:{annotationId:n,proposeEdit:p,shouldShowEditProposals:!1},onSuccess:C}),S=I.methods,k=I.onSubmit,A=I.isSubmitting,T=S.setFocus;return Object(r.useLayoutEffect)((function(){g&&T("editNote")}),[g,T]),o.a.createElement(re.b,S,o.a.createElement(e.Form,{onSubmit:k},o.a.createElement(e.TextEditorField,{name:"body.markdown",label:a("annotations.song_description.form.body.label"),rules:{required:Object(og.b)("Song description")},defaultValue:f.markdown,wrapWithLabel:!1,hideLabel:!0},o.a.createElement(ff,{placeholder:a("annotations.song_description.form.body.placeholder"),rows:10,hasBorderedContainer:!0})),!d&&(g?o.a.createElement(ua.a,{name:"editNote",label:a("annotations.form.edit_note"),defaultValue:""},o.a.createElement(je.a,{fullWidth:!0})):o.a.createElement(e.LinkButton,{onClick:w},a("annotations.form.edit_note_cta"))),o.a.createElement(e.Controls,null,o.a.createElement(Bn.a,{type:"submit",disabled:A,isLoading:A},a("annotations.song_description.form.".concat(p?"save_propose_edit":"save"))),!A&&o.a.createElement(Bn.a,{secondary:!0,onClick:x,disabled:A},a("annotations.song_description.form.cancel")))))},lg=o.a.memo(cg);cg.Form=c.f.form.withConfig({displayName:"SongDescriptionForm__Form",componentId:"c0qwck-0"})(["flex:1;display:flex;flex-direction:column;align-items:stretch;margin-top:",";textarea,input[type=text]{background:inherit;color:",";}"],(function(e){return e.theme.space.large}),(function(e){return e.theme.color.background.on})),cg.TextEditorField=Object(c.f)((function(e){return o.a.createElement(ua.a,e)})).withConfig({displayName:"SongDescriptionForm__TextEditorField",componentId:"c0qwck-1"})(["border:1px solid ",";margin-bottom:",";","{color:",";}"],(function(e){return e.theme.color.background.on}),(function(e){return e.theme.space.full}),dr.b,(function(e){return e.theme.color.background.on})),cg.LinkButton=Object(c.f)((function(e){return o.a.createElement(Vs.a,e)})).withConfig({displayName:"SongDescriptionForm__LinkButton",componentId:"c0qwck-2"})(["align-self:flex-start;"]),cg.Controls=c.f.div.withConfig({displayName:"SongDescriptionForm__Controls",componentId:"c0qwck-3"})(["margin:"," 0;& > *{margin-right:",";}"],(function(e){return e.theme.space.full}),(function(e){return e.theme.space.half}));var ug=n(617);function sg(){return sg=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},sg.apply(this,arguments)}var fg=function e(t){var n=t.descriptionAnnotationId,a=Object(m.a)().t,l=Object(i.c)(),u=Object(ie.a)(),s=Object(ea.a)(),f=Object(Da.a)("songHeader"),d=Object(r.useRef)(),p=Object(r.useCallback)((function(){d.current&&d.current.scrollIntoView({behavior:"smooth"})}),[]),g=Object(i.d)((function(e){return e.songPage.editingAnnotationId===n}));Object(r.useEffect)((function(){g&&p()}),[g,p]);var v=Object(y.a)("song:expand_description"),w=Object(y.a)("song:show_description_annotation_contributors",{annotation_id:n}),_=Object(y.a)("song:description_annotation_edit_clicked"),j=Object(y.a)("song:sign_up_clicked",{source:"about"}),E=Object(y.a)("song:description_annotation_proposals_toggled",{annotation_id:n}),C=Object(r.useCallback)((function(e){s?(l(Object(Ns.P)(n)),_()):(e.preventDefault(),j(),Object(wc.c)(e))}),[l,n,s,_,j]),x=Object(r.useCallback)((function(){l(Object(Ns.S)(n)),E()}),[l,n,E]),I=Object(b.a)("annotations",n),S=I.authors,k=I.createdBy,A=I.acceptedBy,T=I.body,P=I.createdAt,N=I.state,M=I.showProposals,R=Boolean(T.html),L="pending"===N,D=Object(O.f)("accept",I);return o.a.createElement(e.Container,{isMobile:u,distanceAboveSongHeader:f,ref:d},R?g?o.a.createElement(lg,{annotationId:n}):o.a.createElement(o.a.Fragment,null,L&&o.a.createElement(If,{id:n,isDescription:!0}),o.a.createElement(Pf,{entityId:n,entityType:"annotations",label:a("attribution.annotation.heading"),authorId:k,acceptedById:A,createdAt:P,contributors:S,state:N,onShowContributors:w,renderEditHistoryModal:function(e){return o.a.createElement(Wf,sg({annotationId:n,hideMobileOverlay:!1},e))}}),o.a.createElement(ug.a,{id:"about",onExpand:v},o.a.createElement(e.Content,null,o.a.createElement(gf.a,{html:T.html}))),L&&D&&o.a.createElement(_d,{id:n}),o.a.createElement(e.AnnotationEditActions,{id:n,isDescription:!0}),o.a.createElement(e.AnnotationActions,{id:n,isDescription:!0}),o.a.createElement(G.a,{show:M,onClose:x,position:"top"},o.a.createElement(c.c,{theme:h.d},o.a.createElement(e.AnnotationEditProposals,{id:n}))),u&&o.a.createElement(hh,{name:"mobile_song_about"})):o.a.createElement(o.a.Fragment,null,o.a.createElement(e.CTA,null,o.a.createElement("div",null,a("annotations.song_description.cta_1")),o.a.createElement("div",null,a("annotations.song_description.cta_2.".concat(s?"logged_in":"logged_out")))),g?o.a.createElement(lg,{annotationId:n}):o.a.createElement(e.FakeTextField,{onClick:C},a("annotations.song_description.form.body.placeholder"))))},dg=o.a.memo(fg);fg.Container=c.f.div.withConfig({displayName:"SongDescription__Container",componentId:"sc-615rvk-0"})(["color:",";scroll-margin-top:calc(",");",";"],(function(e){return e.theme.color.background.on}),(function(e){return e.distanceAboveSongHeader}),(function(e){return e.isMobile&&"margin-bottom: 4rem"})),fg.Contributors=c.f.div.withConfig({displayName:"SongDescription__Contributors",componentId:"sc-615rvk-1"})(["margin:"," 0 "," 0;font-size:",";"],(function(e){return e.theme.space.xLarge}),(function(e){return e.theme.space.large}),(function(e){return e.theme.fontSize.smallReading})),fg.Content=c.f.div.withConfig({displayName:"SongDescription__Content",componentId:"sc-615rvk-2"})(["text-align:left;"]),fg.CTA=c.f.div.withConfig({displayName:"SongDescription__CTA",componentId:"sc-615rvk-3"})(["text-align:center;color:",";margin-bottom:",";"],(function(e){return e.theme.color.background.on}),(function(e){return e.theme.space.large})),fg.FakeTextField=c.f.button.withConfig({displayName:"SongDescription__FakeTextField",componentId:"sc-615rvk-4"})(["font-size:",";border:1px solid ",";color:",";padding:",";width:100%;text-align:left;cursor:text;"],(function(e){return e.theme.fontSize.reading}),(function(e){return e.theme.color.background.on}),(function(e){return e.theme.color.background.on}),(function(e){return e.theme.space.small})),fg.AnnotationEditProposals=Object(c.f)((function(e){return o.a.createElement(rd,e)})).withConfig({displayName:"SongDescription__AnnotationEditProposals",componentId:"sc-615rvk-5"})(["text-align:left;background-color:",";padding:",";margin:0 !important;min-height:-webkit-fill-available;"],(function(e){return e.theme.color.background.variant}),(function(e){return e.theme.space.xLarge})),fg.AnnotationEditActions=Object(c.f)((function(e){return o.a.createElement($f,e)})).withConfig({displayName:"SongDescription__AnnotationEditActions",componentId:"sc-615rvk-6"})(["margin-top:",";"],(function(e){return e.theme.space.small})),fg.AnnotationActions=Object(c.f)((function(e){return o.a.createElement(mm,e)})).withConfig({displayName:"SongDescription__AnnotationActions",componentId:"sc-615rvk-7"})(["margin:"," 0 ",";"],(function(e){return e.theme.space.full}),(function(e){return e.theme.space.large}));var pg=n(925),mg=n(435),hg=n.n(mg),gg=function(){return{pinnedQuestions:Object(i.d)((function(e){var t=(e.songPage.pinnedQuestions||[]).map((function(t){return fr()(e,["entities","questions",t])}));return hg()(t||[],["pinOrder"])})),pendingQuestions:Object(i.d)((function(e){return(e.songPage.pendingQuestions||[]).map((function(t){return fr()(e,["entities","questions",t])}))}))}},bg=c.f.div.withConfig({displayName:"InnerSectionDivider",componentId:"sc-1x4onqw-0"})(["border-bottom:",";margin-bottom:",";padding-bottom:",";"],(function(e){return"1px solid ".concat(e.theme.color.background.on)}),(function(e){return e.theme.space.xxxLarge}),(function(e){return e.theme.space.xxxLarge}));bg.propTypes={};var yg=bg,vg=n(25),Og=Object(vg.b)("questions"),wg="songPage/MORE_QUESTIONS_CLICKED",_g="songPage/QUESTIONS_FETCHED",jg="songPage/QUESTIONS_FETCH_FAILED",Eg="songPage/QUESTION_SUBMITTED",Cg=function(e,t){return{type:Eg,payload:e,meta:t}},xg="songPage/QUESTION_CREATED",Ig="songPage/QUESTION_STATE_CHANGED",Sg="songPage/QUESTION_LIST_UPDATED",kg=function(e){var t=e.pendingQuestions,n=e.pinnedQuestions;return{type:Sg,pendingQuestions:t,pinnedQuestions:n}},Ag="songPage/QUESTION_MOVED",Tg=function(e,t){return{type:Ag,questionId:e,direction:t}},Pg="songPage/QUESTION_EDITED",Ng=function(e,t){return{type:Pg,payload:e,meta:t}};function Mg(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,a=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){c=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(c)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Rg(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Rg(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Rg(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Lg=function e(t){var n=t.songId,a=Object(i.c)(),c=Mg(Object(r.useState)(!1),2),l=c[0],u=c[1],s=Object(ea.a)(),f=Object(m.a)().t,d=Object(y.a)("song:ask_question"),p=Object(da.a)("success",f("question.form.success")),h=Object(b.a)("songs",n),v=Object(r.useCallback)((function(){I(),p(),d()}),[I,p,d]),w=Object(ue.a)({submitAction:Cg,extraValues:{song_id:n},useFormOptions:{mode:"onChange"},onSuccess:v}),_=w.methods,j=w.onSubmit,E=w.isSubmitting,C=_.reset,x=Object(r.useCallback)((function(){return u(!0)}),[u]),I=Object(r.useCallback)((function(){u(!1),C({body:"",author_name:void 0,author_email:void 0})}),[u,C]),S=Object(r.useCallback)((function(){a(Object(g.L)())}),[a]);return Object(O.f)("create_question",h)?o.a.createElement(re.b,_,o.a.createElement(e.Container,{onSubmit:j},o.a.createElement(ua.a,{name:"body",rules:{required:Object(og.b)(f("question.form.body.label")),maxLength:Object(og.a)(80)},hideLabel:!0},o.a.createElement(je.a,{onFocus:x,placeholder:f("question.form.body.placeholder",{songTitle:h.title}),fullWidth:!0})),l&&o.a.createElement(o.a.Fragment,null,!s&&o.a.createElement(o.a.Fragment,null,o.a.createElement(ua.a,{name:"author_name",label:f("question.form.author_name.label"),rules:{required:Object(og.b)(f("question.form.author_name.label")),maxLength:Object(og.a)(255)},defaultValue:""},o.a.createElement(je.a,{placeholder:f("question.form.author_name.placeholder"),fullWidth:!0})),o.a.createElement(ua.a,{name:"author_email",label:f("question.form.author_email.label"),rules:{required:Object(og.b)(f("question.form.author_email.label")),maxLength:Object(og.a)(255),validate:{email:og.c}},defaultValue:""},o.a.createElement(je.a,{placeholder:f("question.form.author_email.placeholder"),fullWidth:!0}))),o.a.createElement(e.Buttons,null,o.a.createElement(Bn.a,{type:"submit",disabled:E,isLoading:E},f("question.form.".concat(E?"submitting":"submit"))),!E&&o.a.createElement(Bn.a,{secondary:!0,onClick:I},f("question.form.cancel")))))):s?null:o.a.createElement(e.FakeTextInput,{as:"button",onClick:S,fullWidth:!0},o.a.createElement("p",null,f("question.form.body.placeholder",{songTitle:h.title})))};Lg.FakeTextInput=Object(c.f)(je.a).withConfig({displayName:"QuestionForm__FakeTextInput",componentId:"wsr2cj-0"})(["text-align:left;resize:none;p{opacity:0.5;}"]),Lg.Container=c.f.form.withConfig({displayName:"QuestionForm__Container",componentId:"wsr2cj-1"})(["display:grid;gap:",";"],(function(e){return e.theme.space.large})),Lg.Buttons=c.f.div.withConfig({displayName:"QuestionForm__Buttons",componentId:"wsr2cj-2"})(["display:flex;justify-content:center;gap:",";"],(function(e){return e.theme.space.half}));var Dg=o.a.memo(Lg);function Fg(){return Fg=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Fg.apply(this,arguments)}var zg=o.a.createElement("path",{d:"M0 10h24v4h-24z"}),Bg=function(e){return o.a.createElement("svg",Fg({width:24,height:24,viewBox:"0 0 24 24"},e),zg)};function Vg(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,a=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){c=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(c)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Hg(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Hg(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Hg(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var qg=function e(t){var n=t.questionId,a=t.defaultExpanded,i=t.canToggleExpand,l=t.titleContent,u=t.children,s=Object(b.a)("questions",n),f=s.answer,d="pinned"===s.state,p=Vg(Object(r.useState)(a),2),m=p[0],g=p[1],v=Object(ea.a)(),O=i&&(!!v||d),w=Object(b.a)("answers",f),_=Boolean(w)&&Boolean(w.answerSource)&&("sourced"===w.editorialState||"verified"===w.editorialState),j=Object(y.a)("song:expand_question",{is_pinned:d,question_id:n}),E=Object(r.useCallback)((function(){O&&(g((function(e){return!e})),j())}),[O,j]);return o.a.createElement(e.Container,null,o.a.createElement(c.c,{theme:Object(h.e)(m)},o.a.createElement(e.Title,{isExpanded:m,onClick:E,expandable:O},_&&!m&&o.a.createElement(e.ArtistAvatar,null,o.a.createElement(qc.a,{src:w.answerSource.artist.imageUrl,width:28,height:28})),l,O&&o.a.createElement(e.ExpandButton,null,m?o.a.createElement(Bg,null):o.a.createElement(yr,null)))),m&&u)},Wg=o.a.memo(qg);qg.defaultProps={defaultExpanded:!1,canToggleExpand:!0,TitleContent:null},qg.ArtistAvatar=c.f.span.withConfig({displayName:"QuestionTemplate__ArtistAvatar",componentId:"sc-1is5n1p-0"})(["border-radius:100%;overflow:hidden;border:2px solid ",";margin-right:",";flex-shrink:0;"],(function(e){return e.theme.color.primary.main}),(function(e){return e.theme.space.half})),qg.Container=c.f.div.withConfig({displayName:"QuestionTemplate__Container",componentId:"sc-1is5n1p-1"})(["text-align:left;border:1px solid ",";&:not(:last-child){border-bottom:none;}"],(function(e){return e.theme.color.background.on})),qg.Body=c.f.div.withConfig({displayName:"QuestionTemplate__Body",componentId:"sc-1is5n1p-2"})(["margin-top:",";"],(function(e){return e.theme.space.half})),qg.AskedBy=c.f.div.withConfig({displayName:"QuestionTemplate__AskedBy",componentId:"sc-1is5n1p-3"})(["font-size:",";"],(function(e){return e.theme.fontSize.smallReading})),qg.Title=c.f.div.withConfig({displayName:"QuestionTemplate__Title",componentId:"sc-1is5n1p-4"})(["font-size:",";color:",";background-color:transparent;display:flex;align-items:center;",";line-height:1.33;padding:",";",""],(function(e){return e.theme.fontSize.reading}),(function(e){return e.theme.color.background.on}),(function(e){return e.expandable&&"cursor: pointer"}),(function(e){return e.theme.space.small}),(function(e){return e.isExpanded&&Object(c.e)(["background-color:",";"],e.theme.color.background.main)})),qg.ExpandButton=Object(c.f)((function(e){return o.a.createElement(M.a,e)})).withConfig({displayName:"QuestionTemplate__ExpandButton",componentId:"sc-1is5n1p-5"})(["padding-left:",";margin-left:auto;font-size:",";svg{display:block;width:.75rem;height:.75rem;fill:",";}"],(function(e){return e.theme.space.quarter}),(function(e){return e.theme.fontSize.smallHeadline}),(function(e){return e.theme.color.background.on})),qg.Contributor=c.f.div.withConfig({displayName:"QuestionTemplate__Contributor",componentId:"sc-1is5n1p-6"})(["margin:"," auto;"],(function(e){return e.theme.space.xxLarge})),qg.Footer=c.f.div.withConfig({displayName:"QuestionTemplate__Footer",componentId:"sc-1is5n1p-7"})(['display:grid;grid-template-areas:"moveUp moveDown" "vote   manage";grid-template-columns:1fr 1fr;grid-template-rows:1fr 1fr;grid-row-gap:',";align-items:center;padding:",";padding-top:0;"],(function(e){return e.theme.space.xLarge}),(function(e){return e.theme.space.xLarge})),qg.Move=c.f.div.withConfig({displayName:"QuestionTemplate__Move",componentId:"sc-1is5n1p-8"})(["cursor:pointer;font-size:",";grid-area:",";justify-self:",";span:first-of-type{text-decoration:underline;margin-right:",";}svg{fill:",";width:",";vertical-align:middle;}"],(function(e){return e.theme.fontSize.smallReading}),(function(e){return e.gridArea}),(function(e){return e.align}),(function(e){return e.theme.space.xSmall}),(function(e){return e.theme.color.background.on}),(function(e){return e.theme.space.half})),qg.Vote=c.f.div.withConfig({displayName:"QuestionTemplate__Vote",componentId:"sc-1is5n1p-9"})(["grid-area:vote;"]),qg.ManageDropdown=c.f.div.withConfig({displayName:"QuestionTemplate__ManageDropdown",componentId:"sc-1is5n1p-10"})(["grid-area:manage;justify-self:right;"]),qg.ManageDropdownIcon=c.f.span.withConfig({displayName:"QuestionTemplate__ManageDropdownIcon",componentId:"sc-1is5n1p-11"})(["margin-left:",";svg{fill:",";width:",";vertical-align:middle;}"],(function(e){return e.theme.space.xSmall}),(function(e){return e.theme.color.background.on}),(function(e){return e.theme.space.half})),qg.ManageDropdownList=c.f.ul.withConfig({displayName:"QuestionTemplate__ManageDropdownList",componentId:"sc-1is5n1p-12"})(["",";background-color:white;margin-top:",";font-size:",";position:absolute;border:1px solid black;min-width:100%;cursor:pointer;white-space:nowrap;li{color:black;margin:",";&:hover{background-color:",";color:",";}}&:before{"," left:50%;}"],Object(T.a)("dropdown"),(function(e){return e.theme.space.half}),(function(e){return e.theme.fontSize.smallReading}),(function(e){return e.theme.space.quarter}),(function(e){return e.theme.color.background.on}),(function(e){return e.theme.color.background.main}),Object(P.b)({direction:"top",size:"8px",color:"white",borderColor:"black"}));var Ug=function e(t){var n=t.questionId,a=t.cancel,i=Object(m.a)().t,c=Object(b.a)("questions",n),l=Object(da.a)("success",i("question.edit.success")),u=Object(da.a)("error",i("question.edit.failure")),s=Object(y.a)("song:edit_question",{question_id:n}),f=Object(r.useCallback)((function(){a(),l(),s()}),[a,l,s]),d=Object(ue.a)({submitAction:Ng,extraValues:{questionId:n},useFormOptions:{mode:"onChange"},onSuccess:f,onError:u}),p=d.methods,h=d.onSubmit,g=d.isSubmitting;return o.a.createElement(re.b,p,o.a.createElement(e.Form,{onSubmit:h},o.a.createElement(ua.a,{name:"body",rules:{required:Object(og.b)("question"),maxLength:Object(og.a)(80)},defaultValue:c.body,hideLabel:!0},o.a.createElement(tf.a,{autoResize:!0,fullWidth:!0})),o.a.createElement(e.Controls,null,o.a.createElement(e.Button,{type:"submit",disabled:g,isLoading:g},i("question.form.".concat(g?"submitting":"submit"))),!g&&o.a.createElement(e.Button,{onClick:a,disabled:g},i("question.form.cancel")))))},$g=o.a.memo(Ug);Ug.Form=c.f.form.withConfig({displayName:"QuestionEdit__Form",componentId:"n90s70-0"})(["width:100%;"]),Ug.Controls=c.f.div.withConfig({displayName:"QuestionEdit__Controls",componentId:"n90s70-1"})(["display:flex;justify-content:center;padding:",";"],(function(e){return e.theme.space.half})),Ug.Button=Object(c.f)(Bn.a).withConfig({displayName:"QuestionEdit__Button",componentId:"n90s70-2"})(["margin:"," ",";background-color:",";border-color:",";color:",";&:hover{background-color:",";color:",";mix-blend-mode:unset;}"],(function(e){return e.theme.space.half}),(function(e){return e.theme.space.small}),(function(e){return e.theme.color.background.main}),(function(e){return e.theme.color.background.on}),(function(e){return e.theme.color.background.on}),(function(e){return e.theme.color.background.on}),(function(e){return e.theme.color.background.main}));var Qg=function e(t){var n=t.source;return o.a.createElement(e.Container,null,o.a.createElement(e.ArtistAvatar,{href:n.artist.url},o.a.createElement(qc.a,{src:n.artist.imageUrl,width:32,height:32})),o.a.createElement(e.Artist,null,o.a.createElement(e.Type,null,"Verified Commentary"),o.a.createElement(e.Name,{href:n.artist.url},n.artistName)),n.sourceName&&o.a.createElement(e.Source,{href:n.sourceUrl,target:"_blank",rel:"noreferrer"},"via ",n.sourceName))},Gg=Qg;Qg.Container=c.f.div.withConfig({displayName:"VerifiedAttribution__Container",componentId:"eyh30b-0"})(["display:flex;align-items:center;font-size:",";"],(function(e){return e.theme.fontSize.smallReading})),Qg.Type=c.f.div.withConfig({displayName:"VerifiedAttribution__Type",componentId:"eyh30b-1"})(["font-size:",";"],(function(e){return e.theme.fontSize.xSmallReading})),Qg.Artist=c.f.div.withConfig({displayName:"VerifiedAttribution__Artist",componentId:"eyh30b-2"})([""]),Qg.ArtistAvatar=c.f.a.withConfig({displayName:"VerifiedAttribution__ArtistAvatar",componentId:"eyh30b-3"})(["border-radius:100%;overflow:hidden;border:2px solid ",";margin-right:",";flex-shrink:0;"],(function(e){return e.theme.color.primary.main}),(function(e){return e.theme.space.half})),Qg.Name=Object(c.f)((function(e){return o.a.createElement(C.a,e)})).withConfig({displayName:"VerifiedAttribution__Name",componentId:"eyh30b-4"})(["text-decoration:none;"]),Qg.Source=Object(c.f)((function(e){return o.a.createElement(C.a,e)})).withConfig({displayName:"VerifiedAttribution__Source",componentId:"eyh30b-5"})(["margin-left:auto;"]);var Yg=Object(vg.b)("answers"),Kg="songPage/ANSWER_SUBMITTED",Zg=function(e,t){return{type:Kg,payload:e,meta:t}},Xg="songPage/ANSWER_EDITED",Jg=function(e,t){return{type:Xg,payload:e,meta:t}},eb="songPage/ANSWER_CLEARED",tb=function(e,t){var n=e.answerId,r=e.questionId;return{type:eb,answerId:n,questionId:r,meta:t}};function nb(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function rb(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?nb(Object(n),!0).forEach((function(t){ob(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nb(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ob(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ab(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,a=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){c=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(c)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ib(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ib(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ib(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var cb=function e(t){var n,a,i=t.questionId,l=t.answerId,u=t.closeForm,s=t.entityForm,f=Object(m.a)().t,d=Object(b.a)("questions",i),p=Object(b.a)("answers",l),h=Object(O.f)("pin",d),g=Object(O.f)("update_answer_source",d),y=Object(ci.a)("answer",d),v=s.methods,w=s.onSubmit,_=s.isSubmitting,j=v.watch,E=Boolean(null==p?void 0:p.answerSource),C=j("add_source",E),x=j("source_name",null==p||null===(n=p.answerSource)||void 0===n?void 0:n.sourceName),I=j("source_url",null==p||null===(a=p.answerSource)||void 0===a?void 0:a.sourceUrl),S={forForm:Object(r.useCallback)((function(e){if(e&&e.length)return e[0].label}),[]),forInput:Object(r.useCallback)((function(e){return e?[{label:e}]:[]}),[])},k=Boolean(x)||Boolean(I),A=ab(Object(r.useState)(!1),2),T=A[0],P=A[1],N=function(e){return Object(r.useMemo)((function(){return{input:function(t){return rb(rb({},t),{},{color:e.color.background.on,fontSize:e.fontSize.smallReading})},menuList:function(t){return rb(rb({},t),{},{fontSize:e.fontSize.smallReading,padding:0})},valueContainer:function(t){return rb(rb({},t),{},{svg:{fill:e.color.background.on},padding:e.space.xSmall})}}}),[e])}(Object(c.h)());return o.a.createElement(re.b,v,o.a.createElement(e.Form,{onSubmit:w},o.a.createElement(e.Header,null,o.a.createElement(M.a,{textDecoration:"underline",onClick:function(){return P((function(e){return!e}))}},f("answer.form.formatting")),o.a.createElement(e.Checkboxes,null,h&&o.a.createElement(e.CheckboxField,null,o.a.createElement(ua.a,{name:"pin_question",defaultValue:!p||"pinned"===d.state,inlineLabel:!0,hideLabel:!0},o.a.createElement(e.Checkbox,null)),o.a.createElement(e.Label,null,f("answer.form.pin_question.label"))),g&&o.a.createElement(e.CheckboxField,null,o.a.createElement(ua.a,{name:"add_source",defaultValue:E,inlineLabel:!0,hideLabel:!0},o.a.createElement(e.Checkbox,null)),o.a.createElement(e.Label,null,f("answer.form.add_source.label"))))),C&&g&&o.a.createElement(e.ExpandedArea,null,o.a.createElement(e.Field,null,o.a.createElement(e.Label,null,"".concat(f("answer.form.artist_name.label")," *")),o.a.createElement(ua.a,{name:"artist_name",hideLabel:!0,defaultValue:E?p.answerSource.artistName:"",rules:{required:Object(og.b)(f("answer.form.artist_name.label"))},transformForForm:S.forForm,transformForInput:S.forInput},o.a.createElement(zn,{placeholder:"",promptMessage:f("answer.form.artist_name.prompt"),loadOptions:ar,isMulti:!1,customStyles:N}))),o.a.createElement(e.Field,null,o.a.createElement(e.Label,null,f("answer.form.source_name.label")),o.a.createElement(ua.a,{name:"source_name",hideLabel:!0,defaultValue:E?p.answerSource.sourceName:"",rules:{required:{value:k,message:f("form.validation.required",{field:f("answer.form.source_name.label")})}}},o.a.createElement(e.TextInput,{fullWidth:!0}))),o.a.createElement(e.Field,null,o.a.createElement(e.Label,null,f("answer.form.source_url.label")),o.a.createElement(ua.a,{name:"source_url",hideLabel:!0,defaultValue:E?p.answerSource.sourceUrl:"",rules:{required:{value:k,message:f("form.validation.required",{field:f("answer.form.source_url.label")})}}},o.a.createElement(e.TextInput,{fullWidth:!0})))),T&&o.a.createElement(e.ExpandedArea,null,o.a.createElement(ef,null)),o.a.createElement(ua.a,{name:"markdown",hideLabel:!0,rules:{required:Object(og.b)("answer")},defaultValue:p?p.body.markdown:""},o.a.createElement(je.a,{as:"textarea",rows:6,placeholder:f("answer.form.markdown.placeholder".concat(C?"_with_source":"")),fullWidth:!0})),o.a.createElement(e.Controls,null,o.a.createElement(Bn.a,{type:"submit",disabled:_,isLoading:_},f("answer.form.".concat(_?"submitting":"submit")),!_&&!p&&o.a.createElement(Ol.a,{color:"background.onVariant",points:y})),!_&&o.a.createElement(Bn.a,{secondary:!0,onClick:u,disabled:_},f("answer.form.cancel")))))},lb=o.a.memo(cb);cb.Form=c.f.form.withConfig({displayName:"AnswerForm__Form",componentId:"fkqvlc-0"})(["font-size:",";"],(function(e){return e.theme.fontSize.smallReading})),cb.Controls=c.f.div.withConfig({displayName:"AnswerForm__Controls",componentId:"fkqvlc-1"})(["display:flex;justify-content:center;gap:",";margin-top:",";"],(function(e){return e.theme.space.half}),(function(e){return e.theme.space.large})),cb.Header=c.f.div.withConfig({displayName:"AnswerForm__Header",componentId:"fkqvlc-2"})(["display:flex;border:1px solid ",";border-bottom:none;padding:"," ",";justify-content:space-between;align-items:center;"],(function(e){return e.theme.color.background.on}),(function(e){return e.theme.space.xSmall}),(function(e){return e.theme.space.small})),cb.ExpandedArea=c.f.div.withConfig({displayName:"AnswerForm__ExpandedArea",componentId:"fkqvlc-3"})(["display:flex;border:1px solid ",";border-bottom:none;padding:",";flex-direction:column;gap:",";"],(function(e){return e.theme.color.background.on}),(function(e){return e.theme.space.small}),(function(e){return e.theme.space.small})),cb.Checkboxes=c.f.div.withConfig({displayName:"AnswerForm__Checkboxes",componentId:"fkqvlc-4"})(["display:flex;gap:",";"],(function(e){return e.theme.space.full})),cb.CheckboxField=c.f.div.withConfig({displayName:"AnswerForm__CheckboxField",componentId:"fkqvlc-5"})(["display:flex;align-items:center;"]),cb.Field=c.f.div.withConfig({displayName:"AnswerForm__Field",componentId:"fkqvlc-6"})(["display:flex;gap:",";flex-direction:column;"],(function(e){return e.theme.space.xSmall})),cb.Label=c.f.div.withConfig({displayName:"AnswerForm__Label",componentId:"fkqvlc-7"})([""]),cb.TextInput=Object(c.f)(je.a).withConfig({displayName:"AnswerForm__TextInput",componentId:"fkqvlc-8"})(["font-size:",";"],(function(e){return e.theme.fontSize.smallReading})),cb.Checkbox=Object(c.f)(fa).withConfig({displayName:"AnswerForm__Checkbox",componentId:"fkqvlc-9"})(["width:",";height:",";box-sizing:content-box;margin:",";"],(function(e){return e.theme.space.small}),(function(e){return e.theme.space.small}),(function(e){return e.theme.space.xSmall}));var ub=function(e){var t=e.questionId,n=e.answerId,a=e.closeForm,i=Object(m.a)().t,c=Object(y.a)("song:edit_answer",{answer_id:n}),l=Object(b.a)("questions",t),u=Object(b.a)("answers",n),s=Object(da.a)("success",i("answer.edit.success")),f=Object(da.a)("error",i("answer.edit.failure")),d=Object(r.useCallback)((function(){a(),s(),c()}),[a,c,s]),p=Object(ue.a)({submitAction:Jg,extraValues:{question_id:t,answer_id:n},useFormOptions:{shouldUnregister:!0},onSuccess:d,onError:f}),h=p.methods.reset,g=Object(r.useCallback)((function(){h({markdown:u.body.markdown,artist_name:Boolean(u.answerSource)?u.answerSource.artistName:"",source_name:Boolean(u.answerSource)?u.answerSource.sourceName:"",source_url:Boolean(u.answerSource)?u.answerSource.sourceUrl:"",add_source:Boolean(u.answerSource),pin_question:Boolean(l.pinOrder)}),a()}),[h,u,l,a]);return o.a.createElement(lb,{questionId:t,answerId:n,closeForm:g,entityForm:p})},sb=o.a.memo(ub),fb=function(e){var t=e.questionId,n=e.closeForm,a=Object(m.a)().t,i=Object(y.a)("song:answer_question",{question_id:t}),c=Object(da.a)("success",a("answer.create.success")),l=Object(da.a)("error",a("answer.create.failure")),u=Object(r.useCallback)((function(){n(),c(),i()}),[n,i,c]),s=Object(ue.a)({submitAction:Zg,extraValues:{question_id:t},useFormOptions:{shouldUnregister:!0},onSuccess:u,onError:l}),f=s.methods.reset,d=Object(r.useCallback)((function(){f({markdown:"",artist_name:"",source_name:"",source_url:"",add_source:!1,pin_question:!0}),n()}),[f,n]);return o.a.createElement(lb,{questionId:t,closeForm:d,entityForm:s})},db=o.a.memo(fb);function pb(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,a=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){c=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(c)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return mb(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return mb(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function mb(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var hb=function e(t){var n=t.answerId,a=t.questionId,i=t.editing,c=t.cancelEdit,l=Object(m.a)().t,u=Object(b.a)("answers",n),s=Boolean(u)&&Boolean(u.answerSource)&&("sourced"===u.editorialState||"verified"===u.editorialState),f=Object(b.a)("questions",a),d=f.contributorsCount,p=f.createdAt,h=f.author,g=Object(ci.a)("answer",f),v=Object(y.a)("song:show_question_contributors",{question_id:a}),w=pb(Object(r.useState)(!1),2),_=w[0],j=w[1],E=Object(r.useCallback)((function(){return j((function(e){return!e}))}),[]),C=Object(O.f)("add_answer",f),x=Object(ce.a)({mobile:"large",desktop:"xLarge"});return u||C?o.a.createElement(e.Container,{padding:x},s&&o.a.createElement(Gg,{source:u.answerSource}),o.a.createElement(Pf,{label:u?l("attribution.answer.heading"):"",authorLabel:l("attribution.question.asked_by"),contributors:u?u.authors:[],contributorsCount:d,authorId:h,createdAt:p,onShowContributors:v,entityType:"answers",entityId:n}),o.a.createElement(e.Body,null,Boolean(u)&&!i&&o.a.createElement(gf.a,{html:u.body.html}),Boolean(u)&&i&&o.a.createElement(sb,{questionId:a,answerId:n,closeForm:c}),!u&&_&&o.a.createElement(db,{questionId:a,closeForm:E}),!u&&!_&&o.a.createElement(e.CTA,{onClick:E},l("answer.question"),o.a.createElement(Ol.a,{color:"background.onVariant",points:g})))):null},gb=o.a.memo(hb);hb.Container=c.f.div.withConfig({displayName:"Answer__Container",componentId:"sc-2neq6u-0"})(["padding:",";"],(function(e){return e.theme.space[e.padding]})),hb.Body=c.f.div.withConfig({displayName:"Answer__Body",componentId:"sc-2neq6u-1"})(["margin:"," 0;"],(function(e){return e.theme.space.full})),hb.CTA=Object(c.f)((function(e){return o.a.createElement(Bn.a,e)})).withConfig({displayName:"Answer__CTA",componentId:"sc-2neq6u-2"})(["display:block;margin:0 auto;padding:"," ",";"],(function(e){return e.theme.space.half}),(function(e){return e.theme.space.full}));var bb=n(669),yb=n.n(bb),vb=function e(t){var n=t.questionId,a=t.editQuestion,c=t.editAnswer,l=t.clearAnswer,u=Object(i.c)(),s=Object(m.a)().t,f=Object(b.a)("questions",n),d=f.answer,p="pinned"===f.state,h=Object(b.a)("answers",d),g=p?Object(O.f)("unpin",f):Object(O.f)("pin",f),y=p&&Object(O.f)("move",f),v=Object(O.f)("edit",f),w=Object(O.f)("archive",f),_=d&&Object(O.f)("vote",h),j=d&&Object(O.f)("edit",h),E=d&&Object(O.f)("destroy",h),C=g||v||w||j||E,x=gg().pinnedQuestions.map((function(e){return e.id})),I=yb()(x)!==n,S=ki()(x)!==n,k=Object(r.useCallback)((function(e){u(function(e,t){return{type:Ig,questionId:e,state:t}}(n,e))}),[u,n]),A=Object(r.useCallback)((function(){return k("pin")}),[k]),T=Object(r.useCallback)((function(){return k("unpin")}),[k]),P=Object(r.useCallback)((function(){return p?T():A()}),[p,T,A]),M=Object(r.useCallback)((function(){return u(Tg(n,"up"))}),[u,n]),R=Object(r.useCallback)((function(){return u(Tg(n,"down"))}),[u,n]),D=Object(r.useCallback)((function(){confirm(s("question.moderate.archive_confirmation"))&&k("archive")}),[s,k]);return o.a.createElement(e.Container,null,y&&o.a.createElement(e.Row,null,I&&o.a.createElement(e.Move,{onClick:M,margin:"right"},o.a.createElement("span",null,"Move Up"),o.a.createElement(Wr,null)),S&&o.a.createElement(e.Move,{onClick:R,margin:"left"},o.a.createElement("span",null,"Move Down"),o.a.createElement(Vr.a,null))),(_||C)&&o.a.createElement(e.Row,null,_&&o.a.createElement(e.Vote,null,o.a.createElement(qd,{voteableType:"answers",voteableId:d})),C&&o.a.createElement(e.ManageDropdown,null,o.a.createElement(N.a,{renderToggle:function(t){var n=t.isVisible;return o.a.createElement(L.a,{as:"span"},"Manage",o.a.createElement(e.ManageDropdownIcon,null,n?o.a.createElement(Wr,null):o.a.createElement(Vr.a,null)))}},(function(t){var n=t.onClose;return o.a.createElement(e.ManageDropdownList,null,g&&o.a.createElement("li",null,o.a.createElement(e.TextButton,{onClick:function(){P(),n()}},s("question.moderate.".concat(p?"unpin":"pin")))),v&&o.a.createElement("li",null,o.a.createElement(e.TextButton,{onClick:function(){a(),n()}},s("question.moderate.edit"))),w&&o.a.createElement("li",null,o.a.createElement(e.TextButton,{onClick:function(){D(),n()}},s("question.moderate.archive"))),j&&o.a.createElement("li",null,o.a.createElement(e.TextButton,{onClick:function(){c(),n()}},s("answer.moderate.edit"))),E&&o.a.createElement("li",null,o.a.createElement(e.TextButton,{onClick:function(){l(),n()}},s("answer.moderate.clear"))))})))))},Ob=o.a.memo(vb);vb.Container=c.f.div.withConfig({displayName:"QuestionAnswerActions__Container",componentId:"sc-6ne2ji-0"})(["display:flex;flex-direction:column;gap:",";padding:",";padding-top:0;&:empty{display:none;}"],(function(e){return e.theme.space.large}),(function(e){return e.theme.space.xLarge})),vb.Row=c.f.div.withConfig({displayName:"QuestionAnswerActions__Row",componentId:"sc-6ne2ji-1"})(["display:flex;align-items:center;justify-content:space-between;"]),vb.Move=c.f.div.withConfig({displayName:"QuestionAnswerActions__Move",componentId:"sc-6ne2ji-2"})(["cursor:pointer;font-size:",";"," span:first-of-type{text-decoration:underline;margin-right:",";}svg{fill:",";width:",";vertical-align:middle;}"],(function(e){return e.theme.fontSize.smallReading}),(function(e){return"margin-".concat(e.margin,": auto;")}),(function(e){return e.theme.space.xSmall}),(function(e){return e.theme.color.background.on}),(function(e){return e.theme.space.half})),vb.Vote=c.f.div.withConfig({displayName:"QuestionAnswerActions__Vote",componentId:"sc-6ne2ji-3"})([""]),vb.ManageDropdown=c.f.div.withConfig({displayName:"QuestionAnswerActions__ManageDropdown",componentId:"sc-6ne2ji-4"})(["margin-left:auto;"]),vb.ManageDropdownIcon=c.f.span.withConfig({displayName:"QuestionAnswerActions__ManageDropdownIcon",componentId:"sc-6ne2ji-5"})(["margin-left:",";svg{fill:",";width:",";vertical-align:middle;}"],(function(e){return e.theme.space.xSmall}),(function(e){return e.theme.color.background.on}),(function(e){return e.theme.space.half}));var wb=function(e){return Object(Om.a)(e.theme.color.background.on)?"#fff":"#000"};function _b(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,a=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){c=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(c)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return jb(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return jb(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function jb(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}vb.ManageDropdownList=c.f.ul.withConfig({displayName:"QuestionAnswerActions__ManageDropdownList",componentId:"sc-6ne2ji-6"})(["",";background-color:",";border:1px solid ",";margin-top:",";font-size:",";position:absolute;min-width:100%;cursor:pointer;white-space:nowrap;li{color:",";&:hover{background-color:",";color:",";}}&:before{"," left:50%;}"],Object(T.a)("dropdown"),(function(e){return e.theme.color.background.on}),(function(e){return wb(e)}),(function(e){return e.theme.space.half}),(function(e){return e.theme.fontSize.smallReading}),(function(e){return wb(e)}),(function(e){return e.theme.color.background.on}),(function(e){return e.theme.color.background.main}),(function(e){return Object(P.b)({direction:"top",size:"8px",color:e.theme.color.background.on,borderColor:wb(e)})})),vb.TextButton=Object(c.f)((function(e){return o.a.createElement(M.a,e)})).withConfig({displayName:"QuestionAnswerActions__TextButton",componentId:"sc-6ne2ji-7"})(["padding:"," ",";text-align:left;"],(function(e){return e.theme.space.xSmall}),(function(e){return e.theme.space.half}));var Eb=function e(t){var n=t.questionId,a=t.defaultExpanded,i=Object(m.a)().t,c=Object(b.a)("questions",n),l=c.answer,u=_b(Object(r.useState)(!1),2),s=u[0],f=u[1],d=Object(r.useCallback)((function(){return f(!0)}),[f]),p=Object(r.useCallback)((function(){return f(!1)}),[f]),h=_b(Object(r.useState)(!1),2),g=h[0],y=h[1],v=Object(r.useCallback)((function(){return y(!0)}),[y]),O=Object(r.useCallback)((function(){return y(!1)}),[y]),w=Object(da.a)("success",i("answer.clear.success")),_=Object(da.a)("error",i("answer.clear.failure")),j=Object(ue.a)({submitAction:tb,extraValues:{answerId:l,questionId:n},onSuccess:w,onError:_});return o.a.createElement(Wg,{questionId:n,defaultExpanded:s||a,canToggleExpand:!s,titleContent:s?o.a.createElement($g,{questionId:n,cancel:p}):o.a.createElement("span",null,c.body)},j.isSubmitting?o.a.createElement(e.ClearAnswerSpinner,null):o.a.createElement(gb,{answerId:l,questionId:n,editing:g,cancelEdit:O}),o.a.createElement(Ob,{questionId:n,editQuestion:d,editAnswer:v,clearAnswer:j.onSubmit}))},Cb=o.a.memo(Eb);Eb.defaultProps={defaultExpanded:!1},Eb.ClearAnswerSpinner=Object(c.f)(R.a).withConfig({displayName:"Question__ClearAnswerSpinner",componentId:"sc-2pyi4c-0"})(["display:block;height:",";margin:"," auto;"],(function(e){return e.theme.space.xLarge}),(function(e){return e.theme.space.small}));var xb=function e(t){var n=t.songId,a=Object(i.c)(),c=Object(m.a)().t,l=Object(i.d)((function(e){return e.songPage.pendingQuestionCount})),u=Object(i.d)((function(e){return e.songPage.loadingPendingQuestions})),s=Object(ie.a)(),f=s?"xLargeHeadline":"xxLargeHeadline",d=gg(),p=d.pinnedQuestions,h=d.pendingQuestions,g=Object(i.d)((function(e){return e.songPage.metadataQuestions})),b=Object(y.a)("song:show_more_questions"),v=Object(r.useCallback)((function(){a(function(e){return{type:wg,songId:e,state:arguments.length>1&&void 0!==arguments[1]?arguments[1]:"pending"}}(n)),b()}),[a,n,b]);return o.a.createElement(o.a.Fragment,null,!s&&o.a.createElement(yg,null),o.a.createElement(e.Container,null,o.a.createElement(e.Header,null,o.a.createElement(e.Title,{fontSize:f},c("question.title")),o.a.createElement(e.SubTitle,null,c("question.subtitle"))),o.a.createElement(Dg,{songId:n}),Boolean(p.length||h.length||g.length)&&o.a.createElement(e.Table,null,p.map((function(e,t){var n=e.id,r=e.state;return o.a.createElement(Cb,{key:n,questionId:n,defaultExpanded:"pinned"===r&&t<3})})),o.a.createElement(pg.a,{mixpanelPagePrefix:"song",questionIds:g}),h.map((function(e){var t=e.id;return o.a.createElement(Cb,{key:t,questionId:t})}))),l>0&&o.a.createElement(e.Footer,null,u?o.a.createElement(cc.a,null):o.a.createElement(Bn.a,{onClick:v},"Show More (",l,")")),s&&o.a.createElement(hh,{name:"mobile_song_q_and_a"})))};xb.Container=c.f.div.withConfig({displayName:"QuestionList__Container",componentId:"sc-1a58vti-0"})(["position:relative;font-weight:",";color:",";"],(function(e){return e.theme.fontWeight.light}),(function(e){return e.theme.color.background.on})),xb.Header=c.f.div.withConfig({displayName:"QuestionList__Header",componentId:"sc-1a58vti-1"})(["display:flex;flex-direction:column;align-items:center;margin-bottom:",";"],(function(e){return e.theme.space.xxLarge})),xb.Title=c.f.h2.withConfig({displayName:"QuestionList__Title",componentId:"sc-1a58vti-2"})(["font-size:",";font-weight:",";"],(function(e){return e.theme.fontSize[e.fontSize]}),(function(e){return e.theme.fontWeight.normal})),xb.SubTitle=c.f.p.withConfig({displayName:"QuestionList__SubTitle",componentId:"sc-1a58vti-3"})(["max-width:22rem;text-align:center;"]),xb.Empty=c.f.div.withConfig({displayName:"QuestionList__Empty",componentId:"sc-1a58vti-4"})(["margin-top:",";"],(function(e){return e.theme.space.xxLarge})),xb.Table=c.f.div.withConfig({displayName:"QuestionList__Table",componentId:"sc-1a58vti-5"})(["margin-top:",";"],(function(e){return e.theme.space.xxLarge})),xb.Footer=c.f.div.withConfig({displayName:"QuestionList__Footer",componentId:"sc-1a58vti-6"})(["margin-top:",";"],(function(e){return e.theme.space.xLarge}));var Ib=o.a.memo(xb),Sb=n(47),kb=function e(t){var n=t.albumId,r=t.selectedSongId,a=Object(b.a)("albums",n),c=Object(m.a)().t,l=Object(i.d)((function(e){var t=e.entities;return a&&a.tracklist?a.tracklist.map((function(e){var n=t.songs[e],r=n.lyricsState,o=n.title,a=n.url,i=t.albumAppearances[e],c=i.currentUserMetadata;return{id:e,lyricsState:r,title:o,url:a,number:i.number,currentUserMetadata:c}})):[]}),Sb.a);return o.a.createElement(e.Container,null,l.map((function(t){var n=["incomplete","unreleased"].includes(t.lyricsState)?" ".concat(c("song.lyrics_state.".concat(t.lyricsState,".indicator"))):"",a=Object(O.f)("view_song",t)&&t.id!==r;return o.a.createElement(e.Track,{key:t.id},o.a.createElement(e.TrackName,{currentTrack:r===t.id},t.number&&o.a.createElement(e.TrackNumber,null,"".concat(t.number,". ")),a?o.a.createElement(C.a,{href:t.url},t.title,n):o.a.createElement(o.a.Fragment,null,t.title,n)))})))};kb.defaultProps={selectedSongId:null};var Ab=o.a.memo(kb);kb.Container=c.f.ol.withConfig({displayName:"AlbumTracklist__Container",componentId:"sc-123giuo-0"})(["grid-column:grid-start / grid-end;text-align:start;column-count:2;font-size:",";"],(function(e){return e.theme.fontSize.smallReading})),kb.Track=c.f.li.withConfig({displayName:"AlbumTracklist__Track",componentId:"sc-123giuo-1"})(["display:flex;margin-bottom:",";break-inside:avoid;color:",";padding:0 ",";"],(function(e){return e.theme.space.small}),(function(e){return e.theme.color.background.on}),(function(e){return e.theme.grid.gap})),kb.TrackName=c.f.div.withConfig({displayName:"AlbumTracklist__TrackName",componentId:"sc-123giuo-2"})(["display:inline-flex;position:relative;padding:",";",""],(function(e){return"".concat(e.theme.space.quarter," 0")}),(function(e){return e.currentTrack&&"\n    &:after {\n      content: '';\n      position: absolute;\n      top: 0;\n      right: -".concat(e.theme.grid.gap,";\n      bottom: 0;\n      left: -").concat(e.theme.grid.gap,";\n      border: 1px solid;\n    }\n  ")})),kb.TrackNumber=c.f.div.withConfig({displayName:"AlbumTracklist__TrackNumber",componentId:"sc-123giuo-3"})(["padding-right:",";"],(function(e){return e.theme.space.half}));var Tb=function e(t){var n=t.album;return o.a.createElement(e.Container,null,o.a.createElement(e.ImageContainer,null,o.a.createElement(e.LinkContainer,{href:n.url},o.a.createElement(qc.a,{src:n.coverArtThumbnailUrl,width:80,height:80,aspectRatio:1}))),o.a.createElement(e.Info,null,o.a.createElement(e.AlbumTitle,{href:n.url},n.name," ",n.releaseDateComponents&&"(".concat(n.releaseDateComponents.year,")")),n.artist&&o.a.createElement(e.ArtistName,{href:n.artist.url},n.artist.name)))};Tb.LinkContainer=c.f.a.withConfig({displayName:"OtherAlbum__LinkContainer",componentId:"sc-1v3e9pk-0"})(["all:unset;cursor:pointer;"]),Tb.Container=c.f.div.withConfig({displayName:"OtherAlbum__Container",componentId:"sc-1v3e9pk-1"})(["color:",";display:flex;flex-direction:row;gap:",";"],(function(e){return e.theme.color.background.on}),(function(e){return e.theme.space.xLarge})),Tb.ImageContainer=c.f.div.withConfig({displayName:"OtherAlbum__ImageContainer",componentId:"sc-1v3e9pk-2"})(["border:1px solid ",";;height:fit-content;"],(function(e){return e.theme.color.background.on})),Tb.Info=c.f.div.withConfig({displayName:"OtherAlbum__Info",componentId:"sc-1v3e9pk-3"})(["display:flex;flex-direction:column;justify-content:center;"]),Tb.AlbumTitle=c.f.a.withConfig({displayName:"OtherAlbum__AlbumTitle",componentId:"sc-1v3e9pk-4"})(["color:inherit;font-size:",";text-decoration:underline;:hover{text-decoration:none;}"],(function(e){return e.theme.fontSize.xSmallReading})),Tb.ArtistName=c.f.a.withConfig({displayName:"OtherAlbum__ArtistName",componentId:"sc-1v3e9pk-5"})(["color:inherit;font-size:0.625rem;text-decoration:underline;:hover{text-decoration:none;}"]);var Pb=o.a.memo(Tb);function Nb(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,a=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){c=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(c)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Mb(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Mb(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Mb(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Rb=function e(t){var n=t.songId,a=Object(b.a)("songs",n),i=a.album,c=a.albums.filter((function(e){return e.id!==i})),l=Nb(Object(r.useState)(!1),2),u=l[0],s=l[1],f=Object(r.useCallback)((function(){return s(!u)}),[u]),d=Object(ie.a)();return 0===c.length?null:u?o.a.createElement(o.a.Fragment,null,o.a.createElement(e.AlbumList,{isMobile:d},c.map((function(e){return o.a.createElement(Pb,{key:e.id,album:e})}))),o.a.createElement(e.ButtonContainer,null,o.a.createElement(Bn.a,{onClick:f},"Close"," ",o.a.createElement(j.a,{aspectRatio:.4125,lineHeight:1.33,svg:w.a})))):o.a.createElement(e.ButtonContainer,null,o.a.createElement(Bn.a,{onClick:f},"Expand"," ",o.a.createElement(j.a,{aspectRatio:.4125,lineHeight:1.33,svg:Vn.a})))};Rb.AlbumList=c.f.div.withConfig({displayName:"OtherAlbums__AlbumList",componentId:"sc-2n6wdo-0"})(["grid-column:1 / -1;display:grid;gap:1.5rem;padding-top:",";padding-left:",";padding-right:",";grid-template-columns:",";"],(function(e){return e.theme.space.xxLarge}),(function(e){return e.isMobile?e.theme.space.xxLarge:0}),(function(e){return e.isMobile?e.theme.space.xxLarge:0}),(function(e){return e.isMobile?"1fr":"1fr 1fr"})),Rb.ButtonContainer=c.f.div.withConfig({displayName:"OtherAlbums__ButtonContainer",componentId:"sc-2n6wdo-1"})(["display:flex;justify-content:center;grid-column:1 / -1;padding-top:",";span{vertical-align:1px;}"],(function(e){return e.theme.space.xxLarge}));var Lb=o.a.memo(Rb),Db=function e(t){var n=t.songId,r=Object(b.a)("songs",n).album,a=Object(b.a)("albums",r),i=Object(b.a)("artists",fr()(a,"artist")),c=Object(Da.a)("songHeader"),l=Object(ie.a)();return r&&o.a.createElement(o.a.Fragment,null,!l&&o.a.createElement(yg,null),o.a.createElement(e.Container,null,o.a.createElement(e.SectionAnchor,{id:"primary-album",distanceAboveSongHeader:c}),o.a.createElement(e.CoverArt,null,o.a.createElement(qc.a,{src:a.coverArtUrl,aspectRatio:1})),o.a.createElement(e.AlbumDetails,null,o.a.createElement(e.Title,{as:"a",href:a.url},a.name," ",a.releaseDateComponents&&"(".concat(a.releaseDateComponents.year,")")),o.a.createElement(e.Artist,null,o.a.createElement(C.a,{href:i.url},i.name))),o.a.createElement(Ab,{albumId:r,selectedSongId:n}),o.a.createElement(Lb,{songId:n})),l&&o.a.createElement(hh,{name:"mobile_song_tracklist"}))},Fb=o.a.memo(Db);Db.Container=c.f.div.withConfig({displayName:"PrimaryAlbum__Container",componentId:"cuci8p-0"})(["position:relative;display:grid;grid-template-columns:[grid-start] repeat(2,1fr) [grid-end];text-align:start;"]),Db.SectionAnchor=c.f.div.withConfig({displayName:"PrimaryAlbum__SectionAnchor",componentId:"cuci8p-1"})(["position:absolute;top:",";"],(function(e){return"calc(-1.5 * ".concat(e.theme.space.xxLarge,")")})),Db.CoverArt=c.f.div.withConfig({displayName:"PrimaryAlbum__CoverArt",componentId:"cuci8p-2"})(["margin:",";"],(function(e){return"0 ".concat(e.theme.space.xxxLarge," 2.5rem ").concat(e.theme.space.xxxLarge)})),Db.AlbumDetails=c.f.div.withConfig({displayName:"PrimaryAlbum__AlbumDetails",componentId:"cuci8p-3"})(["display:flex;flex-direction:column;justify-content:center;margin-bottom:2.5rem;"]),Db.Title=c.f.div.withConfig({displayName:"PrimaryAlbum__Title",componentId:"cuci8p-4"})(["font-size:",";color:",";"],(function(e){return e.theme.fontSize.reading}),(function(e){return e.theme.color.background.on})),Db.Artist=c.f.div.withConfig({displayName:"PrimaryAlbum__Artist",componentId:"cuci8p-5"})(["font-size:",";color:",";"],(function(e){return e.theme.fontSize.smallReading}),(function(e){return e.theme.color.background.on}));var zb=function(e){var t=e.item;return o.a.createElement(C.a,{href:t.url},t.fullTitle)},Bb=o.a.memo(zb),Vb=function e(t){var n=t.songId,r=Object(b.a)("songs",n).tags,a=void 0===r?[]:r;return 0===a.length?null:o.a.createElement(o.a.Fragment,null,o.a.createElement(e.Title,null,"Tags"),o.a.createElement(e.Container,null,hg()(a,["primary"],["desc"]).map((function(t,n){var r=t.name,a=t.primary,i=t.url;return o.a.createElement(e.Tag,{key:n,href:i,primary:a},r)}))))},Hb=o.a.memo(Vb);Vb.Title=c.f.div.withConfig({displayName:"SongTags__Title",componentId:"xixwg3-0"})(["font-size:",";margin:"," 0;text-align:left;"],(function(e){return e.theme.fontSize.xSmallReading}),(function(e){return e.theme.space.small})),Vb.Container=c.f.div.withConfig({displayName:"SongTags__Container",componentId:"xixwg3-1"})(["display:flex;flex-wrap:wrap;grid-gap:",";"],(function(e){return e.theme.space.small})),Vb.Tag=c.f.a.withConfig({displayName:"SongTags__Tag",componentId:"xixwg3-2"})(["color:",";border:1px solid ",";padding:",";font-size:",";"," &:visited{color:",";}&:hover{","}"],(function(e){return e.theme.color.background.on}),(function(e){return e.theme.color.background.on}),(function(e){return e.theme.space.half}),(function(e){return e.theme.fontSize.smallReading}),(function(e){return e.primary&&"font-weight: ".concat(e.theme.fontWeight.bold,";")}),(function(e){return e.theme.color.background.on}),(function(e){return Object(P.d)(e.theme.color.background.on)}));var qb=function e(t){var n=t.songId,r=Object(m.a)().t,a=Object(y.a)("song:expand_credits"),i=Object(Da.a)("songHeader"),c=Object(ie.a)(),l=Object(b.a)("songs",n),u=l.featuredArtists,s=l.producerArtists,f=l.writerArtists,d=l.customPerformances,p=l.recordingLocation,h=l.releaseDateForDisplay,g=l.relationshipsIndexUrl,v=l.songRelationships,w=l.tags,_=l.title,j=v.filter((function(e){return e.songs.length})),E=[u,s,f,d,p,h,j,w],C=Jo()(E,(function(e){return!ae()(e)})),x=Object(O.f)("view_relationships_page",l);return C&&o.a.createElement(o.a.Fragment,null,!c&&o.a.createElement(yg,null),o.a.createElement(ug.a,{id:"songInfo",onExpand:a},o.a.createElement(e.Container,null,o.a.createElement(e.SectionAnchor,{id:"song-info",distanceAboveSongHeader:i}),o.a.createElement(e.Title,null,r("song.metadata.song_info")),o.a.createElement(e.Columns,null,u.length>0&&o.a.createElement(e.Credit,null,o.a.createElement(e.Label,null,r("song.metadata.featured_artists")),o.a.createElement(Jl.a,{items:u,ListItem:Kl.a})),s.length>0&&o.a.createElement(e.Credit,null,o.a.createElement(e.Label,null,r("song.metadata.producer_artists")),o.a.createElement(Jl.a,{items:s,ListItem:Kl.a})),f.length>0&&o.a.createElement(e.Credit,null,o.a.createElement(e.Label,null,r("song.metadata.writer_artists")),o.a.createElement(Jl.a,{items:f,ListItem:Kl.a})),d.map((function(t){var n=t.artists,r=t.label;return o.a.createElement(e.Credit,{key:r},o.a.createElement(e.Label,null,r),o.a.createElement(Jl.a,{items:n,ListItem:Kl.a}))})),p&&o.a.createElement(e.Credit,null,o.a.createElement(e.Label,null,r("song.metadata.recording_location")),o.a.createElement("div",null,p)),h&&o.a.createElement(e.Credit,null,o.a.createElement(e.Label,null,r("song.metadata.release_date")),o.a.createElement("div",null,h)),j.map((function(t){var n=t.relationshipType,a=t.songs,i=t.url;return o.a.createElement(e.Credit,{key:n},o.a.createElement(e.Label,i?{as:"a",href:i}:{},r("song_relationships.section_title.".concat(n),{song_title:_})),o.a.createElement(Jl.a,{items:a,ListItem:Bb}))}))),x&&o.a.createElement(e.RelationshipsPageLink,{href:g},r("song_relationships.view_all_verbose",{song_title:_})),o.a.createElement(Hb,{songId:n}))),c&&o.a.createElement(hh,{name:"mobile_song_credits"}))},Wb=o.a.memo(qb);qb.Container=c.f.div.withConfig({displayName:"SongInfo__Container",componentId:"nekw6x-0"})(["position:relative;font-weight:",";padding:0 "," 0 ",";color:",";"],(function(e){return e.theme.fontWeight.light}),(function(e){return e.theme.space.large}),(function(e){return e.theme.space.large}),(function(e){return e.theme.color.background.on})),qb.Title=c.f.div.withConfig({displayName:"SongInfo__Title",componentId:"nekw6x-1"})(["font-size:",";font-weight:",";margin-bottom:",";line-height:",";"],(function(e){return e.theme.fontSize.headline}),(function(e){return e.theme.fontWeight.normal}),(function(e){return e.theme.space.xxLarge}),(function(e){return e.theme.lineHeight.xShort})),qb.Columns=c.f.div.withConfig({displayName:"SongInfo__Columns",componentId:"nekw6x-2"})(["display:grid;text-align:left;grid-template-columns:1fr 1fr;grid-gap:",";"],(function(e){return e.theme.grid.gap})),qb.Credit=c.f.div.withConfig({displayName:"SongInfo__Credit",componentId:"nekw6x-3"})(["font-size:",";&:not(:last-child){margin-bottom:",";}"],(function(e){return e.theme.fontSize.smallReading}),(function(e){return e.theme.space.xLarge})),qb.Label=c.f.div.withConfig({displayName:"SongInfo__Label",componentId:"nekw6x-4"})(["display:block;font-size:",";color:",";"],(function(e){return e.theme.fontSize.xSmallReading}),(function(e){return e.theme.color.background.on})),qb.SectionAnchor=c.f.div.withConfig({displayName:"SongInfo__SectionAnchor",componentId:"nekw6x-5"})(["position:absolute;top:",";"],(function(e){return"calc(-1.5 * (".concat(e.distanceAboveSongHeader,"))")})),qb.RelationshipsPageLink=Object(c.f)(C.a).withConfig({displayName:"SongInfo__RelationshipsPageLink",componentId:"nekw6x-6"})(["display:block;text-align:left;font-size:",";margin:"," 0 ",";"],(function(e){return e.theme.fontSize.smallReading}),(function(e){return e.theme.space.small}),(function(e){return e.theme.space.large}));var Ub=/https?:\/\/www\.youtube\.com\/watch\?v=(.*)/i,$b=function e(t){var n=t.src,a=t.startAt,i=t.title,c=t.autoPlay,l=void 0!==c&&c,u=Object(r.useRef)(null),s=Object(r.useRef)(null),f=n?n.match(Ub)[1]:"",d=Object(r.useRef)(f),p=Object(r.useMemo)((function(){return{autoplay:l?1:0,controls:1,enablejsapi:1,fs:1,iv_load_policy:3,modestbranding:1,rel:0,playsInline:0,origin:"https://".concat(Po.a.canonicalDomain),start:a||0}}),[l,a]),m="https://www.youtube.com/embed/".concat(f,"?").concat(Object(O.o)(p)),h=Object(y.a)("song:play_music_video",{video_provider:"youtube"}),g=Object(r.useCallback)((function(){window.YT&&u.current&&new window.YT.Player(u.current,{videoId:f,playerVars:p,events:{onStateChange:function(e){e.data===window.YT.PlayerState.PLAYING&&h()}}})}),[f,p,h]);return Object(r.useEffect)((function(){if(n){if(!window.YT){var e=document.createElement("script");e.src="https://www.youtube.com/iframe_api",e.async=!0,document.body.appendChild(e),s.current=e}window.onYouTubeIframeAPIReady=function(){g(f)}}}),[g,n,f]),Object(r.useEffect)((function(){f!==d.current&&(g(f),d.current=f)}),[g,f]),n?o.a.createElement(e.Container,null,o.a.createElement(e.Iframe,{ref:u,src:m,title:i,allow:"autoplay"})):null},Qb=o.a.memo($b);function Gb(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,a=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){c=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(c)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Yb(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Yb(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Yb(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}$b.Container=c.f.div.withConfig({displayName:"YoutubePlayer__Container",componentId:"sc-1opldbx-0"})(["padding-bottom:","%;position:relative;width:100%;"],56.25),$b.Iframe=c.f.iframe.withConfig({displayName:"YoutubePlayer__Iframe",componentId:"sc-1opldbx-1"})(["position:absolute;top:0;left:0;width:100%;height:100%;"]);var Kb=function e(t){var n=t.lazy,a=t.src,i=t.startAt,c=Object(r.useRef)(null),l=Gb(Object(r.useState)(!n),2),u=l[0],s=l[1],f=Object(ie.a)();return Object(r.useEffect)((function(){if(n&&a&&c.current){var e=new O.b((function(t){Gb(t,1)[0].isIntersecting&&(s(!0),e.disconnect())}),{rootMargin:"0px 0px 100% 0px",shim:{observe:function(){return s(!0)}}});return e.observe(c.current),function(){return e.disconnect()}}}),[n,a]),a?o.a.createElement(o.a.Fragment,null,!f&&o.a.createElement(yg,null),o.a.createElement(e.Container,{ref:c},u&&o.a.createElement(Qb,{src:a,title:"Music Video",startAt:i}))):null};Kb.defaultProps={lazy:!0};var Zb=o.a.memo(Kb);Kb.Container=c.f.div.withConfig({displayName:"MusicVideo__Container",componentId:"sc-1980jex-0"})(["margin:"," 0 "," 0;"],(function(e){return e.theme.space.large}),(function(e){return e.theme.space.full}));var Xb=n(906),Jb=function e(t){var n=t.songId,r=Object(b.a)("songs",n),a=r.descriptionAnnotation,i=r.youtubeUrl,l=r.youtubeStart,u=Object(m.a)().t,s=Object(ce.a)({mobile:"xLargeHeadline",desktop:"xxLargeHeadline"}),f=Object(ie.a)();return o.a.createElement(c.c,{theme:h.b},o.a.createElement(e.Grid,null,o.a.createElement(e.Container,null,o.a.createElement(e.Title,{fontSize:s},u("about.heading")),o.a.createElement(dg,{descriptionAnnotationId:a}),o.a.createElement(Xb.a,{section:"questions"},o.a.createElement(Ib,{songId:n})),o.a.createElement(Fb,{songId:n}),o.a.createElement(Wb,{songId:n}),o.a.createElement(Zb,{src:i,startAt:l})),!f&&o.a.createElement(Wm.a,null,o.a.createElement(Um.a,{name:"desktop_song_about_sidebar"}))))},ey=o.a.memo(Jb);Jb.Grid=Object(c.f)((function(e){return o.a.createElement(La.a,e)})).withConfig({displayName:"About__Grid",componentId:"ut4i9m-0"})(["font-weight:",";background-image:",";padding-bottom:",";"],(function(e){return e.theme.fontWeight.light}),(function(e){return"linear-gradient(".concat(e.theme.color.background.main,", ").concat(e.theme.color.background.variant,")")}),(function(e){return e.theme.space.xxLarge})),Jb.Container=c.f.div.withConfig({displayName:"About__Container",componentId:"ut4i9m-1"})(["grid-column:left-start / left-end;padding-top:",";"],(function(e){return"calc(".concat(e.theme.space.xxLarge," + ").concat(e.theme.space.xSmall,")")})),Jb.Title=c.f.h1.withConfig({displayName:"About__Title",componentId:"ut4i9m-2"})(["font-size:",";text-align:center;font-weight:normal;color:",";"],(function(e){return e.theme.fontSize[e.fontSize]}),(function(e){return e.theme.color.background.on}));var ty=n(411),ny=Object(c.f)(ua.a).attrs({floatingLabel:!0}).withConfig({displayName:"FloatingField",componentId:"sc-187lo5b-0"})(["","{display:flex;flex-direction:column-reverse;}","{transition:all .2s;pointer-events:none;}input:placeholder-shown + ","{cursor:text;transform-origin:left bottom;transform:translate(",",2.5rem);}input:focus + ",",input:not(:placeholder-shown) + ","{transform:translate(0,0);}"],dr.b,dr.e,dr.e,(function(e){return e.theme.space.small}),dr.e,dr.e);function ry(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,a=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){c=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(c)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return oy(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return oy(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function oy(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ay=function e(t){var n=t.songId,a=Object(m.a)().t,c=Object(ea.a)(),l=Object(Mm.a)(),u=Object(i.c)(),s=Object(b.a)("songs",n),f=ry(Object(r.useState)(!1),2),d=f[0],p=f[1],h=Object(r.useCallback)((function(){p(!0)}),[p]),v=Object(r.useCallback)((function(){return p(!1)}),[p]),w=Object(da.a)("success",a("comments.form.success")),_=Object(da.a)("error",a("comments.form.failure")),j=Object(y.a)("song:comment_submitted"),E=Object(r.useCallback)((function(){v(),w(),j()}),[v,w,j]),C=Object(ue.a)({submitAction:Np,extraValues:{songId:n},useFormOptions:{mode:"onChange"},onSuccess:E,onError:_}),x=C.methods,I=C.onSubmit,S=C.isSubmitting,k=x.reset,T=Object(r.useCallback)((function(){u(Object(g.L)({reason:"song_comments"}))}),[u]);return Object(r.useEffect)((function(){k({body:"",name:"",email:""})}),[d,k]),Object(A.a)("cmd+enter, ctrl+enter",(function(){I()}),{enableOnTags:["INPUT","TEXTAREA"],filter:function(){return d}}),Object(O.f)("create_comment",s)?o.a.createElement(re.b,x,o.a.createElement(e.Container,null,c&&o.a.createElement(e.UserAvatar,{id:l.id}),o.a.createElement(e.Form,{onSubmit:I},o.a.createElement(ny,{name:"body",rules:{required:Object(og.b)(a("comments.form.body.field")),maxLength:Object(og.a)(80)},defaultValue:"",hideLabel:!0},o.a.createElement(tf.a,{onFocus:h,placeholder:a("comments.form.body.placeholder"),expandOnFocus:!0,autoResize:!0,fullWidth:!0,disabled:S})),d&&o.a.createElement("div",null,o.a.createElement(e.ButtonSubmit,{type:"submit",disabled:S,isLoading:S},a("comments.form.".concat(S?"submitting":"submit"))),!S&&o.a.createElement(e.ButtonCancel,{onClick:v},a("comments.form.cancel")))))):c?null:o.a.createElement(o.a.Fragment,null,o.a.createElement(e.FakeTextField,{htmlId:"fake-text-field",onClick:T},a("comments.form.body.placeholder")))},iy=o.a.memo(ay);function cy(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,a=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){c=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(c)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ly(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ly(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ly(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}ay.Container=c.f.div.withConfig({displayName:"CommentForm__Container",componentId:"sc-1rfrnj0-0"})(["display:flex;"]),ay.UserAvatar=Object(c.f)((function(e){return o.a.createElement(yf.a,e)})).withConfig({displayName:"CommentForm__UserAvatar",componentId:"sc-1rfrnj0-1"})(["margin:0.167rem ",' auto 0;img,[role="img"]{width:2.5rem;height:2.5rem;}'],(function(e){return e.theme.space.full})),ay.Form=c.f.form.withConfig({displayName:"CommentForm__Form",componentId:"sc-1rfrnj0-2"})(["display:grid;flex-grow:1;gap:",";"],(function(e){return e.theme.space.full})),ay.TextInput=Object(c.f)((function(e){return o.a.createElement(je.a,e)})).withConfig({displayName:"CommentForm__TextInput",componentId:"sc-1rfrnj0-3"})(["&::placeholder{color:",";}"],(function(e){return e.theme.color.background.on})),ay.ButtonSubmit=Object(c.f)((function(e){return o.a.createElement(Bn.a,e)})).withConfig({displayName:"CommentForm__ButtonSubmit",componentId:"sc-1rfrnj0-4"})(["margin-right:",";"],(function(e){return e.theme.space.xLarge})),ay.ButtonCancel=Object(c.f)((function(e){return o.a.createElement(M.a,e)})).withConfig({displayName:"CommentForm__ButtonCancel",componentId:"sc-1rfrnj0-5"})(["font-family:",";font-size:",";font-weight:normal;text-decoration:underline;&:hover{text-decoration:none;}"],(function(e){return e.theme.font.alternate}),(function(e){return e.theme.fontSize.reading})),ay.FakeTextField=c.f.button.withConfig({displayName:"CommentForm__FakeTextField",componentId:"sc-1rfrnj0-6"})(["font-size:",";border:1px solid ",";color:",";padding:",";width:100%;text-align:left;cursor:text;"],(function(e){return e.theme.fontSize.reading}),(function(e){return e.theme.color.background.on}),(function(e){return e.theme.color.background.on}),(function(e){return e.theme.space.small}));var uy=function e(t){var n=t.songId,a=Object(r.useRef)(null),c=Object(r.useRef)(null),l=Object(i.c)(),u=Object(m.a)().t,s=Object(y.a)("song:load_more_comments"),f=Object(b.a)("songs",n).commentCount,d=Object(i.d)((function(e){return e.songPage.initialCommentsLoaded})),p=Object(i.d)((function(e){return e.songPage.comments}))||[],h=Object(i.d)((function(e){return e.songPage.commentsNextPage})),g=Object(i.d)((function(e){return e.songPage.loadingComments})),v=cy(Object(r.useState)(!!f),2),w=v[0],_=v[1],E=Object(ce.a)({mobile:"xLargeHeadline",desktop:"xxLargeHeadline"}),C=Object(ie.a)(),x=Object(ea.a)(),I=f>0,S=p.length>0;Object(r.useLayoutEffect)((function(){w&&I&&d&&_(a.current.clientHeight>=480)}),[a,_,w,I,d]),Object(r.useEffect)((function(){if(!d){if(I){var e=new O.b((function(t){cy(t,1)[0].isIntersecting&&(l(Ep(n)),e.disconnect())}),{rootMargin:"0px 0px 50% 0px",shim:{observe:function(){return l(Ep(n))}}});return e.observe(c.current),function(){return e.disconnect()}}l(xp())}}),[l,n,I,d]);var k=Object(r.useCallback)((function(){w?_(!1):l(function(e){return{type:Ip,songId:e,page:arguments.length>1&&void 0!==arguments[1]?arguments[1]:1}}(n)),s()}),[w,l,n,s]);return o.a.createElement(e.Grid,null,o.a.createElement(e.Container,{ref:c},o.a.createElement(e.Title,{fontSize:E},"Comments"),o.a.createElement(iy,{songId:n}),d?o.a.createElement(o.a.Fragment,null,S?o.a.createElement(o.a.Fragment,null,o.a.createElement(e.Expandable,{ref:a,collapsed:w,onClick:w&&k},p.map((function(t){return o.a.createElement(e.CommentContainer,{key:t},o.a.createElement(Qp,{commentId:t}))}))),(w||h)&&o.a.createElement(e.ShowMore,null,g?o.a.createElement(cc.a,null):o.a.createElement(Bn.a,{onClick:k},u("comments.placeholder.expand")," ",o.a.createElement(j.a,{aspectRatio:.4125,lineHeight:1.1,svg:Vn.a})))):o.a.createElement(e.CTA,null,u("comments.placeholder.cta_1"),o.a.createElement("br",null),u("comments.placeholder.cta_2"))):o.a.createElement(e.SpinnerContainer,null,o.a.createElement(e.InitialLoadSpinner,null,o.a.createElement(cc.a,null))),!C&&!x&&o.a.createElement(yg,null),C&&o.a.createElement(hh,{name:"mobile_song_comments_footer"}),!x&&o.a.createElement(e.Footer,null,o.a.createElement(e.CTASubHeading,null,u("comments.placeholder.sign_up_header")),o.a.createElement(e.CTA,null,u("comments.placeholder.sign_up_body")),o.a.createElement(e.SignUpButton,{source:"song"}))),!C&&o.a.createElement(Wm.a,null,o.a.createElement(Um.a,{name:"desktop_song_comments_sidebar"})))},sy=o.a.memo(uy);uy.Grid=Object(c.f)((function(e){return o.a.createElement(La.a,e)})).withConfig({displayName:"SongComments__Grid",componentId:"sc-131p4fy-0"})(["padding-bottom:",";"],(function(e){return e.theme.space.large})),uy.Container=c.f.div.withConfig({displayName:"SongComments__Container",componentId:"sc-131p4fy-1"})(["grid-column:left-start / left-end;padding-top:",";"],(function(e){return"calc(".concat(e.theme.space.xxLarge," + ").concat(e.theme.space.xSmall,")")})),uy.Title=c.f.div.withConfig({displayName:"SongComments__Title",componentId:"sc-131p4fy-2"})(["font-size:",";margin-bottom:",";text-align:center;"],(function(e){return e.theme.fontSize[e.fontSize]}),(function(e){return e.theme.space.full})),uy.CTASubHeading=c.f.div.withConfig({displayName:"SongComments__CTASubHeading",componentId:"sc-131p4fy-3"})(["font-size:",";font-weight:",";line-height:",";"],(function(e){return e.theme.fontSize.headline}),(function(e){return e.theme.fontWeight.normal}),(function(e){return e.theme.lineHeight.xShort})),uy.Add=c.f.a.withConfig({displayName:"SongComments__Add",componentId:"sc-131p4fy-4"})(["margin-top:",";padding:"," 0 "," ",";border:1px solid ",";font-size:",";font-weight:",";width:100%;cursor:pointer;display:block;color:inherit;"],(function(e){return e.theme.space.large}),(function(e){return e.theme.space.half}),(function(e){return e.theme.space.half}),(function(e){return e.theme.space.small}),(function(e){return e.theme.color.background.on}),(function(e){return e.theme.fontSize.largeReading}),(function(e){return e.theme.fontWeight.light})),uy.CommentContainer=c.f.div.withConfig({displayName:"SongComments__CommentContainer",componentId:"sc-131p4fy-5"})(["&:not(:last-child){border-bottom:1px solid black;}"]),uy.CTA=c.f.div.withConfig({displayName:"SongComments__CTA",componentId:"sc-131p4fy-6"})(["margin-top:",";text-align:center;font-weight:",";color:",";"],(function(e){return e.theme.space.xxLarge}),(function(e){return e.theme.fontWeight.light}),(function(e){return e.theme.color.background.on})),uy.ShowMore=c.f.div.withConfig({displayName:"SongComments__ShowMore",componentId:"sc-131p4fy-7"})(["text-align:center;margin-bottom:",";"],(function(e){return e.theme.space.large})),uy.Expandable=c.f.div.withConfig({displayName:"SongComments__Expandable",componentId:"sc-131p4fy-8"})(["",""],(function(e){return e.collapsed&&"\n    overflow: hidden;\n    max-height: ".concat(480,"px;\n    mask: linear-gradient(rgba(0, 0, 0, 1), transparent);\n  ")})),uy.SpinnerContainer=c.f.div.withConfig({displayName:"SongComments__SpinnerContainer",componentId:"sc-131p4fy-9"})(["position:relative;height:","px;"],480),uy.InitialLoadSpinner=c.f.div.withConfig({displayName:"SongComments__InitialLoadSpinner",componentId:"sc-131p4fy-10"})(["position:absolute;top:50%;left:50%;transform:translate(-50%);"]),uy.Footer=c.f.div.withConfig({displayName:"SongComments__Footer",componentId:"sc-131p4fy-11"})(["text-align:center;padding:0 1rem;"]),uy.SignUpButton=Object(c.f)((function(e){return o.a.createElement(ty.a,e)})).withConfig({displayName:"SongComments__SignUpButton",componentId:"sc-131p4fy-12"})(["margin:"," 0;"],(function(e){return e.theme.space.full}));var fy=n(371),dy=n.n(fy),py=n(670),my=n.n(py);function hy(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,a=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){c=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(c)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return gy(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return gy(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function gy(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var by=[{model:"iPhone 8",toolbarHeightDeltaRange:[75,85],toolbarHeight:45},{model:"iPhone X",toolbarHeightDeltaRange:[113,123],toolbarHeight:84}],yy=function(){var e=Object(ie.a)(),t=Object(r.useRef)(0),n=hy(Object(r.useState)(0),2),o=n[0],a=n[1],i=hy(Object(r.useState)(0),2),c=i[0],l=i[1],u=hy(Object(r.useState)(0),2),s=u[0],f=u[1];Object(r.useEffect)((function(){t.current=window.innerHeight}),[]);var d=Object(r.useCallback)((function(){var e=window.visualViewport,n=e.height*e.scale;l(n);var r=window.innerHeight-n,o=90===window.orientation||-90===window.orientation,i=-1!==navigator.userAgent.indexOf("iPhone OS 15");r>0&&i&&(r+=55),f(o?0:r);var c=window.innerHeight-t.current,u=dy()(by,(function(e){var t=hy(e.toolbarHeightDeltaRange,2),n=t[0],r=t[1];return my()(c,n,r+1)}));a(fr()(u,"toolbarHeight",0))}),[]);return Object(r.useEffect)((function(){if(e&&window.visualViewport)return window.visualViewport.addEventListener("resize",d),window.visualViewport.addEventListener("scroll",d),function(){window.visualViewport.removeEventListener("resize",d),window.visualViewport.removeEventListener("scroll",d)}}),[e,d]),{toolbarClearance:o,offsetY:s,innerHeight:c}},vy=function e(t){var n=t.src,a=Object(i.c)(),c=Object(r.useCallback)((function(){a(Object(Q.Hb)())}),[a]);return o.a.createElement(e.Container,null,o.a.createElement(e.DismissButton,{onClick:c},o.a.createElement(mn.a,null)),o.a.createElement(Qb,{src:n,title:"Music Video",autoPlay:!0}))};vy.Container=c.f.div.withConfig({displayName:"TranscriptionPlayer__Container",componentId:"sc-1uzoc0i-0"})(["align-self:flex-end;max-width:360px;pointer-events:auto;position:relative;margin:",";padding-bottom:",";width:100%;"],(function(e){return e.theme.space.full}),(function(e){return e.theme.space.full})),vy.DismissButton=c.f.button.withConfig({displayName:"TranscriptionPlayer__DismissButton",componentId:"sc-1uzoc0i-1"})([""," position:absolute;right:1rem;top:1rem;fill:",";svg{display:block;height:12px;width:12px;}"],Object(T.a)("transcriptionPlayerDismissButton"),(function(e){return e.theme.color.background.main}));var Oy=o.a.memo(vy),wy=function e(){var t="tonefuse_android_mobile_web_320x50_sticky_banner",n=Object(ph.a)(t).state;return"empty"===n?null:o.a.createElement(e.PositioningContainer,{isLoaded:"filled"===n},o.a.createElement(e.IframeWrapper,null,o.a.createElement(e.Container,null,o.a.createElement(bf.a,{name:t,lazy:!1,refreshIntervalSeconds:null}))))},_y=o.a.memo(wy);function jy(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,a=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){c=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(c)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Ey(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ey(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ey(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}wy.PositioningContainer=c.f.div.withConfig({displayName:"TonefusePlayer__PositioningContainer",componentId:"sc-12s9gmp-0"})(["margin:",";transition:bottom 0.2s;position:relative;",""],(function(e){return e.theme.space.full}),(function(e){return e.isLoaded&&"\n    background-color: ".concat(e.theme.color.background.main,";\n    border: 2px solid;\n    padding: ").concat(e.theme.space.small," 0;\n    box-shadow: 0 4px 8px rgb(0 0 0 / 20%);")})),wy.IframeWrapper=Object(c.f)((function(e){return o.a.createElement(La.a,e)})).withConfig({displayName:"TonefusePlayer__IframeWrapper",componentId:"sc-12s9gmp-1"})(["position:relative;pointer-events:auto;"]),wy.Container=c.f.div.withConfig({displayName:"TonefusePlayer__Container",componentId:"sc-12s9gmp-2"})(["grid-column:left-start / right-end;justify-self:end;transition:height .2s,width .2s;width:",";margin-right:",";"],(function(e){return"calc(100% + 2 * ".concat(e.theme.angularFullSpacePixel,")")}),(function(e){return"-".concat(e.theme.angularFullSpacePixel)}));var Cy=["apple_mobile_flat_design","apple_mobile_upsell_shelf"];function xy(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,a=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){c=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(c)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Iy(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Iy(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Iy(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Sy=function e(t){var n=t.url,a=function(){var e=Object(r.useRef)(),t=Object(i.d)((function(e){return e.songPage.longTailCacheExperiment})),n=Object(ie.a)(),o=jy(Object(r.useState)(null),2),a=o[0],c=o[1],l=jy(Object(r.useState)(n?"107px":"64px"),2),u=l[0],s=l[1],f=jy(Object(r.useState)(!1),2),d=f[0],p=f[1];Object(r.useEffect)((function(){var t=function(t){e.current&&t.origin==="https://".concat(Po.a.canonicalDomain)&&t.source===e.current.contentWindow&&"in_apple_music_deal"===t.data&&p(!0)};return window.addEventListener("message",t),function(){return window.removeEventListener("message",t)}}),[]),Object(r.useEffect)((function(){var t=function(t){t.origin==="https://".concat(Po.a.canonicalDomain)&&t.source===e.current.contentWindow&&"amp"===t.data.sentinel&&"embed-size"===t.data.type&&(void 0!==t.data.height&&s("".concat(t.data.height,"px")),void 0!==t.data.width?c("".concat(t.data.width,"px")):c(null))};return window.addEventListener("message",t),function(){return window.removeEventListener("message",t)}}),[]),Object(r.useEffect)((function(){if(e.current&&d){var t=new IntersectionObserver((function(n){var r=jy(n,1)[0];(r.isIntersecting||r.boundingClientRect.bottom<0)&&(e.current.contentWindow.postMessage("open-upsell-shelf","*"),t.disconnect())}),{threshold:0}),n=document.querySelector("#about");return t.observe(n),function(){return t.disconnect()}}}),[d]);var m={react:1};t&&(m.long_tail_cache_experiment=t);var h=new URLSearchParams(window.location.search);return Cy.forEach((function(e){var t="x-ab-test-".concat(e);h.has(t)&&(m[t]=h.get(t))})),{iframeElementRef:e,width:a,height:u,inAppleMusicDeal:d,urlQueryParams:m}}(),c=a.iframeElementRef,l=a.width,u=a.height,s=a.inAppleMusicDeal,f=a.urlQueryParams,d=xy(Object(r.useState)(!0),2),p=d[0],m=d[1];return o.a.createElement(e.PositioningContainer,{inAppleMusicDeal:s},o.a.createElement(e.IframeWrapper,null,o.a.createElement(e.Iframe,{ref:c,sandbox:"allow-scripts allow-same-origin allow-popups allow-forms allow-popups-to-escape-sandbox",allow:"encrypted-media",src:"".concat(n,"?").concat(Object(O.o)(f)),height:u,width:l,onLoad:function(){return m(!1)},scrolling:"no"}),p&&o.a.createElement(e.IframeWrapperLoader,null,o.a.createElement(cc.a,{size:"36px"}))))},ky=o.a.memo(Sy);function Ay(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,a=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){c=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(c)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Ty(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ty(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ty(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}Sy.PositioningContainer=c.f.div.withConfig({displayName:"AppleMusicPlayerdesktop__PositioningContainer",componentId:"sc-13x6a26-0"})(["width:100%;transition:bottom 0.2s;position:relative;visibility:",";padding-bottom:",";"],(function(e){return e.inAppleMusicDeal?"visible":"hidden"}),(function(e){return e.theme.space.full})),Sy.IframeWrapper=Object(c.f)((function(e){return o.a.createElement(La.a,e)})).withConfig({displayName:"AppleMusicPlayerdesktop__IframeWrapper",componentId:"sc-13x6a26-1"})(["position:relative;pointer-events:auto;"]),Sy.IframeWrapperLoader=c.f.div.withConfig({displayName:"AppleMusicPlayerdesktop__IframeWrapperLoader",componentId:"sc-13x6a26-2"})(["grid-column:left-start / right-end;display:flex;align-items:center;justify-content:center;position:absolute;width:100%;height:",";bottom:",";left:",";border:",";background:",";margin-left:",";"],(function(e){return"calc(100% - ".concat(e.theme.angularFullSpacePixel,")")}),(function(e){return e.theme.angularFullSpacePixel}),(function(e){return e.theme.angularFullSpacePixel}),(function(e){return"".concat(e.theme.border.standardWidthPixels," solid ").concat(e.theme.color.background.on)}),(function(e){return e.theme.color.background.main}),(function(e){return"-".concat(e.theme.angularFullSpacePixel)})),Sy.Iframe=c.f.iframe.withConfig({displayName:"AppleMusicPlayerdesktop__Iframe",componentId:"sc-13x6a26-3"})(["grid-column:left-start / right-end;justify-self:end;transition:height .2s,width .2s;width:",";height:",";margin-right:",";"],(function(e){return e.width||"calc(100% + 2 * ".concat(e.theme.angularFullSpacePixel,")")}),(function(e){return e.height}),(function(e){return"-".concat(e.theme.angularFullSpacePixel)}));var Py=function e(){var t=Ay(Object(r.useState)(null),2),n=t[0],a=t[1],c=Object(i.d)((function(e){return e.songPage.song})),l=Object(i.d)((function(e){return e.songPage.isTranscriptionPlayerVisible})),u=Object(i.d)((function(e){return e.session.showAds})),s=Object(ie.a)(),f=yy().toolbarClearance,d=Object(b.a)("songs",c),p=d.appleMusicId,m=d.isMusic,h=d.appleMusicPlayerUrl,g=d.youtubeUrl;return Object(r.useEffect)((function(){var e=Ym.android&&m&&u,t=Object(O.f)("view_apple_music_player",d)&&m&&(p||s);e?a("tonefuse"):t&&a("apple")}),[d,m,p,s,u]),o.a.createElement(e.Container,{toolbarClearance:f},l&&o.a.createElement(Oy,{src:g}),"tonefuse"===n?o.a.createElement(_y,null):"apple"===n?o.a.createElement(ky,{url:h,appleMusicId:p}):null)},Ny=o.a.memo(Py);Py.Container=c.f.div.withConfig({displayName:"MediaPlayersContainer__Container",componentId:"sc-1tibexe-0"})([""," ",";display:flex;flex-direction:column;pointer-events:none;position:fixed;left:0;right:0;"],Object(T.a)("playersContainer"),(function(e){return"bottom: ".concat(e.toolbarClearance>0?"calc(".concat(e.toolbarClearance,"px - ").concat(e.theme.angularFullSpacePixel,")"):0,";")}));var My=n(891),Ry=n(221),Ly=n(319),Dy=n(519),Fy=n(135),zy=n(601),By=function e(){Object(r.useEffect)((function(){a.polyfill()}),[]);var t=Object(ea.a)(),n=Object(ie.a)(),c=Object(i.c)(),l=Object(i.d)((function(e){return u()(e.songPage,["song","lyricsData","lyricsEditContext"])}),i.b),d=l.song,p=l.lyricsData,m=l.lyricsEditContext,h=Object(b.a)("songs",d),y=h.appleMusicId,v=h.isMusic,w=h.lyricsPlaceholderReason,_=h.pusherChannel,j=h.updatedByHumanAt,E=h.lyricsUpdatedAt,C=Object(O.f)("view_apple_music_player",h)&&v&&(y||n),x=Boolean(m);Object(r.useEffect)((function(){var e,t;c(Object(g.T)("song:load",{long_tail_cache:null===(e=document.querySelector('meta[itemprop="long-tail-cache"]'))||void 0===e?void 0:e.content,rendered_with_cache:null===(t=document.querySelector('meta[itemprop="rendered-with-cache"]'))||void 0===t?void 0:t.content})),Object(Xn.a)(d)}),[c,d]),Object(r.useEffect)((function(){c(Object(Q.wb)(d))}),[c,d]),Object(r.useEffect)((function(){c(Object(zy.i)(d))}),[c,d]),function(){var e=Object(i.c)(),t=Object(i.d)((function(e){return e.songPage.scrollToFragment}));Object(r.useLayoutEffect)((function(){var n=new URLSearchParams(window.location.search).get("referent_id"),r="".concat(n,":1");n&&!t&&e(Object(Ns.ab)({baseAnnotation:n,fragment:r}))}),[t,e])}(),function(){var e=Object(i.c)();Object(r.useEffect)((function(){var t=function(t){var n=t.state;if(n){var r=n.fragment,o=n.baseAnnotation;e(Object(Ns.hb)({fragment:r,baseAnnotation:o}))}};return history.scrollRestoration="manual",window.addEventListener("popstate",t),function(){return window.removeEventListener("popstate",t)}}),[e])}();var I=Object(r.useCallback)((function(e){j<e.updatedByHumanAt&&c(Object(Q.Bb)(d)),E<e.lyricsUpdatedAt&&c(Object(Q.lb)(d))}),[c,E,d,j]);return Object(Dy.a)({channelName:_,eventName:"song-updated",callback:I,disabled:!t}),o.a.createElement(op,{siteKey:Po.a.recaptchaV3SiteKey,scriptProps:{async:!0,defer:!0}},o.a.createElement(s.a,{songId:d},o.a.createElement(Fy.a,null),Po.a.solidarityText?o.a.createElement(My.a,null):t&&o.a.createElement(e.FeedbackBanner,{id:"top"},o.a.createElement("span",{role:"img","aria-label":"Construction sign emoji"},"🚧"),"  The new song page is a work in progress! We need your help to continue improving contributor features.",!!Po.a.reactSongPageSurveyUrl&&o.a.createElement(o.a.Fragment,null," ",o.a.createElement(e.FeedbackLink,{href:Po.a.reactSongPageSurveyUrl},"Take our survey"))," ",o.a.createElement("span",{role:"img","aria-label":"Construction sign emoji"},"🚧")),o.a.createElement(Ry.a,null),!n&&o.a.createElement(f.a,{name:"desktop_song_combined_leaderboard",bottomMargin:!0}),o.a.createElement(S,{songId:d}),o.a.createElement(e.Container,null,o.a.createElement(k.a,{songId:d}),o.a.createElement(Xb.a,{section:"lyrics"},t?o.a.createElement(Ja,{songId:d}):n?null:o.a.createElement(e.HeaderSpace,null),o.a.createElement(e.LyricsWrapper,{id:"annotation-portal-target"},w?!x&&o.a.createElement(gs,{reason:w,songId:d}):o.a.createElement(zh,{hide:x,data:p,songId:d}),o.a.createElement(ng,{hide:!x,data:p,songId:d})),!n&&o.a.createElement(rg.a,{name:"desktop_song_about_leaderboard"})),o.a.createElement(Xb.a,{section:"about"},o.a.createElement(ey,{songId:d}),o.a.createElement(rg.a,{name:n?"mobile_song_comments_leaderboard":"desktop_song_comments_leaderboard"})),o.a.createElement(Xb.a,{section:"comments"},o.a.createElement(sy,{songId:d})),n&&o.a.createElement(rg.a,{name:"mobile_song_footer"}),o.a.createElement(Ny,null)),o.a.createElement(e.PageFooter,{addPaddingForAppleMusicPlayer:C,isMobile:n})))},Vy=o.a.memo(By);By.Container=c.f.main.withConfig({displayName:"SongPage__Container",componentId:"sc-19xhmoi-0"})([""]),By.FeedbackLink=c.f.a.withConfig({displayName:"SongPage__FeedbackLink",componentId:"sc-19xhmoi-1"})(["color:",";text-decoration:underline;"],(function(e){return e.theme.color.accent.on})),By.FeedbackBanner=c.f.p.withConfig({displayName:"SongPage__FeedbackBanner",componentId:"sc-19xhmoi-2"})(["background-color:",";text-align:center;color:",";font-weight:",";font-size:",";padding:",";"],(function(e){return e.theme.color.accent.main}),(function(e){return e.theme.color.accent.on}),(function(e){return e.theme.fontWeight.light}),(function(e){return e.theme.fontSize.smallReading}),(function(e){return e.theme.space.full})),By.HeaderSpace=c.f.p.withConfig({displayName:"SongPage__HeaderSpace",componentId:"sc-19xhmoi-3"})(["height:",";"],(function(e){return e.theme.space.xLarge})),By.LyricsWrapper=c.f.div.withConfig({displayName:"SongPage__LyricsWrapper",componentId:"sc-19xhmoi-4"})(["position:relative;"]),By.PageFooter=Object(c.f)(Ly.a).withConfig({displayName:"SongPage__PageFooter",componentId:"sc-19xhmoi-5"})(["",""],(function(e){return e.addPaddingForAppleMusicPlayer&&"\n    padding-bottom: ".concat(e.isMobile?"7rem":e.theme.space.xxxLarge,";\n  ")}));var Hy=Vy,qy=n(112),Wy=n(247),Uy=n(229),$y=["community","updated_by_human_at"];function Qy(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function Gy(e,t,n,r,o,a,i){try{var c=e[a](i),l=c.value}catch(e){return void n(e)}c.done?t(l):Promise.resolve(l).then(r,o)}function Yy(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){Gy(a,r,o,i,c,"next",e)}function c(e){Gy(a,r,o,i,c,"throw",e)}i(void 0)}))}}var Ky=function(){var e=Yy(z.a.mark((function e(t){var n;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Wn.d)("/referents/".concat(t));case 2:return n=e.sent,e.abrupt("return",Object(Un.p)(n.referent,Un.t));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Zy=function(){var e=Yy(z.a.mark((function e(t,n){var r,o,a,i,c,l;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object(O.r)(n),o=r.community,a=r.updated_by_human_at,i=Qy(r,$y),e.next=3,Object(Wn.e)("/songs/".concat(t,"/referents"),{community:o,referent:i,song:{id:t,updated_by_human_at:a}});case 3:return c=e.sent,l=c.referent,e.abrupt("return",Object(Un.p)(l,Un.t));case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Xy=function(){var e=Yy(z.a.mark((function e(t,n){var r,o;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Wn.f)("/annotations/".concat(t),{annotation:Object(O.r)(n)});case 2:return r=e.sent,o=r.annotation,e.abrupt("return",Object(Un.p)(o,Un.b));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Jy=function(){var e=Yy(z.a.mark((function e(t){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Wn.c)("/annotations/".concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ev=function(){var e=Yy(z.a.mark((function e(t){var n;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Wn.d)("/annotations/".concat(t,"/versions"));case 2:return n=e.sent,e.abrupt("return",Object(Un.p)(n,{versions:[Un.z]}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),tv=function(){var e=Yy(z.a.mark((function e(t,n){var r,o;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Wn.e)("/annotations/".concat(t,"/edits"),{annotation:Object(O.r)(n)});case 2:return r=e.sent,o=r.annotation_edit,e.abrupt("return",Object(Un.p)(o,Un.a));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),nv=function(){var e=Yy(z.a.mark((function e(t){var n;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Wn.e)("/annotations/".concat(t,"/accept"));case 2:return n=e.sent,e.abrupt("return",Object(Un.p)(n,Un.o));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),rv=function(){var e=Yy(z.a.mark((function e(t,n){var r,o,a;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.body,o=n.reason,e.next=3,Object(Wn.e)("/annotations/".concat(t,"/reject"),{annotation_id:t,comment:{body:r,reason:o}});case 3:return a=e.sent,e.abrupt("return",Object(Un.p)(a,Un.o));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),ov=function(){var e=Yy(z.a.mark((function e(t){var n,r;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Wn.d)("/annotations/".concat(t,"/edits"));case 2:return n=e.sent,r=n.annotation_edits,e.abrupt("return",Object(Un.p)(r,[Un.a]));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),av=function(){var e=Yy(z.a.mark((function e(t,n){var r,o;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Wn.e)("/annotation_edits/".concat(n,"/").concat(t));case 2:return r=e.sent,o=r.annotation_edit,e.abrupt("return",Object(Un.p)(o,Un.a));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),iv=function(){var e=Yy(z.a.mark((function e(t,n){var r;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Wn.f)("/annotations/".concat(t,"/version"),{version_id:n});case 2:return r=e.sent,e.abrupt("return",Object(Un.p)(r,{annotation:Un.b,referent:Un.t}));case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),cv=n(523),lv=n.n(cv),uv=n(524),sv=n.n(uv),fv=n(671),dv=n.n(fv),pv=n(525),mv=n.n(pv),hv=n(526),gv=n.n(hv),bv=n(527),yv=n.n(bv),vv=n(198),Ov=n.n(vv);function wv(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,a=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){c=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(c)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return _v(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _v(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _v(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function jv(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ev(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?jv(Object(n),!0).forEach((function(t){Cv(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jv(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Cv(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var xv=function(e){return function(t,n){return Object(hi.a)(t,(function(t){return e(t,n)}))}},Iv=xv((function(e,t){var n=t.vote,r=e.currentUserMetadata.interactions.vote,o=n===r?null:n,a=e.votesTotal+("up"===r&&"down"===n||"down"===r&&"up"===n?2:1)*("up"===r||null===r&&"down"===n?-1:1);e.currentUserMetadata.interactions.vote=o,e.votesTotal=a})),Sv=xv((function(e,t){var n=t.referentId;e.body=function e(t){var r,o;return(null==t||null===(r=t.data)||void 0===r?void 0:r.id)===String(n)?{tag:"span",children:t.children}:null!=t&&null!==(o=t.children)&&void 0!==o&&o.length?Ev(Ev({},t),{},{children:t.children.map(e)}):t}(e.body)})),kv=xv((function(e){e.currentUserMetadata.interactions.pyong=!0,e.pyongsCount=(e.pyongsCount||0)+1})),Av=xv((function(e,t){e.state={pin:"pinned",unpin:"pending",archive:"archived"}[t.state]})),Tv=xv((function(e,t){var n=t.questionId,r=t.state,o=function(e){return e===n};"pin"===r?(e.pinnedQuestions.includes(n)||(e.pinnedQuestions=e.pinnedQuestions.concat(n)),e.pendingQuestions=Ov()(e.pendingQuestions,o)):"unpin"===r?(e.pinnedQuestions=Ov()(e.pinnedQuestions,o),e.pendingQuestions.includes(n)||(e.pendingQuestions=e.pendingQuestions.concat(n))):"archive"===r&&(e.pinnedQuestions=Ov()(e.pinnedQuestions,o),e.pendingQuestions=Ov()(e.pendingQuestions,o))})),Pv=xv((function(e,t){var n,r=t.questions,o=t.direction;"up"===o?n=mv()(sv()((function(t){return t.pinOrder&&t.pinOrder<e.pinOrder})),lv()("pinOrder"),dv.a,gv()(2),yv()((function(e){return[e[1],e[0]]})))(r):"down"===o&&(n=mv()(sv()((function(t){return t.pinOrder&&t.pinOrder>e.pinOrder})),lv()("pinOrder"),gv()(2),yv()((function(e){return[e[0],e[1]]})))(r));var a=wv(n,2),i=a[0],c=a[1];Nv(e,i,c)})),Nv=function(e,t,n){var r;t&&n?r=(t.pinOrder+n.pinOrder)/2:n?r=n.pinOrder/2:t&&(r=t.pinOrder+1),e.pinOrder=r},Mv=["songId"],Rv=["annotationId","proposeEdit","shouldShowEditProposals"];function Lv(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Dv(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Fv(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var zv=Object(Uy.a)({type:Ns.y,process:function(e,t,n){var r=e.getState,o=e.action,a=o.baseAnnotation,i=o.fragment,c=r().songPage,l=c.cumulativeAnnotationsOpened,u=c.song;t(Object(g.T)("song:open_annotation",{annotation_id:a,annotatable_id:u,annotatable_type:"Song",cumulative_annotations_opened:l})),history.pushState({fragment:i,baseAnnotation:a},"","".concat(a).concat(window.location.search)),Ky(a).then((function(e){return t(Object(Ns.kb)(e))})).catch((function(e){vh.a.notify(e),t(Object(Ns.jb)(a))})).then((function(){return n()}))}}),Bv=Object(Uy.a)({type:Nf,process:function(e,t,n){var r=e.action.annotationId;ev(r).then((function(e){return t(function(e,t){var n=t.entities,r=t.result;return{type:Rf,annotationId:e,entities:n,result:r}}(r,e))})).catch((function(e){vh.a.notify(e),t(function(e){return{type:Lf,annotationId:e}}(r))})).then((function(){return n()}))}}),Vv=Object(Uy.a)({type:Ns.t,process:function(e,t,n){var r=e.getState,o=e.action,a=o.baseAnnotation,i=o.fragment,c=r().songPage,l=c.cumulativeAnnotationsOpened,u=c.song;t(Object(g.T)("song:open_annotation_from_permalink",{annotation_id:a,annotatable_id:u,annotatable_type:"Song",cumulative_annotations_opened:l}));var s=new URLSearchParams(window.location.search);s.delete("referent_id"),history.replaceState({fragment:i,baseAnnotation:a},"","".concat(a,"?").concat(s)),Ky(a).then((function(e){return t(Object(Ns.kb)(e))})).catch((function(e){vh.a.notify(e),t(Object(Ns.jb)(a))})).then((function(){return n()}))}}),Hv=Object(Uy.a)({type:Ns.e,process:function(e){var t=(0,e.getState)().songPage.path;history.pushState({},"","".concat(t).concat(window.location.search))}}),qv=Object(Uy.a)({type:Ns.A,process:function(e,t,n){var r=e.getState,o=e.action.baseAnnotation,a=r().songPage,i=a.cumulativeAnnotationsOpened,c=a.song;o&&t(Object(g.T)("song:open_annotation_via_navigation",{annotation_id:o,annotatable_id:c,annotatable_type:"Song",cumulative_annotations_opened:i})),n()}}),Wv=Object(Uy.a)({type:Ns.x,process:function(e,t,n){var r=e.getState,o=e.action,a=o.payload,i=o.meta,c=r().entities.songs,l=a.songId,u=Fv(a,Mv),s=c[l].updatedByHumanAt;Zy(l,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Lv(Object(n),!0).forEach((function(t){Dv(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Lv(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({updatedByHumanAt:s},u)).then((function(e){t(Ns.ib.created(e)),t(Object(Ns.M)({annotationId:e.entities.referents[e.result].annotations[0],referentId:e.result})),t(Object(Q.lb)(l))})).then((function(){var e;return null===(e=i.onSuccess)||void 0===e?void 0:e.call(i)})).catch((function(e){var n;vh.a.notify(e),t(Ns.ib.created(e)),t(Object(Ns.L)()),t(Object(D.c)({status:"error",message:null!==(n=e.errors)&&void 0!==n&&n.length?e.errors[0]:e.message}))})).then((function(){return n()}))}}),Uv=[zv,Hv,Vv,qv,Bv,Wv,Object(Uy.a)({type:Ns.q,process:function(e,t,n){var r=e.action,o=r.payload,a=r.meta,i=o.annotationId,c=o.proposeEdit,l=o.shouldShowEditProposals,u=void 0===l||l,s=Fv(o,Rv),f=c?tv:Xy,d=c?Ns.Q:Ns.Y;f(i,s).then((function(e){t(d.updated(e)),t(Object(Ns.X)({annotationId:i,proposeEdit:c})),c&&u&&t(Object(Ns.S)(i,{visible:!0})),t(Object(Ns.Z)(i))})).then((function(){var e;return null===(e=a.onSuccess)||void 0===e?void 0:e.call(a)})).catch((function(e){var n;vh.a.notify(e),t(d.updated(e)),null===(n=a.onError)||void 0===n||n.call(a,e)})).finally(n)}}),Object(Uy.a)({name:"deleteAnnotationLogic",type:[Ns.i,Ns.j],process:function(e,t,n){var r=e.getState,o=e.action,a=o.type,i=o.payload,c=r(),l=c.entities,u=l.annotations,s=l.referents,f=c.songPage.lyricsData,d=i.annotationId,p=i.beingCreated,m=void 0!==p&&p,h=i.proposeEdit,b=u[d].referentId,y=s[b].songId,v=m||a===Ns.i;a===Ns.j&&t(m?Object(g.T)("song:annotation_create_cancelled"):h?Object(g.T)("song:annotation_proposal_cancelled",{annotation_id:d}):Object(g.T)("song:annotation_edit_cancelled",{annotation_id:d})),v?(t(Object(Q.V)(Sv(f,{referentId:b}))),Jy(d).then((function(){t(Ns.Y.removed(d)),t(Object(Ns.J)({id:d,closeMethod:"annotation_deleted"})),t(Object(Q.lb)(y))})).catch((function(e){vh.a.notify(e),t(Object(Q.W)(f)),t(Ns.Y.removed(e))})).finally(n)):n()}}),Object(Uy.a)({type:Ns.b,process:function(e,t,n){var r=e.action,o=r.annotationId,a=r.onSuccess,i=r.onError;nv(o).then((function(e){a(),t(Object(Ns.H)(o,e)),t(Object(D.c)({status:"success",message:yc.a.t("annotations.moderation.accept_success")}))})).catch((function(e){vh.a.notify(e),i(e)})).finally(n)}}),Object(Uy.a)({type:Ns.C,process:function(e,t,n){var r=e.getState,o=e.action,a=o.annotationId,i=o.body,c=o.reason,l=o.onSuccess,u=o.onError,s=r().songPage.song;rv(a,{body:i,reason:c}).then((function(e){l(),t(Object(Ns.nb)(a,e)),t(Object(D.c)({status:"success",message:yc.a.t("annotations.moderation.reject_success")})),t(Object(Ns.J)({id:a,closeMethod:"annotation_rejected"})),t(Object(Q.lb)(s))})).catch((function(e){vh.a.notify(e),u(e)})).finally(n)}}),Object(Uy.a)({type:Ns.m,process:function(e,t,n){var r=e.action.payload;ov(r).then((function(e){return t(Object(Ns.U)(r,e))})).catch((function(e){vh.a.notify(e),t(Object(Ns.T)(r,{message:e.message}))})).finally(n)}}),Object(Uy.a)({type:Ns.c,process:function(e,t,n){var r=e.action.payload;av("merge",r.editId).then((function(e){var n=e.result,o=e.entities;r.onSuccess(),t(Object(Ns.R)(r.editId,{result:n,entities:o,annotationId:r.annotationId})),t(Object(Ns.I)(r.editId,{annotationId:r.annotationId})),t(Object(D.c)({status:"success",message:yc.a.t("annotations.moderation.proposal_accept_success")}))})).catch((function(e){return r.onError(e)})).finally(n)}}),Object(Uy.a)({type:Ns.D,process:function(e,t,n){var r=e.action.payload;av("reject",r.editId).then((function(e){var n=e.result,o=e.entities;r.onSuccess(),t(Object(Ns.R)(r.editId,{result:n,entities:o,annotationId:r.annotationId})),t(Object(D.c)({status:"success",message:yc.a.t("annotations.moderation.proposal_reject_success")}))})).catch((function(e){return r.onError(e)})).finally(n)}}),Object(Uy.a)({type:Ns.u,process:function(e,t,n){var r=e.action,o=r.payload,a=r.meta;iv(o.annotationId,o.versionId).then((function(e){t(Ns.Y.updated(e)),t(Ns.ib.updated(e))})).then((function(){t(Object(Ns.cb)()),a.onSuccess()})).catch((function(e){t(Object(Ns.bb)()),vh.a.notify(e),a.onError(e)})).finally(n)}})],$v="songPage/COVER_ART_COLOR_EXTRACTED",Qv=n(673),Gv=n.n(Qv),Yv=Object(Uy.a)({type:Q.D,process:function(e,t,n){var r=e.getState,o=e.action.songId,a=fr()(r(),"entities.songs.".concat(o)),i=a.songArtImageUrl,c=a.songArtPrimaryColor,l=a.songArtSecondaryColor,u=a.songArtTextColor;c&&l&&u?n():Gv()({minTimeout:200,factor:1.75,retries:5},(function(e){return Object(wc.a)(i).then((function(e){return t(function(e,t){return{type:$v,songId:e,coverArtColors:t}}(o,e))})).catch((function(t){t.message.includes("Fail to load image")?e(t):vh.a.notify(t)}))})).catch((function(e){return t(function(e){return{type:"songPage/COVER_ART_COLOR_EXTRACTION_FAILED",songId:e}}(o))})).then((function(){return n()}))}});function Kv(e,t,n,r,o,a,i){try{var c=e[a](i),l=c.value}catch(e){return void n(e)}c.done?t(l):Promise.resolve(l).then(r,o)}function Zv(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){Kv(a,r,o,i,c,"next",e)}function c(e){Kv(a,r,o,i,c,"throw",e)}i(void 0)}))}}var Xv=function(){var e=Zv(z.a.mark((function e(t,n,r){var o,a,i,c,l;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=r.page,a=void 0===o?1:o,i=r.perPage,c=void 0===i?10:i,e.next=3,Object(Wn.d)("/".concat(t,"/").concat(n,"/comments"),{page:a,per_page:c});case 3:return l=e.sent,e.abrupt("return",Object(Un.p)(l,Un.h));case 5:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),Jv=function(){var e=Zv(z.a.mark((function e(t,n,r){var o,a,i,c,l,u,s,f;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=r.userId,a=r.body,i=r.reason,c=r.name,l=r.email,u={reason:i,body:a,name:c,email:l},o||(u.anonymous_user={name:c}),e.next=5,Object(Wn.e)("/".concat(t,"/").concat(n,"/comments"),{comment:u});case 5:return s=e.sent,f=s.comment,e.abrupt("return",Object(Un.p)(f,Un.g));case 8:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),eO=function(){var e=Zv(z.a.mark((function e(t,n){var r,o;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Wn.f)("/comments/".concat(t,"/change_state"),{state_event:n});case 2:return r=e.sent,o=r.comment,e.abrupt("return",Object(Un.p)(o,Un.g));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),tO=[Object(Uy.a)({type:jp,process:function(e,t,n){var r=e.action.songId;Xv("songs",r,{page:1}).then((function(e){t(kp(r,e)),t(xp())})).catch((function(e){vh.a.notify(e),t(Tp(r))})).then((function(){return n()}))}}),Object(Uy.a)({type:Ip,process:function(e,t,n){var r=e.getState,o=e.action.songId,a=r().songPage.commentsNextPage;Xv("songs",o,{page:a||1}).then((function(e){return t(kp(o,e))})).catch((function(e){vh.a.notify(e),t(Tp(o))})).then((function(){return n()}))}}),Object(Uy.a)({type:Pp,process:function(e,t,n){var r=e.getState,o=e.action,a=o.songId,i=o.body,c=o.name,l=o.email,u=o.meta,s=r(),f=Boolean(s.session.currentUser);Jv("songs",a,f?{body:i}:{body:i,name:c,email:l}).then((function(e){t(function(e){var t=e.result,n=e.entities;return{type:Mp,result:t,entities:n}}(e))})).then((function(){return u.onSuccess()})).catch((function(e){vh.a.notify(e),u.onError(e)})).then(n)}}),Object(Uy.a)({type:Rp,process:function(e,t,n){var r,o=e.action,a=o.commentId,i=o.meta;return(r=a,Object(Wn.b)("/comments/".concat(r))).then((function(){return t(function(e){return{type:Dp,commentId:e}}(a))})).then((function(){return i.onSuccess()})).catch((function(e){vh.a.notify(e),i.onError(e)})).then(n)}}),Object(Uy.a)({type:Fp,process:function(e,t,n){var r=e.action,o=r.commentId,a=r.meta;return eO(o,"mark_spam").then((function(){return t(function(e){return{type:Bp,commentId:e}}(o))})).then((function(){return a.onSuccess()})).catch((function(e){vh.a.notify(e),a.onError(e)})).then(n)}})];function nO(e,t,n,r,o,a,i){try{var c=e[a](i),l=c.value}catch(e){return void n(e)}c.done?t(l):Promise.resolve(l).then(r,o)}function rO(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){nO(a,r,o,i,c,"next",e)}function c(e){nO(a,r,o,i,c,"throw",e)}i(void 0)}))}}var oO=function(){var e=rO(z.a.mark((function e(t,n){var r;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Wn.d)("/".concat(t,"/").concat(n,"/contributors"));case 2:return r=e.sent,e.abrupt("return",Object(Un.p)(r,Un.i));case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),aO=function(){var e=rO(z.a.mark((function e(t,n,r){var o,a,i;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=r.page,a=void 0===o?1:o,e.next=3,Object(Wn.d)("/".concat(t,"/").concat(n,"/iq_earners"),{page:a});case 3:return i=e.sent,e.abrupt("return",Object(Un.p)(i,Un.i));case 5:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),iO=[Object(Uy.a)({type:zy.c,process:function(e,t,n){var r=e.action.songId;oO("songs",r,{page:1}).then((function(e){return t(Object(zy.h)(r,e))})).catch((function(e){vh.a.notify(e),t(Object(zy.g)(r))})).then((function(){return n()}))}}),Object(Uy.a)({type:zy.d,process:function(e,t,n){var r=e.getState,o=e.action.songId,a=r().songPage.iqEarnersNextPage;aO("songs",o,{page:a||1}).then((function(e){return t(Object(zy.l)(o,e))})).catch((function(e){vh.a.notify(e),t(Object(zy.k)(o))})).then((function(){return n()}))}})];function cO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function lO(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?cO(Object(n),!0).forEach((function(t){uO(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cO(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function uO(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function sO(e,t,n,r,o,a,i){try{var c=e[a](i),l=c.value}catch(e){return void n(e)}c.done?t(l):Promise.resolve(l).then(r,o)}function fO(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){sO(a,r,o,i,c,"next",e)}function c(e){sO(a,r,o,i,c,"throw",e)}i(void 0)}))}}var dO=function(){var e=fO(z.a.mark((function e(t,n,r){var o,a,i;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=r.state,a=r.page,e.next=3,Object(Wn.d)("/questions",uO({page:a,state:o},"".concat(t,"_id"),n));case 3:return i=e.sent,e.abrupt("return",Object(Un.p)(i,{questions:[Un.s]}));case 5:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),pO=function(){var e=fO(z.a.mark((function e(t){var n,r;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Wn.e)("/questions",{song_id:t.song_id,question:lO(lO({},t),{},{text_format:"plain"})});case 2:return n=e.sent,r=n.question,e.abrupt("return",Object(Un.p)(r,Un.s));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),mO=function(){var e=fO(z.a.mark((function e(t,n){var r,o;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Wn.f)("/questions/".concat(t),{question:{body:n}});case 2:return r=e.sent,o=r.question,e.abrupt("return",Object(Un.p)(o,Un.s));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),hO=function(){var e=fO(z.a.mark((function e(t,n){var r,o;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Wn.f)("/questions/".concat(t,"/change_state"),{state_event:n});case 2:return r=e.sent,o=r.question,e.abrupt("return",Object(Un.p)(o,Un.s));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),gO=function(){var e=fO(z.a.mark((function e(t,n){var r,o;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Wn.f)("/questions/".concat(t,"/move"),{direction:n});case 2:return r=e.sent,o=r.question,e.abrupt("return",Object(Un.p)(o,Un.s));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),bO=[Object(Uy.a)({type:wg,process:function(e,t,n){var r=e.getState,o=e.action,a=o.songId,i=o.state,c=r().songPage.pendingQuestionsNextPage;dO("song",a,{state:i,page:void 0===c?1:c}).then((function(e){t(Og.fetched(e)),t(function(e){var t=e.result,n=e.entities;return{type:_g,result:t,entities:n}}(e))})).catch((function(){return t(function(e){return{type:jg,songId:e}}(a))})).finally(n)}}),Object(Uy.a)({type:Eg,process:function(e,t,n){var r=e.action,o=r.payload,a=r.meta,i=o.song_id;pO(o).then((function(e){t(Og.created(e)),t(function(e,t){var n=t.result,r=t.entities;return{type:xg,songId:e,result:n,entities:r}}(i,e))})).then((function(){return a.onSuccess()})).catch((function(e){vh.a.notify(e),a.onError(e)})).finally(n)}}),Object(Uy.a)({type:Pg,process:function(e,t,n){var r=e.action,o=r.payload,a=r.meta;mO(o.questionId,o.body).then((function(e){return t(Og.updated(e))})).then((function(){return a.onSuccess()})).catch((function(e){vh.a.notify(e),a.onError(e)})).finally(n)}}),Object(Uy.a)({type:Ig,process:function(e,t,n){var r=e.getState,o=e.action,a=o.questionId,i=o.state,c=fr()(r(),["entities","questions",a]);t(Og.optimisticUpdated(Av(c,{state:i})));var l=fr()(r(),"songPage"),u=l.pendingQuestions,s=void 0===u?[]:u,f=l.pinnedQuestions,d=void 0===f?[]:f;t(kg(Tv({pendingQuestions:s,pinnedQuestions:d},{questionId:a,state:i}))),hO(a,i).then((function(e){return t(Og.updated(e))})).catch((function(e){t(Og.revertOptimisticUpdated(c)),t(kg({pendingQuestions:s,pinnedQuestions:d})),vh.a.notify(e)})).finally(n)}}),Object(Uy.a)({type:Ag,process:function(e,t,n){var r=e.getState,o=e.action,a=o.questionId,i=o.direction,c=r(),l=c.songPage.pinnedQuestions,u=void 0===l?[]:l,s=c.entities,f=u.map((function(e){return fr()(s,["questions",e])})),d=fr()(s,["questions",a]);t(Og.optimisticUpdated(Pv(d,{questions:f,direction:i}))),gO(a,i).then((function(e){return t(Og.updated(e))})).catch((function(e){t(Og.revertOptimisticUpdated(d)),vh.a.notify(e)})).finally(n)}})];function yO(e,t,n,r,o,a,i){try{var c=e[a](i),l=c.value}catch(e){return void n(e)}c.done?t(l):Promise.resolve(l).then(r,o)}function vO(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){yO(a,r,o,i,c,"next",e)}function c(e){yO(a,r,o,i,c,"throw",e)}i(void 0)}))}}var OO=function(e){return{answer:{answer_source:e.add_source?{artist_name:e.artist_name,source_name:e.source_name,source_url:e.source_url}:null,body:{markdown:e.markdown},pin_question:e.pin_question}}},wO=function(){var e=vO(z.a.mark((function e(t,n){var r;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Wn.e)("/questions/".concat(t,"/answers"),OO(n));case 2:return r=e.sent,e.abrupt("return",Object(Un.p)(r,{answer:Un.c,question:Un.s}));case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),_O=function(){var e=vO(z.a.mark((function e(t,n){var r;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Wn.f)("/answers/".concat(t),OO(n));case 2:return r=e.sent,e.abrupt("return",Object(Un.p)(r,{answer:Un.c,question:Un.s}));case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),jO=function(){var e=vO(z.a.mark((function e(t){var n;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Wn.c)("/answers/".concat(t));case 2:return n=e.sent,e.abrupt("return",Object(Un.p)(n,{answer:Un.c,question:Un.s}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),EO=["question_id"],CO=["question_id","answer_id"];function xO(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var IO=[Object(Uy.a)({type:Kg,process:function(e,t,n){var r=e.getState,o=e.action,a=o.payload,i=o.meta,c=a.question_id,l=xO(a,EO);wO(c,l).then((function(e){if(a.pin_question){var n=fr()(r(),"songPage"),o=n.pendingQuestions,i=void 0===o?[]:o,l=n.pinnedQuestions;t(kg(Tv({pendingQuestions:i,pinnedQuestions:void 0===l?[]:l},{questionId:c,state:"pin"})))}t(Yg.created(e))})).then((function(){return i.onSuccess()})).catch((function(e){vh.a.notify(e),i.onError(e)})).finally(n)}}),Object(Uy.a)({type:Xg,process:function(e,t,n){var r=e.getState,o=e.action,a=o.payload,i=o.meta,c=a.question_id,l=a.answer_id,u=xO(a,CO);_O(l,u).then((function(e){var n=fr()(r(),"songPage"),o=n.pendingQuestions,i=void 0===o?[]:o,l=n.pinnedQuestions;t(kg(Tv({pendingQuestions:i,pinnedQuestions:void 0===l?[]:l},{questionId:c,state:a.pin_question?"pin":"unpin"}))),t(Yg.updated(e))})).then((function(){return i.onSuccess()})).catch((function(e){vh.a.notify(e),i.onError(e)})).finally(n)}}),Object(Uy.a)({type:eb,process:function(e,t,n){var r=e.action,o=r.answerId,a=r.meta;jO(o).then((function(e){return t(Og.updated(e))})).then((function(){return a.onSuccess()})).catch((function(e){a.onError(e),vh.a.notify(e)})).finally(n)}})],SO=[Object(Uy.a)({type:$d,process:function(e,t,n){var r=e.action,o=r.reportableType,a=r.reportableId,i=r.params;(function(e,t,n){var r=n.reason,o=n.details,a=n.recaptchaToken;return Object(Wn.e)("/".concat(e,"/").concat(t,"/report_as_abusive"),{reason:r,details:o,recaptcha_token:a})})(o,a,i).then((function(){t(function(e,t){return{type:Gd,reportableType:e,reportableId:t}}(o,a)),t(Xd(o,a)),t(Object(g.T)("song:report_abuse_submission",{reportable_type:o,reportable_id:a}))})).catch((function(){return t(function(e,t){return{type:Yd,reportableType:e,reportableId:t}}(o,a))})).finally(n)}}),Object(Uy.a)({type:Kd,process:function(e,t,n){var r=e.action,o=r.reportableType,a=r.reportableId;t(Object(g.T)("song:show_report_abuse_form",{reportable_type:o,reportable_id:a})),n()}})],kO=[Object(Uy.a)({type:up,process:function(e,t,n){var r=e.getState,o=e.action.annotationId,a=r().entities.annotations;Xv("annotations",o,{page:a[o].nextPage||1}).then((function(e){return t(function(e,t){var n=t.result,r=t.entities;return{type:sp,annotationId:e,result:n,entities:r}}(o,e))})).catch((function(e){vh.a.notify(e),t(function(e){return{type:fp,annotationId:e}}(o))})).then((function(){return n()}))}}),Object(Uy.a)({type:dp,process:function(e,t,n){var r=e.action,o=r.annotationId,a=r.body,i=r.reason,c=r.name,l=r.email,u=r.userId,s=r.onSuccess,f=r.onError;Jv("annotations",o,{userId:u,body:a,reason:i,name:c,email:l}).then((function(e){t(function(e,t){var n=t.result,r=t.entities;return{type:pp,annotationId:e,result:n,entities:r}}(o,e)),t(Object(D.c)({status:"success",message:yc.a.t("annotations.suggestion.save_success")})),s()})).catch((function(e){vh.a.notify(e),f(e)})).then(n)}}),Object(Uy.a)({type:mp,process:function(e,t,n){var r=e.getState,o=e.action,a=o.commentId,i=o.annotationId,c=o.moderationType,l=o.onSuccess,u=o.onError,s=r().entities.comments[a].body;eO(a,c).then((function(e){l(),t(function(e,t){var n=t.result,r=t.entities;return{type:hp,annotationId:e,result:n,entities:r}}(i,e)),"integrate"===c&&t(Object(Ns.K)(i,{integration:s}))})).catch((function(e){vh.a.notify(e),u(e)})).then(n)}})],AO=n(672),TO=n.n(AO);function PO(e,t,n,r,o,a,i){try{var c=e[a](i),l=c.value}catch(e){return void n(e)}c.done?t(l):Promise.resolve(l).then(r,o)}var NO=Object(Uy.a)({type:Q.n,process:function(e,t,n){var r,o=e.getState,a=e.action,i=a.songId,c=a.hideFormAfterSubmit,l=o(),u=l.songPage,s=u.lyricsEdit,f=u.lyricsData,d=l.entities.songs[i],p=d.updatedByHumanAt,m=d.lyricsUpdatedAt,h=d.isMusic,b=Dc(f.body.html,s.markdown,{isMusic:h});if(b.length)return t(Object(g.T)("song:lyrics_edit_error",{type:"client"})),t(Object(Q.Y)(i,{errors:b})),void n();try{r=Ic(kc(s.markdown,s.attrHash))}catch(e){return t(Object(Q.Y)(i,{message:e.humanReadableMessage||yc.a.t("lyrics.save_error")})),void n()}Object(Xn.m)(i,{html:r,updatedByHumanAt:p,lyricsUpdatedAt:m}).then((function(e){var n=e.entities,r=e.result,o=r.currentUserMetadata,a=r.lyricsData;t(Ns.ib.updated({entities:n})),t(Object(Q.gb)(i,a,o)),t(Object(D.c)({status:"success",message:yc.a.t("lyrics.save_success")})),c&&t(Object(Q.fb)())})).catch(function(){var e,n=(e=z.a.mark((function e(n){var r;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:409===n.status?t(Object(Q.lb)(i,{forceRefresh:!0})):(vh.a.notify(n),r=n instanceof Wn.a?n.message:yc.a.t("lyrics.unexpected_error"),t(Object(g.T)("song:lyrics_edit_error",{type:"server"})),t(Object(Q.Y)(i,{message:r})));case 1:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){PO(a,r,o,i,c,"next",e)}function c(e){PO(a,r,o,i,c,"throw",e)}i(void 0)}))});return function(e){return n.apply(this,arguments)}}()).finally(n)}}),MO=[NO,Object(Uy.a)({type:Q.s,process:function(e,t,n){var r=e.action.songId;Object(Xn.e)(r).then((function(e){var n=e.body,o=e.version;t(Object(Q.ib)(r,{lyrics:n,version:o}))})).catch((function(e){t(Object(Q.hb)(r,{message:e.message,blockEdit:!0}))})).finally(n)}}),Object(Uy.a)({type:Q.k,process:function(e,t,n){var r=e.getState,o=e.action.songId,a=r(),i=a.songPage.lyricsEdit,c=a.entities.songs[o].version;Object(Xn.b)(o,{editedLyrics:i.plain,version:c}).then((function(){t(Object(Q.cb)(o)),t(Object(Q.fb)({revertContext:Ba})),t(Object(D.c)({status:"success",message:yc.a.t("lyrics.edit_proposed")}))})).catch((function(e){t(Object(Q.Z)(o,{message:e.message}))})).finally(n)}}),Object(Uy.a)({type:Q.o,process:function(e,t,n){var r=e.getState,o=e.action,a=o.context,i=o.revertContext,c=r().songPage.lyricsData;if(a&&t(Object(g.T)("song:lyrics_edit_opened")),i){var l=i===Ba?{plain:c.body.plain}:Sc(Ic(c.body.html));t(Object(Q.db)(l))}n()}}),Object(Uy.a)({type:Q.t,process:function(e,t,n){var r=e.getState,o=e.action,a=o.songId,i=o.forceRefresh,c=r().songPage,l=c.lyricsData,u=c.lyricsEditContext;c.submittingLyricsEdit&&!i||Object(Xn.d)(a).then((function(e){var n=e.entities,r=e.result;t(Ns.ib.updated({entities:n})),t(Object(Q.gb)(a,r)),u&&r.body.html!==l.body.html&&(t(Object(g.T)("song:lyrics_edit_error",{type:"stale"})),t(Object(Q.Y)(a,{message:yc.a.t("lyrics.editing_stale"),blockEdit:!0})))})).catch((function(){return Object(Q.kb)(a)})).finally(n)}}),Object(Uy.a)({type:Q.w,process:function(e,t,n){var r=e.action.songId;Object(Xn.f)(r).then((function(e){return t(Object(Q.nb)(r,e))})).catch((function(e){return t(Object(Q.mb)(r,{message:e.message}))})).finally(n)}}),Object(Uy.a)({type:Q.a,process:function(e,t,n){var r,o=e.getState,a=e.action,i=a.lyricsEditId,c=a.isLast,l=a.lyricsEdit,u=a.patched,s=o(),f=s.songPage.song,d=s.entities.songs[f],p=d.updatedByHumanAt,m=d.lyricsUpdatedAt,h=TO()({},l,{markdown:u});try{r=Ic(kc(h.markdown,h.attrHash))}catch(e){return t(Object(Q.sb)(i,{message:e.humanReadableMessage||yc.a.t("lyrics.save_error")})),void n()}Object(Xn.m)(f,{html:r,updatedByHumanAt:p,lyricsUpdatedAt:m,lyricsEditId:i}).then((function(e){var n=e.entities,r=e.result,o=r.currentUserMetadata,a=r.lyricsData;t(Object(g.T)("song:accept_lyrics_edit_proposal",{lyricsEditId:i})),t(Ns.ib.updated({entities:n})),t(Object(Q.ab)(i,{state:"accepted",hideLyricsEditProposals:c,lyricsData:a,currentUserMetadata:o,songId:f})),t(Object(D.c)({status:"success",message:yc.a.t("lyrics.accepted_edit_proposal")}))})).catch((function(e){return t(Object(Q.sb)(i,e.message))})).finally(n)}}),Object(Uy.a)({type:Q.z,process:function(e,t,n){var r=e.action,o=r.lyricsEditId,a=r.isLast;Object(Xn.l)(o).then((function(){t(Object(g.T)("song:reject_lyrics_edit_proposal",{lyricsEditId:o})),t(Object(Q.ab)(o,{state:"rejected",hideLyricsEditProposals:a})),t(Object(D.c)({status:"error",message:yc.a.t("lyrics.rejected_edit_proposal")}))})).catch((function(e){return t(Object(Q.sb)(o,e.message))})).finally(n)}}),Object(Uy.a)({type:Q.A,process:function(e,t,n){t(e.action.isVisible?Object(g.T)("song:resolve_proposed_edits_opened"):Object(g.T)("song:resolve_proposed_edits_closed")),n()}}),Object(Uy.a)({type:Q.x,process:function(e,t,n){var r=e.action,o=r.payload.songId,a=r.meta;Object(Xn.g)(o).then((function(e){return t(Object(Q.qb)(o,e))})).catch(a.onError).finally((function(){a.onDone(),n()}))}})],RO=n(24),LO=n.n(RO),DO=n(892),FO=[Object(Uy.a)({type:Q.H,process:function(e,t,n){var r=e.getState,o=e.action.songId,a=r().entities.songs[o].updatedByHumanAt;Object(Xn.j)(o).then((function(e){t(Object(Q.Db)(o,e)),t(Object(Q.wb)(o)),e.entities.songs[o].updatedByHumanAt>a&&t(Object(Q.Cb)(o))})).catch((function(){return t(Object(Q.Ab)(o))})).finally(n)}}),Object(Uy.a)({type:Q.b,process:function(e,t,n){var r=e.action,o=r.payload,a=r.meta,i=o.songId,c=o.action,l=o.data,u=void 0===l?{}:l,s=o.showErrorInToast,f=void 0===s||s,d=a.onSuccess,p=void 0===d?LO.a:d,m=a.onDone,h=void 0===m?LO.a:m,g=a.onError,b=void 0===g?LO.a:g;Object(Xn.k)(i,c,u).then((function(e){t(Q.vb.updated(e)),p()})).catch((function(e){b(e),f&&t(Object(D.c)({status:"error",message:e.message})),vh.a.notify(e)})).finally((function(){h(),n()}))}}),Object(Uy.a)({type:Q.C,process:function(e,t,n){var r=e.action,o=r.payload,a=r.meta;Object(Xn.c)(o.songId).then((function(){t(Object(D.c)({status:"success",message:yc.a.t("song.deleted")})),a.onSuccess()})).catch((function(e){t(Object(D.c)({status:"error",message:e.message})),vh.a.notify(e)})).finally(n)}}),Object(Uy.a)({type:Q.G,process:function(e,t,n){var r=e.action.songId;Object(Xn.h)(r).then((function(e){var n=e.result,o=e.entities;t(Object(Q.yb)(r,{result:n,entities:o}))})).catch((function(e){t(Object(Q.xb)(r)),vh.a.notify(e)})).finally(n)}}),Object(Uy.a)({type:Q.Q,process:function(e,t,n){Object(DO.b)({perPage:3}).then((function(e){t(Object(Q.Jb)(e))})).catch((function(e){t(Object(Q.Ib)()),vh.a.notify(e)})).finally(n)}})];function zO(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function BO(e,t,n,r,o,a,i){try{var c=e[a](i),l=c.value}catch(e){return void n(e)}c.done?t(l):Promise.resolve(l).then(r,o)}function VO(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){BO(a,r,o,i,c,"next",e)}function c(e){BO(a,r,o,i,c,"throw",e)}i(void 0)}))}}var HO=function(){var e=VO(z.a.mark((function e(t,n,r){var o;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Wn.e)("/votes",zO({direction:r||"middle"},"".concat(t,"_id"),n));case 2:return o=e.sent,e.abrupt("return",Object(Un.p)(o,Un.B));case 4:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),qO=function(){var e=VO(z.a.mark((function e(t,n){var r;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Wn.d)("/voters",zO({},"".concat(t,"_id"),n));case 2:return r=e.sent,e.abrupt("return",Object(Un.p)(r,Un.C));case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),WO=function(){var e=VO(z.a.mark((function e(t){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Wn.b)("/votes",{annotation_id:t});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),UO=Object(Uy.a)({type:Nd,process:function(e,t,n){var r=e.getState,o=e.action,a=o.payload,i=a.entityType,c=a.entityId,l=a.vote,u=o.meta,s=Object(vg.b)(i),f=fr()(r(),["entities",i,c],{});t(s.optimisticUpdated(Iv(f,{vote:l}))),HO(Object(wc.d)(i),c,l).then((function(e){return t(s.updated(e))})).then((function(){var e;return null===(e=u.onSuccess)||void 0===e?void 0:e.call(u)})).catch((function(e){var n;null===(n=u.onError)||void 0===n||n.call(u),t(s.revertOptimisticUpdated(f)),vh.a.notify(e)})).finally(n)}}),$O=[Object(Uy.a)({type:Md,process:function(e,t,n){var r=e.action,o=r.entityType,a=r.entityId;qO(Object(wc.d)(o),a).then((function(e){return t(function(e,t,n,r){return{type:Rd,entityType:e,entityId:t,entities:n,voters:r}}(o,a,e.entities,e.result.voters))})).catch((function(e){return vh.a.notify(e)})).finally(n)}}),UO,Object(Uy.a)({type:Ld,process:function(e,t,n){var r=e.action.annotationId;WO(r).then((function(e){return t(function(e){return{type:Dd,annotationId:e}}(r))})).catch((function(e){return vh.a.notify(e)})).finally(n)}})],QO=[Object(Uy.a)({type:ta,process:function(e,t,n){var r=e.action.payload,o=r.chartType,a=r.id;Object(DO.c)({chartType:o,id:a}).then((function(e){return t(function(e){var t=e.chartType,n=e.id,r=e.excluded;return{type:na,payload:{chartType:t,id:n,excluded:r}}}({chartType:o,id:a,excluded:e.excluded}))})).catch((function(e){return t({type:"songPage/CHART_ITEM_STATE_FAILED",payload:{chartType:(n={chartType:o,id:a,error:e.message}).chartType,id:n.id,error:n.error}});var n})).finally((function(){r.onDone(),n()}))}}),Object(Uy.a)({type:ra,process:function(e,t,n){var r=e.getState,o=e.action,a=o.payload,i=o.meta,c=a.chartType,l=a.id;(r().entities[c][l].chartItemExcluded?DO.d:DO.a)({chartType:c,id:l}).then((function(e){return t(function(e){var t=e.result,n=e.entities;return{type:oa,payload:{result:t,entities:n}}}(e))})).catch((function(e){return t({type:"songPage/CHART_ITEM_STATE_TOGGLE_FAILED",payload:{chartType:(n={chartType:c,id:l,error:e.message}).chartType,id:n.id,error:n.error}});var n})).finally((function(){i.onDone(),n()}))}})],GO=n(609);function YO(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function KO(e,t,n,r,o,a,i){try{var c=e[a](i),l=c.value}catch(e){return void n(e)}c.done?t(l):Promise.resolve(l).then(r,o)}function ZO(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){KO(a,r,o,i,c,"next",e)}function c(e){KO(a,r,o,i,c,"throw",e)}i(void 0)}))}}var XO=function(){var e=ZO(z.a.mark((function e(t){var n,r,o,a;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.pyongableType,o=t.pyongableId,e.next=3,Object(Wn.e)("/pyongs",(YO(n={},"".concat(r,"_id"),o),YO(n,"note_may_follow",!0),n));case 3:return a=e.sent,e.abrupt("return",Object(Un.p)(a,Un.r));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),JO=function(){var e=ZO(z.a.mark((function e(t){var n,r,o,a,i;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.pyongableType,o=t.pyongableId,a=t.pyongNote,e.next=3,Object(Wn.e)("/pyongs/finalize",(YO(n={},"".concat(r,"_id"),o),YO(n,"pyong_note",a),n));case 3:return i=e.sent,e.abrupt("return",Object(Un.p)(i,Un.r));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ew=[Object(Uy.a)({type:GO.a,process:function(e,t,n){var r=e.getState,o=e.action,a=o.payload,i=a.pyongableType,c=a.pyongableId,l=o.meta,u=Object(vg.b)("songs"),s=fr()(r(),["entities",i,c]);t(u.optimisticUpdated(kv(s))),l.optimisticOnSuccess(),XO({pyongableType:Object(wc.d)(i),pyongableId:c}).then((function(e){return t(u.updated(e))})).catch((function(e){t(u.revertOptimisticUpdated(s)),l.onError(e),vh.a.notify(e)})).finally(n)}}),Object(Uy.a)({type:GO.b,process:function(e,t,n){var r=e.action,o=r.payload,a=o.pyongableType,i=o.pyongableId,c=o.pyongNote,l=r.meta,u=Object(vg.b)("songs");JO({pyongableType:Object(wc.d)(a),pyongableId:i,pyongNote:c}).then((function(e){return t(u.updated(e))})).then((function(){return null==l?void 0:l.onSuccess()})).catch((function(e){l.onError(e),vh.a.notify(e)})).finally(n)}}),Object(Uy.a)({type:GO.c,process:function(e,t,n){var r=e.getState,o=e.action.payload,a=o.pyongableType,i=o.pyongableId,c=Object(vg.b)(a),l=fr()(r(),["entities",a,i]);t(c.optimisticUpdated(kv(l))),n()}})],tw=n(246),nw=n(380),rw=[Object(Uy.a)({type:nw.a,process:function(e,t,n){var r=e.action.artistId;Yn(r).then((function(e){t(nw.b.fetched(e))})).catch((function(e){vh.a.notify(e)})).finally(n)}})],ow=n(189);function aw(e,t,n,r,o,a,i){try{var c=e[a](i),l=c.value}catch(e){return void n(e)}c.done?t(l):Promise.resolve(l).then(r,o)}function iw(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){aw(a,r,o,i,c,"next",e)}function c(e){aw(a,r,o,i,c,"throw",e)}i(void 0)}))}}var cw=function(){var e=iw(z.a.mark((function e(t){var n;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Wn.d)("/users/".concat(t));case 2:return n=e.sent,e.abrupt("return",Object(Un.p)(n,{user:Un.y}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),lw=function(){var e=iw(z.a.mark((function e(t){var n;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Wn.e)("/users/".concat(t,"/follow"),{});case 2:return n=e.sent,e.abrupt("return",Object(Un.p)(n,{user:Un.y}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),uw=function(){var e=iw(z.a.mark((function e(t){var n;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Wn.e)("/users/".concat(t,"/unfollow"),{});case 2:return n=e.sent,e.abrupt("return",Object(Un.p)(n,{user:Un.y}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),sw=[Object(Uy.a)({type:ow.b,process:function(e,t,n){var r=e.action.userId;cw(r).then((function(e){t(ow.d.fetched(e))})).catch((function(e){vh.a.notify(e)})).finally(n)}}),Object(Uy.a)({type:ow.a,process:function(e,t,n){var r=e.action,o=r.userId,a=r.onDone;lw(o).then((function(e){t(ow.d.updated(e))})).catch((function(e){vh.a.notify(e)})).finally((function(){n(),a()}))}}),Object(Uy.a)({type:ow.c,process:function(e,t,n){var r=e.action,o=r.userId,a=r.onDone;uw(o).then((function(e){t(ow.d.updated(e))})).catch((function(e){vh.a.notify(e)})).finally((function(){n(),a()}))}})];function fw(e){return function(e){if(Array.isArray(e))return dw(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return dw(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return dw(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function dw(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var pw=Object(qy.a)([].concat(fw(Uv),fw(tO),fw(SO),fw(iO),fw(MO),fw(FO),fw(kO),[Yv],fw(bO),fw(IO),fw($O),fw(QO),fw(ew),fw(tw.a),fw(Wy.a),fw(rw),fw(sw))),mw=n(111),hw=n(38),gw=n.n(hw),bw=n(387),yw=n.n(bw);function vw(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,a=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){c=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(c)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Ow(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ow(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ow(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ww(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var _w=Object(hi.c)((function(e,t){if(t.type.startsWith("entity/")){var n=t.type.split("/"),r=n[1];if(t.error)return e;switch(n[2]){case vg.a.FETCHED:case vg.a.CREATED:case vg.a.UPDATED:Object(Sb.b)(e,t.payload.entities);break;case vg.a.REMOVED:Reflect.deleteProperty(e[r],t.payload);break;case vg.a.OPTIMISTIC_UPDATED:case vg.a.REVERT_OPTIMISTIC_UPDATED:Object(Sb.b)(e,ww({},r,ww({},String(t.payload.id),t.payload)));break;case vg.a.OPTIMISTIC_REMOVED:Reflect.deleteProperty(e[r],t.payload);break;case vg.a.REVERT_OPTIMISTIC_REMOVED:pc()(e,[r,String(t.payload.id)],t.payload);break;default:return e}}else switch(t.type){case Sp:case Mp:case Ns.B:case zy.a:case zy.e:case Rf:case Q.v:case Ns.d:case Ns.E:case Q.J:Object(Sb.b)(e,t.entities);break;case sp:Object(Sb.b)(e,t.entities);var o=e.annotations[t.annotationId],a=o.comments||[],i=t.result.comments.filter((function(e){return!a.includes(e)}));o.comments=a.concat(i),o.nextPage=t.result.nextPage,o.commentsLoading=!1;break;case up:e.annotations[t.annotationId].commentsLoading=!0;break;case fp:e.annotations[t.annotationId].commentsLoading=!1;break;case $v:e.songs[t.songId].coverArtColors=t.coverArtColors;break;case Wd:pc()(e,[t.reportableType,t.reportableId,"reportAsAbusiveSubmitting"],!0);break;case Gd:pc()(e,[t.reportableType,t.reportableId,"reportedAsAbusive"],!0),pc()(e,[t.reportableType,t.reportableId,"reportAsAbusiveSubmitting"],!1);break;case Yd:pc()(e,[t.reportableType,t.reportableId,"reportAsAbusiveFailed"],!0),pc()(e,[t.reportableType,t.reportableId,"reportAsAbusiveSubmitting"],!1);break;case Kd:pc()(e,[t.reportableType,t.reportableId,"showReportAbuseForm"],!0);break;case Zd:pc()(e,[t.reportableType,t.reportableId,"showReportAbuseForm"],!1);break;case Q.p:gw()(e,{songs:ww({},t.songId,t.lyricsData.clientTimestamps)}),pc()(e,["songs",t.songId,"lyricsPlaceholderReason"],t.lyricsData.lyricsPlaceholderReason),t.currentUserMetadata&&Object(Sb.b)(fr()(e,["songs",t.songId]),{currentUserMetadata:t.currentUserMetadata});break;case Q.r:pc()(e,["songs",t.songId,"version"],t.version);break;case ee.d:e.songs[t.songId]=e._prev.songs[t.songId],Reflect.deleteProperty(e._prev.songs,t.songId);break;case ee.b:var c=Object(hi.b)(e),l=Object(O.e)(t.data);if(l.primaryArtist&&l.primaryArtist.length>0){var u=l.primaryArtist[0].id;e.artists[u]=l.primaryArtist[0],l.primaryArtist=u}e._prev={songs:ww({},t.songId,wi()(c.songs[t.songId]))};for(var s=0,f=Object.entries(l);s<f.length;s++){var d=vw(f[s],2),p=d[0],m=d[1];e.songs[t.songId][p]=m}break;case ee.c:Object(Sb.b)(e,t.data.entities),Reflect.deleteProperty(e._prev.songs,t.songId);break;case Q.j:pc()(e,["lyricsEditProposals",t.lyricsEditId,"error"],null),pc()(e,["lyricsEditProposals",t.lyricsEditId,"state"],t.state),t.lyricsData&&t.songId&&gw()(e,{songs:ww({},t.songId,t.lyricsData.clientTimestamps)}),t.currentUserMetadata&&Object(Sb.b)(fr()(e,["songs",t.songId]),{currentUserMetadata:t.currentUserMetadata});break;case Q.B:pc()(e,["lyricsEditProposals",t.lyricsEditId,"error"],t.message);break;case pp:Object(Sb.b)(e,t.entities);var h=fr()(e,["annotations",t.annotationId]);h.comments=(h.comments||[]).concat([t.result]),h.commentCount=(h.commentCount||0)+1;break;case Dd:e.annotations[t.annotationId].voters={up:[],down:[]},e.annotations[t.annotationId].votesTotal=0,e.annotations[t.annotationId].currentUserMetadata.interactions.vote=null,e.annotations[t.annotationId].hasVoters=!1;break;case Md:e[t.entityType][t.entityId].loading=!0;break;case Rd:Object(Sb.b)(e,t.entities),e[t.entityType][t.entityId].voters=t.voters,e[t.entityType][t.entityId].loading=!1;break;case hp:Object(Sb.b)(e,t.entities),fr()(e,["annotations",t.annotationId]).commentCount-=1;break;case Ns.f:var g=fr()(e,["annotations",t.payload.annotationId]),b=t.payload.integration;if(b){var y=function(e,t){var n=wi()(e);return n.html=bc()([e.html,"PROPOSED SUGGESTION: ".concat(t.html)]).join("<br>"),n.markdown=bc()([e.markdown,"PROPOSED SUGGESTION: ".concat(t.markdown)]).join("\n\n"),n}(g.body,b);pc()(e,["annotations",t.payload.annotationId,"integratedBody"],y)}break;case Ns.s:pc()(e,["annotations",t.payload,"integratedBody"],null);break;case Ns.l:yw()(e,["annotations",t.payload.annotationId,"showProposals"],(function(e){return void 0!==t.payload.visible?t.payload.visible:!e}));break;case Ns.m:pc()(e,["annotations",t.payload,"loadingProposals"],!0);break;case Ns.n:pc()(e,["annotations",t.payload.annotationId,"loadingProposals"],!1);break;case Ns.o:Object(Sb.b)(e,t.payload.entities),pc()(e,["annotations",t.payload.annotationId,"loadingProposals"],!1);break;case Ns.p:var v=e.annotations[t.payload.annotationId];Object(Sb.b)(e,t.payload.entities),1===v.proposedEditCount&&pc()(e,["annotations",t.payload.annotationId,"showProposals"],!1),yw()(e,["annotations",t.payload.annotationId,"proposedEditCount"],(function(e){return void 0!==e?e-1:0}));break;case Ns.r:t.payload.proposeEdit&&yw()(e,["annotations",t.payload.annotationId,"proposedEditCount"],(function(e){return void 0!==e?e+1:0}));break;case Ns.a:var w=e.annotations[t.payload.annotationId],_=e.annotationEdits[t.payload.editId],j=wi()(_.annotationAfter);j.proposedEditCount=w.proposedEditCount;var E=Object(Un.p)(j,Un.b);Object(Sb.b)(e,E.entities);break;case na:pc()(e,[t.payload.chartType,t.payload.id,"chartItemExcluded"],t.payload.excluded);break;case oa:var C=t.payload.result.item;Object(Sb.b)(e,t.payload.entities),yw()(e,[C.schema,C.id,"chartItemExcluded"],(function(e){return!e}));break;case Q.G:e.songs[t.songId].recommendationsFetchStatus=J.c;break;case Q.E:var x=e.songs[t.songId];x.recommendationsFetchStatus=J.e,x.songRecommendations=t.result,Object(Sb.b)(e,t.entities);break;case Q.F:e.songs[t.songId].recommendationsFetchStatus=J.b;break;case Dp:case Bp:var I=e.comments[t.commentId],S=Object(wc.b)(I.commentableType.toLowerCase()),k=fr()(e,[S,I.commentableId],{});k.comments&&(k.comments=k.comments.filter((function(e){return e!==I.id}))),k.commentCount&&k.commentCount--,Reflect.deleteProperty(e.comments,t.commentId);break;case Q.O:Object(Sb.b)(e,t.entities);break;default:return e}})),jw=n(245),Ew=n(74),Cw=n.n(Ew),xw=n(372),Iw=n.n(xw);function Sw(e){return function(e){if(Array.isArray(e))return kw(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return kw(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return kw(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function kw(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Aw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Tw(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Aw(Object(n),!0).forEach((function(t){Pw(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Aw(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Pw(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Nw=Object(hi.c)((function(e,t){switch(t.type){case Ns.y:e.activeFragment=t.fragment,e.scrollToFragment=null,e.cumulativeAnnotationsOpened=e.cumulativeAnnotationsOpened+1||1;break;case Ns.A:e.activeFragment=t.fragment,e.scrollToFragment=t.fragment,e.cumulativeAnnotationsOpened=e.cumulativeAnnotationsOpened+1||1;break;case Ns.t:e.activeFragment=t.fragment,e.scrollToFragment=t.fragment,e.cumulativeAnnotationsOpened=1;break;case Ns.h:e.activeFragment="".concat(t.payload.referentId,":1"),e.scrollToFragment=null,e.cumulativeAnnotationsOpened=e.cumulativeAnnotationsOpened+1||1,e.editingAnnotationId=t.payload.annotationId,e.creatingAnnotation=!1;break;case Ns.g:e.editingAnnotationId=null,e.creatingAnnotation=!1;break;case Ns.r:e.editingAnnotationId=null;break;case Ns.k:e.editingAnnotationId=t.payload;break;case Ns.f:e.editingAnnotationId=t.payload.annotationId;break;case Ns.e:case Ns.i:e.activeFragment=null,e.scrollToFragment=null;break;case Ns.x:e.creatingAnnotation=!0;break;case Ns.j:e.editingAnnotationId=null;break;case Cp:e.initialCommentsLoaded=!0;break;case jp:case Ip:e.loadingComments=!0;break;case Sp:e.comments=(e.comments||[]).concat(t.result.comments),e.commentsNextPage=t.result.nextPage,e.loadingComments=!1;break;case Ap:e.loadingComments=!1;break;case Mp:e.comments=[t.result].concat(e.comments||[]);break;case Dp:case Bp:e.comments&&(e.comments=e.comments.filter((function(e){return e!==t.commentId})));break;case wg:e.loadingPendingQuestions=!0;break;case _g:var n=t.result,r=e.featuredQuestion,o=Ov()(n.questions,(function(e){return r&&r.id===e}));e.pendingQuestions=Iw()((e.pendingQuestions||[]).concat(o)),e.pendingQuestionCount-=n.questions.length,e.pendingQuestionsNextPage=n.nextPage,e.loadingPendingQuestions=!1;break;case jg:e.loadingPendingQuestions=!1;break;case xg:e.pendingQuestions=(e.pendingQuestions||[]).concat(t.result);break;case Sg:e.pinnedQuestions=t.pinnedQuestions,e.pendingQuestions=t.pendingQuestions;break;case Ns.z:e.hoveredOverReferent=t.baseAnnotationId;break;case Q.d:e.expandableContent=Tw(Tw({},e.expandableContent),{},Pw({},t.section,!0));break;case Q.c:e.expandableContent=Tw(Tw({},e.expandableContent),{},Pw({},t.section,!1));break;case zy.c:e.loadingContributors=!0,e.contributors={};break;case zy.a:e.contributors=t.result.contributors,e.loadingContributors=!1,e.iqEarnersNextPage=1,e.hasMoreIqEarners=t.result.contributors.iqEarners.length<t.result.contributors.iqEarnersTotal;break;case zy.b:e.loadingContributors=!1;break;case zy.d:e.loadingMoreIqEarners=!0;break;case zy.e:e.loadingMoreIqEarners=!1,e.iqEarnersNextPage++,Cw()(e.contributors,t.result.contributors,(function(e,t){return Array.isArray(e)?e.concat(t):void 0})),e.hasMoreIqEarners=e.contributors.iqEarners.length<t.result.contributors.iqEarnersTotal;break;case zy.f:e.loadingMoreIqEarners=!1;break;case Nf:e.loadingAnnotationEdits=!0,e.hideAnnotationModalControls=!0,e.annotationEdits=[];break;case Mf:e.hideAnnotationModalControls=!1;break;case Rf:e.annotationEdits=t.result.versions,e.loadingAnnotationEdits=!1;break;case Lf:e.loadingAnnotationEdits=!1;break;case Q.o:e.lyricsEditContext=t.context,e.lyricsEditErrors=[],e.lyricsEditBlocked=!1;break;case Q.r:e.lyricsEdit=gw()(e.lyricsEdit||{},t.lyrics),e.lyricsData=gw()(e.lyricsData,{body:t.lyrics}),e.submittingLyricsEdit=!1,e.lyricsEditErrors=[],e.lyricsEditBlocked=!1;break;case Q.m:e.lyricsEdit=Object.assign(e.lyricsEdit||{},t.lyrics);break;case Q.k:case Q.s:case Q.n:e.submittingLyricsEdit=!0,e.lyricsEditBlocked=!0;break;case Q.q:case Q.i:case Q.h:var a=[];t.message&&a.push(t.message),t.errors.length&&a.push.apply(a,Sw(t.errors)),e.lyricsEditErrors=a,e.submittingLyricsEdit=!1,e.lyricsEditBlocked=t.blockEdit;break;case Q.p:e.submittingLyricsEdit=!1,e.lyricsData=t.lyricsData,e.lyricsEditErrors=[],e.lyricsEditBlocked=!1;break;case Q.l:e.submittingLyricsEdit=!1,e.lyricsEditErrors=[],e.lyricsEditBlocked=!1;break;case Q.g:e.lyricsEditErrors=e.lyricsEditErrors.filter((function(e,n){return n!==t.index}));break;case Q.t:e.lyricsEditBlocked=!0;break;case Q.u:e.lyricsEditBlocked=!1;break;case Q.v:e.lyricsEditProposals=(e.lyricsEditProposals||[]).concat(t.result);break;case Q.A:e.resolveLyricsEditProposalsVisible=t.isVisible;break;case Q.z:case Q.a:e.resolvingLyricsEditProposal=!0;break;case Q.B:e.resolvingLyricsEditProposal=!1;break;case Q.j:e.resolvingLyricsEditProposal=!1,t.lyricsData&&(e.lyricsData=t.lyricsData),t.hideLyricsEditProposals&&(e.resolveLyricsEditProposalsVisible=!1);break;case Q.e:case Q.f:e.lyricsData=t.payload;break;case Q.y:e.lyricsExportPreview=t.payload.lyrics;break;case Ns.u:e.loadingRevertAnnotation=!0;break;case Ns.w:case Ns.v:e.loadingRevertAnnotation=!1;break;case Q.N:e.isTranscriptionPlayerVisible=!e.isTranscriptionPlayerVisible;break;case Q.Q:e.fetchingTrendingSongs=J.c;break;case Q.O:e.fetchingTrendingSongs=J.e,e.trendingSongsSection=t.result;break;case Q.P:e.fetchingTrendingSongs=J.b;break;case Q.M:e.forceShowContributorSidebar=!e.forceShowContributorSidebar;break;case Q.K:e.attributionsForEntity||(e.attributionsForEntity={}),e.attributionsForEntity[t.entity]||(e.attributionsForEntity[t.entity]={}),e.attributionsForEntity[t.entity][t.id]=t.visible;break;case Q.L:e.isContributionsModalVisible=t.visible;break;default:return e}})),Mw=Object(mw.a)({entities:_w,songMetadata:jw.a,songPage:Nw}),Rw=n(110);Object(Rw.a)("song",o.a.createElement(Hy,null),Mw,pw)},,,,,,,function(e,t,n){"use strict";var r=n(5),o=n.n(r),a=n(0),i=n.n(a),c=(n(3),n(1)),l=n(59),u=n(226),s=n.n(u),f=n(44),d=n.n(f),p=n(96),m=n(228),h=n(908),g=n(915),b=n(259),y=["onToggleClick","onClick","isOpen"];function v(){return v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},v.apply(this,arguments)}function O(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var w=Object(a.forwardRef)((function(e,t){var n=e.onToggleClick,r=e.onClick,o=e.isOpen,c=O(e,y),l=Object(p.a)().t,u=Object(a.useCallback)((function(e){r(e),n&&n(!o)}),[o,r,n]);return i.a.createElement(b.a,v({},c,{onClick:u,textDecoration:"underline"}),i.a.createElement(w.Text,null,l(o?"date_input.hide":"date_input.show")))}));w.displayName="CalendarToggle";var _=w;function j(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,a=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){c=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(c)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return E(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return E(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function E(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function C(e,t,n,r,o,a,i){try{var c=e[a](i),l=c.value}catch(e){return void n(e)}c.done?t(l):Promise.resolve(l).then(r,o)}function x(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){C(a,r,o,i,c,"next",e)}function c(e){C(a,r,o,i,c,"throw",e)}i(void 0)}))}}w.Text=c.f.span.withConfig({displayName:"CalendarToggle__Text",componentId:"muk8p0-0"})(["white-space:nowrap;"]);var I=[1,3,5,7,8,10,12],S=[4,6,9,11],k=function(e,t){var n;if(I.includes(e))n=31;else if(S.includes(e))n=30;else{n=1===new l.Date(t,1,29).getMonth()?29:28}return n},A=d()(x(o.a.mark((function e(){var t,r,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([n.e(8).then(n.bind(null,1103)),n.e(7).then(n.t.bind(null,1104,7))]);case 2:return t=e.sent,r=j(t,2),a=r[1],e.abrupt("return",a);case 6:case"end":return e.stop()}}),e)})))),T=function e(t){var n=t.onChange,r=t.disabled,o=t.initialMonth,c=t.initialDay,u=t.initialYear,f=t.onCalendarToggleClick,d=t.clearable,g=t.minimumYear,b=t.noCalendar,y=t.className,v=t.customStyles,O=(new l.Date).getFullYear(),w=O+1,E=Object(p.a)().t,C=Object(m.a)(),x=j(Object(a.useState)(null),2),I=x[0],S=x[1],T=!b,P=Object(a.useCallback)((function(e){return E("date_input.months.".concat(e))}),[E]),N=j(Object(a.useState)(new l.Date),2),M=N[0],R=N[1],L=j(Object(a.useState)(o),2),D=L[0],F=L[1],z=j(Object(a.useState)(c),2),B=z[0],V=z[1],H=j(Object(a.useState)(u),2),q=H[0],W=H[1],U=j(Object(a.useState)(k((new l.Date).getMonth()+1,(new l.Date).getFullYear())),2),$=U[0],Q=U[1],G=j(Object(a.useState)(!1),2),Y=G[0],K=G[1],Z=Object(a.useCallback)((function(e){return n(e)}),[n]);Object(a.useEffect)((function(){T&&!I&&A().then((function(e){S((function(){return e.default}))}))}),[T,I]),Object(a.useEffect)((function(){var e=k(Number(D),q);Q(e)}),[D,q]),Object(a.useEffect)((function(){B||D||q||R(new l.Date)}),[B,D,q]);var X=s()(1,13).map((function(e){return{label:P(e),value:e}})),J=s()(1,$+1).map((function(e){return{label:e,value:e}})),ee=s()(w,g,-1).map((function(e){return{label:e,value:e}})),te=Object(a.useCallback)((function(e){R(e),W(e.getFullYear()),F(e.getMonth()+1),V(e.getDate()),K(!1)}),[]),ne=Object(a.useCallback)((function(e){V(null===e?null:e.value)}),[]),re=Object(a.useCallback)((function(e){F(null===e?null:e.value)}),[]),oe=Object(a.useCallback)((function(e){W(null===e?null:e.value)}),[]);Object(a.useEffect)((function(){Z({month:D,day:B,year:q}),R(new l.Date(null!=q?q:O,(null!=D?D:1)-1,null!=B?B:1))}),[Z,B,D,q,O]);var ae=Object(a.useCallback)((function(){var e=!Y;K(e),f&&f(e)}),[f,Y]),ie=Object(h.a)("clearSidebarContributorMetadataForm");return Object(a.useEffect)((function(){var e=function(){V(null),F(null),W(null)};return ie.subscribe(e),function(){ie.unsubscribe(e)}}),[ie]),i.a.createElement(e.Root,{isMobile:C,className:y},i.a.createElement(e.SelectInput,{isClearable:d,placeholder:E("date_input.month"),"aria-label":"Month Dropdown",isMobile:C,options:X,value:null===D?null:X[D-1],onChange:re,disabled:r,customStyles:v}),i.a.createElement(e.SelectInput,{isClearable:d,placeholder:E("date_input.day"),"aria-label":"Day Dropdown",isMobile:C,options:J,value:B?J[B-1]:null,onChange:ne,disabled:r,customStyles:v}),i.a.createElement(e.SelectInput,{isClearable:d,placeholder:E("date_input.year"),"aria-label":"Year Dropdown",isMobile:C,options:ee,value:q?ee[w-q]:null,onChange:oe,disabled:r,customStyles:v}),b?null:I?r?null:i.a.createElement(I,{onClickOutside:function(){return K(!1)},open:Y,selected:M,onChange:function(e){return te(e)},popperPlacement:"bottom-end",popperModifiers:[{name:"offset",options:{offset:[5,10]}}],customInput:i.a.createElement(_,{onToggleClick:ae,isOpen:Y})}):i.a.createElement("div",null,E("date_input.loading")))};T.defaultProps={disabled:!1,initialMonth:null,initialDay:null,initialYear:null,clearable:!0,minimumYear:0,noCalendar:!1},T.displayName="DateInput";t.a=i.a.memo(T);T.Root=c.f.div.withConfig({displayName:"DateInput__Root",componentId:"sc-108ivhk-0"})([""," .react-datepicker-wrapper{","}"],(function(e){return!e.isMobile&&"\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n  "}),(function(e){return e.isMobile?"text-align: center;":"flex: 0;"})),T.SelectInput=Object(c.f)((function(e){return i.a.createElement(g.a,e)})).withConfig({displayName:"DateInput__SelectInput",componentId:"sc-108ivhk-1"})(["flex:1;"," &:not(:last-child){","}",""],(function(e){return e.isMobile?"width: 100%;":""}),(function(e){return e.isMobile?"margin-bottom: ".concat(e.theme.space.half,";"):"margin-right: ".concat(e.theme.space.full,";")}),(function(e){return e.disabled&&"&:last-of-type {\n    margin-right: 0;\n  }"}))}]);